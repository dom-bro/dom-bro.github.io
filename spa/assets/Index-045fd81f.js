import{_ as f,y as h,v as u,o as _,c as d,g as x,w,x as r,t as T,L as I}from"../main.js";import{T as P}from"./index-d1b92e96.js";import"./useConfigInject-64b7b171.js";import"./index-7e0f7233.js";import"./index-530bf57a.js";import"./omit-8f673a04.js";import"./index-99998ff4.js";const v=[{ts_code:"sh513120",name:"513120港股创新药36",listing_date:"20220712",sumProfitTarget:.6},{ts_code:"sz159892",name:"159892恒生医药50",listing_date:"20211019",sumProfitTarget:.84},{ts_code:"sz159567",name:"159567港股创新药35",listing_date:"20240111",sumProfitTarget:.92},{ts_code:"sz159570",name:"159570港股创新药35",listing_date:"20240122",sumProfitTarget:1.14},{ts_code:"sz159506",name:"159506恒生医疗40",listing_date:"20230703",ignore:"数据太差",sumProfitTarget:1.54},{ts_code:"sh513200",name:"513200恒生医药50",listing_date:"20220211",sumProfitTarget:.84},{ts_code:"sh513700",name:"513700恒生医药50",listing_date:"20210806",sumProfitTarget:.52},{ts_code:"sh513780",name:"513780港股创新药",listing_date:"20241025",sumProfitTarget:.7},{ts_code:"sh520500",name:"520500恒生创新药",listing_date:"20241227"},{ts_code:"sh520700",name:"520700港股创新药",listing_date:"20241014"},{ts_code:"sz159217",name:"159217港股通创新药",listing_date:"20250403"},{ts_code:"sz159316",name:"159316恒生创新药",listing_date:"20250326"},{ts_code:"sz159615",name:"159615恒生生物科技",listing_date:"20220628",sumProfitTarget:1.02},{ts_code:"sz159718",name:"159718恒生医药",listing_date:"20211228",ignore:"各项数据等同513200"}];const z={class:"table-container"},b={key:0},y={__name:"Index",setup(C){const{calc_pct_chg:l,calc_percent:k,toFixed:p,fixFloat:m,sum:q}=window.SecretWeapon,o=h(v);fetch(`https://web.sqt.gtimg.cn/q=${o.map(e=>e.ts_code).join(",")}`).then(e=>e.text()).then(e=>{const i={};e.split(`
`).filter(Boolean).forEach(t=>{const[n,a]=t.split("="),s=a.split("~"),c={close:+s[3],open:+s[5]||+s[3],raw:s};i[n.split("_").slice(-1)[0]]=c}),o.forEach(t=>{Object.assign(t,i[t.ts_code]),t.stop_profit_price=Math.ceil(t.open*(1+(t.sumProfitTarget||.8)/100)*1e3)/1e3,t.profit_pct_chg=l(t.stop_profit_price,t.open),t.profit_change=m(t.stop_profit_price-t.open)*1e3}),console.log("dataa",{result:i,targetList:u(o)})});const g=[{title:"code",dataIndex:"ts_code",width:60},{title:"open",dataIndex:"open",align:"right",width:66},{title:"止",dataIndex:"stop_profit_price",align:"right",width:66},{title:"厘",dataIndex:"profit_change",align:"right",width:50},{title:"盈",dataIndex:"profit_pct_chg",align:"right",width:66},{}];return(e,i)=>(_(),d("div",z,[x(r(P),{"data-source":o,showSorterTooltip:!1,columns:g,pagination:!1},{bodyCell:w(({column:t,record:n,text:a,value:s,index:c})=>[["open","close","stop_profit_price","profit_pct_chg"].includes(t.dataIndex)?(_(),d("div",b,T(r(p)(a,3)),1)):I("",!0)]),_:1},8,["data-source"])]))}},V=f(y,[["__scopeId","data-v-204d9af7"]]);export{V as default};
