import{f as ED,k as kD,l as OD,n as zD,o as er,c as tr,_ as BD,y as ND,F as Gn,a as Vg,x as fr,I as VD,d as HD,J as qD,t as Os,$ as GD,L as FD,g as $D}from"../main.js";var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AA={},ye={};typeof window<"u"||typeof Hg<"u"&&Hg.__DEV__;var Hr={},UD=2311;function WD(){return UD++}var TA=WD,Xi={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?Xi={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?Xi={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?Xi={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:Xi=YD(navigator.userAgent);var ZD=Xi;function YD(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1]),s&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var nt=ZD,W={},CA={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},MA={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},hn=Object.prototype.toString,cn=Array.prototype,XD=cn.forEach,KD=cn.filter,tn=cn.slice,QD=cn.map,jD=cn.reduce,cd={};function JD(e,t){e==="createCanvas"&&(Ao=null),cd[e]=t}function Xa(e){if(e==null||typeof e!="object")return e;var t=e,r=hn.call(e);if(r==="[object Array]"){if(!Ka(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=Xa(e[a])}}else if(MA[r]){if(!Ka(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=Xa(e[a])}}}else if(!CA[r]&&!Ka(e)&&!zo(e)){t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=Xa(e[s]))}return t}function fd(e,t,r){if(!Ki(t)||!Ki(e))return r?Xa(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],o=t[a];Ki(o)&&Ki(i)&&!Oo(o)&&!Oo(i)&&!zo(o)&&!zo(i)&&!Sf(o)&&!Sf(i)&&!Ka(o)&&!Ka(i)?fd(i,o,r):(r||!(a in e))&&(e[a]=Xa(t[a]))}return e}function eL(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=fd(r,e[a],t);return r}function tL(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function DA(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var LA=function(){return cd.createCanvas()};cd.createCanvas=function(){return document.createElement("canvas")};var Ao;function rL(){return Ao||(Ao=LA().getContext("2d")),Ao}function aL(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function iL(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function nL(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,DA(e,t,r)}function oL(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function IA(e,t,r){if(e&&t)if(e.forEach&&e.forEach===XD)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function sL(e,t,r){if(e&&t){if(e.map&&e.map===QD)return e.map(t,r);for(var a=[],i=0,o=e.length;i<o;i++)a.push(t.call(r,e[i],i,e));return a}}function lL(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===jD)return e.reduce(t,r,a);for(var i=0,o=e.length;i<o;i++)r=t.call(a,r,e[i],i,e);return r}}function uL(e,t,r){if(e&&t){if(e.filter&&e.filter===KD)return e.filter(t,r);for(var a=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function vL(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function PA(e,t){var r=tn.call(arguments,2);return function(){return e.apply(t,r.concat(tn.call(arguments)))}}function hL(e){var t=tn.call(arguments,1);return function(){return e.apply(this,t.concat(tn.call(arguments)))}}function Oo(e){return hn.call(e)==="[object Array]"}function cL(e){return typeof e=="function"}function fL(e){return hn.call(e)==="[object String]"}function Ki(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Sf(e){return!!CA[hn.call(e)]}function dL(e){return!!MA[hn.call(e)]}function zo(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function gL(e){return e!==e}function pL(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function mL(e,t){return e??t}function yL(e,t,r){return e??t??r}function _L(){return Function.call.apply(tn,arguments)}function xL(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function SL(e,t){if(!e)throw new Error(t)}function bL(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var RA="__ec_primitive__";function wL(e){e[RA]=!0}function Ka(e){return e[RA]}function Bo(e){var t=Oo(e);this.data={};var r=this;e instanceof Bo?e.each(a):e&&IA(e,a);function a(i,o){t?r.set(i,o):r.set(o,i)}}Bo.prototype={constructor:Bo,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=PA(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function AL(e){return new Bo(e)}function TL(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function CL(){}W.$override=JD;W.clone=Xa;W.merge=fd;W.mergeAll=eL;W.extend=tL;W.defaults=DA;W.createCanvas=LA;W.getContext=rL;W.indexOf=aL;W.inherits=iL;W.mixin=nL;W.isArrayLike=oL;W.each=IA;W.map=sL;W.reduce=lL;W.filter=uL;W.find=vL;W.bind=PA;W.curry=hL;W.isArray=Oo;W.isFunction=cL;W.isString=fL;W.isObject=Ki;W.isBuiltInObject=Sf;W.isTypedArray=dL;W.isDom=zo;W.eqNaN=gL;W.retrieve=pL;W.retrieve2=mL;W.retrieve3=yL;W.slice=_L;W.normalizeCssArray=xL;W.assert=SL;W.trim=bL;W.setAsPrimitive=wL;W.isPrimitive=Ka;W.createHashMap=AL;W.concatArray=TL;W.noop=CL;var $e={},qg;function Ye(){if(qg)return $e;qg=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(C,M){var D=new e(2);return C==null&&(C=0),M==null&&(M=0),D[0]=C,D[1]=M,D}function r(C,M){return C[0]=M[0],C[1]=M[1],C}function a(C){var M=new e(2);return M[0]=C[0],M[1]=C[1],M}function i(C,M,D){return C[0]=M,C[1]=D,C}function o(C,M,D){return C[0]=M[0]+D[0],C[1]=M[1]+D[1],C}function s(C,M,D,L){return C[0]=M[0]+D[0]*L,C[1]=M[1]+D[1]*L,C}function p(C,M,D){return C[0]=M[0]-D[0],C[1]=M[1]-D[1],C}function n(C){return Math.sqrt(u(C))}var h=n;function u(C){return C[0]*C[0]+C[1]*C[1]}var v=u;function l(C,M,D){return C[0]=M[0]*D[0],C[1]=M[1]*D[1],C}function f(C,M,D){return C[0]=M[0]/D[0],C[1]=M[1]/D[1],C}function d(C,M){return C[0]*M[0]+C[1]*M[1]}function m(C,M,D){return C[0]=M[0]*D,C[1]=M[1]*D,C}function c(C,M){var D=n(M);return D===0?(C[0]=0,C[1]=0):(C[0]=M[0]/D,C[1]=M[1]/D),C}function g(C,M){return Math.sqrt((C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1]))}var y=g;function _(C,M){return(C[0]-M[0])*(C[0]-M[0])+(C[1]-M[1])*(C[1]-M[1])}var A=_;function b(C,M){return C[0]=-M[0],C[1]=-M[1],C}function w(C,M,D,L){return C[0]=M[0]+L*(D[0]-M[0]),C[1]=M[1]+L*(D[1]-M[1]),C}function x(C,M,D){var L=M[0],I=M[1];return C[0]=D[0]*L+D[2]*I+D[4],C[1]=D[1]*L+D[3]*I+D[5],C}function S(C,M,D){return C[0]=Math.min(M[0],D[0]),C[1]=Math.min(M[1],D[1]),C}function T(C,M,D){return C[0]=Math.max(M[0],D[0]),C[1]=Math.max(M[1],D[1]),C}return $e.create=t,$e.copy=r,$e.clone=a,$e.set=i,$e.add=o,$e.scaleAndAdd=s,$e.sub=p,$e.len=n,$e.length=h,$e.lenSquare=u,$e.lengthSquare=v,$e.mul=l,$e.div=f,$e.dot=d,$e.scale=m,$e.normalize=c,$e.distance=g,$e.dist=y,$e.distanceSquare=_,$e.distSquare=A,$e.negate=b,$e.lerp=w,$e.applyTransform=x,$e.min=S,$e.max=T,$e}function bf(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}bf.prototype={constructor:bf,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(za(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,t.drift(i,o,e),this.dispatchToElement(za(t,e),"drag",e.event);var s=this.findHover(r,a,t).target,p=this._dropTarget;this._dropTarget=s,t!==s&&(p&&s!==p&&this.dispatchToElement(za(p,e),"dragleave",e.event),s&&s!==p&&this.dispatchToElement(za(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(za(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(za(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function za(e,t){return{target:e,topTarget:t&&t.topTarget}}var ML=bf,DL=ML,Gg=Array.prototype.slice,wf=function(e){this._$handlers={},this._$eventProcessor=e};wf.prototype={constructor:wf,one:function(e,t,r,a){return Fg(this,e,t,r,a,!0)},on:function(e,t,r,a){return Fg(this,e,t,r,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,o=r[e].length;i<o;i++)r[e][i].h!==t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>3&&(a=Gg.call(a,1));for(var o=t.length,s=0;s<o;){var p=t[s];if(r&&r.filter&&p.query!=null&&!r.filter(e,p.query)){s++;continue}switch(i){case 1:p.h.call(p.ctx);break;case 2:p.h.call(p.ctx,a[1]);break;case 3:p.h.call(p.ctx,a[1],a[2]);break;default:p.h.apply(p.ctx,a);break}p.one?(t.splice(s,1),o--):s++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>4&&(a=Gg.call(a,1,a.length-1));for(var o=a[a.length-1],s=t.length,p=0;p<s;){var n=t[p];if(r&&r.filter&&n.query!=null&&!r.filter(e,n.query)){p++;continue}switch(i){case 1:n.h.call(o);break;case 2:n.h.call(o,a[1]);break;case 3:n.h.call(o,a[1],a[2]);break;default:n.h.apply(o,a);break}n.one?(t.splice(p,1),s--):p++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function LL(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function Fg(e,t,r,a,i,o){var s=e._$handlers;if(typeof r=="function"&&(i=a,a=r,r=null),!a||!t)return e;r=LL(e,r),s[t]||(s[t]=[]);for(var p=0;p<s[t].length;p++)if(s[t][p].h===a)return e;var n={h:a,one:o,query:r,ctx:i||e,callAtLast:a.zrEventfulCallAtLast},h=s[t].length-1,u=s[t][h];return u&&u.callAtLast?s[t].splice(h,0,n):s[t].push(n),e}var IL=wf,Aa=IL,ht={},fn={},EA={},PL=Math.log(2);function Af(e,t,r,a,i,o){var s=a+"-"+i,p=e.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var n=Math.round(Math.log((1<<p)-1&~i)/PL);return e[r][n]}for(var h=a|1<<r,u=r+1;a&1<<u;)u++;for(var v=0,l=0,f=0;l<p;l++){var d=1<<l;d&i||(v+=(f%2?-1:1)*e[r][l]*Af(e,t-1,u,h,i|d,o),f++)}return o[s]=v,v}function RL(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},i=Af(r,8,0,0,0,a);if(i!==0){for(var o=[],s=0;s<8;s++)for(var p=0;p<8;p++)o[p]==null&&(o[p]=0),o[p]+=((s+p)%2?-1:1)*Af(r,7,s===0?1:0,1<<s,1<<p,a)/i*t[s];return function(n,h,u){var v=h*o[6]+u*o[7]+1;n[0]=(h*o[0]+u*o[1]+o[2])/v,n[1]=(h*o[3]+u*o[4]+o[5])/v}}}EA.buildTransformer=RL;var EL=nt,kL=EA,$g=kL.buildTransformer,Ug="___zrEVENTSAVED",zs=[];function OL(e,t,r,a,i){return Tf(zs,t,a,i,!0)&&Tf(e,r,zs[0],zs[1])}function Tf(e,t,r,a,i){if(t.getBoundingClientRect&&EL.domSupported&&!kA(t)){var o=t[Ug]||(t[Ug]={}),s=zL(t,o),p=BL(s,o,i);if(p)return p(e,r,a),!0}return!1}function zL(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var a=["left","right"],i=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),p=s.style,n=o%2,h=(o>>1)%2;p.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[n]+":0",i[h]+":0",a[1-n]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function BL(e,t,r){for(var a=r?"invTrans":"trans",i=t[a],o=t.srcCoords,s=!0,p=[],n=[],h=0;h<4;h++){var u=e[h].getBoundingClientRect(),v=2*h,l=u.left,f=u.top;p.push(l,f),s=s&&o&&l===o[v]&&f===o[v+1],n.push(e[h].offsetLeft,e[h].offsetTop)}return s&&i?i:(t.srcCoords=p,t[a]=r?$g(n,p):$g(p,n))}function kA(e){return e.nodeName.toUpperCase()==="CANVAS"}fn.transformLocalCoord=OL;fn.transformCoordWithViewport=Tf;fn.isCanvasEl=kA;var NL=Aa;ht.Dispatcher=NL;var Cf=nt,OA=fn,VL=OA.isCanvasEl,HL=OA.transformCoordWithViewport,dd=typeof window<"u"&&!!window.addEventListener,qL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Bs=[];function Mf(e,t,r,a){return r=r||{},a||!Cf.canvasSupported?Wg(e,t,r):Cf.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Wg(e,t,r),r}function Wg(e,t,r){if(Cf.domSupported&&e.getBoundingClientRect){var a=t.clientX,i=t.clientY;if(VL(e)){var o=e.getBoundingClientRect();r.zrX=a-o.left,r.zrY=i-o.top;return}else if(HL(Bs,e,a,i)){r.zrX=Bs[0],r.zrY=Bs[1];return}}r.zrX=r.zrY=0}function zA(e){return e||window.event}function GL(e,t,r){if(t=zA(t),t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)Mf(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var o=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&Mf(e,o,t,r)}var s=t.button;return t.which==null&&s!==void 0&&qL.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function FL(e,t,r,a){dd?e.addEventListener(t,r,a):e.attachEvent("on"+t,r)}function $L(e,t,r,a){dd?e.removeEventListener(t,r,a):e.detachEvent("on"+t,r)}var UL=dd?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function WL(e){return e.which===2||e.which===3}function ZL(e){return e.which>1}ht.clientToLocal=Mf;ht.getNativeEvent=zA;ht.normalizeEvent=GL;ht.addEventListener=FL;ht.removeEventListener=$L;ht.stop=UL;ht.isMiddleOrRightButtonOnMouseUpDown=WL;ht.notLeftMouse=ZL;var YL=ht,Df=function(){this._track=[]};Df.prototype={constructor:Df,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},o=0,s=a.length;o<s;o++){var p=a[o],n=YL.clientToLocal(r,p,{});i.points.push([n.zrX,n.zrY]),i.touches.push(p)}this._track.push(i)}},_recognize:function(e){for(var t in Ns)if(Ns.hasOwnProperty(t)){var r=Ns[t](this._track,e);if(r)return r}}};function Zg(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function XL(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Ns={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var o=Zg(a)/Zg(i);!isFinite(o)&&(o=1),t.pinchScale=o;var s=XL(a);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},KL=Df,QL=KL,rs=W,jL=Ye(),BA=DL,NA=Aa,JL=ht,eI=QL,VA="silent";function tI(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:rI}}function rI(){JL.stop(this.event)}function HA(){}HA.prototype.dispose=function(){};var aI=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ti=function(e,t,r,a){NA.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new HA,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,BA.call(this),this.setHandlerProxy(r)};ti.prototype={constructor:ti,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(rs.each(aI,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=qA(this,t,r),i=this._hovered,o=i.target;o&&!o.__zr&&(i=this.findHover(i.x,i.y),o=i.target);var s=this._hovered=a?{x:t,y:r}:this.findHover(t,r),p=s.target,n=this.proxy;n.setCursor&&n.setCursor(p?p.cursor:"default"),o&&p!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(s,"mousemove",e),p&&p!==o&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,o=tI(t,e,r);a&&(a[i]&&(o.cancelBubble=a[i].call(a,o)),a.trigger(t,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(s){typeof s[i]=="function"&&s[i].call(s,o),s.trigger&&s.trigger(t,o)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},o=a.length-1;o>=0;o--){var s;if(a[o]!==r&&!a[o].ignore&&(s=iI(a[o],e,t))&&(!i.topTarget&&(i.topTarget=a[o]),s!==VA)){i.target=a[o];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new eI);var r=this._gestureMgr;t==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}};rs.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){ti.prototype[e]=function(t){var r=t.zrX,a=t.zrY,i=qA(this,r,a),o,s;if((e!=="mouseup"||!i)&&(o=this.findHover(r,a),s=o.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||jL.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function iI(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?VA:!0}return!1}function qA(e,t,r){var a=e.painter;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}rs.mixin(ti,NA);rs.mixin(ti,BA);var nI=ti,oI=nI,Qt={},Yg;function Rt(){if(Yg)return Qt;Yg=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(){var u=new e(6);return r(u),u}function r(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u}function a(u,v){return u[0]=v[0],u[1]=v[1],u[2]=v[2],u[3]=v[3],u[4]=v[4],u[5]=v[5],u}function i(u,v,l){var f=v[0]*l[0]+v[2]*l[1],d=v[1]*l[0]+v[3]*l[1],m=v[0]*l[2]+v[2]*l[3],c=v[1]*l[2]+v[3]*l[3],g=v[0]*l[4]+v[2]*l[5]+v[4],y=v[1]*l[4]+v[3]*l[5]+v[5];return u[0]=f,u[1]=d,u[2]=m,u[3]=c,u[4]=g,u[5]=y,u}function o(u,v,l){return u[0]=v[0],u[1]=v[1],u[2]=v[2],u[3]=v[3],u[4]=v[4]+l[0],u[5]=v[5]+l[1],u}function s(u,v,l){var f=v[0],d=v[2],m=v[4],c=v[1],g=v[3],y=v[5],_=Math.sin(l),A=Math.cos(l);return u[0]=f*A+c*_,u[1]=-f*_+c*A,u[2]=d*A+g*_,u[3]=-d*_+A*g,u[4]=A*m+_*y,u[5]=A*y-_*m,u}function p(u,v,l){var f=l[0],d=l[1];return u[0]=v[0]*f,u[1]=v[1]*d,u[2]=v[2]*f,u[3]=v[3]*d,u[4]=v[4]*f,u[5]=v[5]*d,u}function n(u,v){var l=v[0],f=v[2],d=v[4],m=v[1],c=v[3],g=v[5],y=l*c-m*f;return y?(y=1/y,u[0]=c*y,u[1]=-m*y,u[2]=-f*y,u[3]=l*y,u[4]=(f*g-c*d)*y,u[5]=(m*d-l*g)*y,u):null}function h(u){var v=t();return a(v,u),v}return Qt.create=t,Qt.identity=r,Qt.copy=a,Qt.mul=i,Qt.translate=o,Qt.rotate=s,Qt.scale=p,Qt.invert=n,Qt.clone=h,Qt}var ir=Rt(),GA=Ye(),Lf=ir.identity,Xg=5e-5;function ya(e){return e>Xg||e<-Xg}var as=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},or=as.prototype;or.transform=null;or.needLocalTransform=function(){return ya(this.rotation)||ya(this.position[0])||ya(this.position[1])||ya(this.scale[0]-1)||ya(this.scale[1]-1)};var va=[];or.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&Lf(a);return}a=a||ir.create(),r?this.getLocalTransform(a):Lf(a),t&&(r?ir.mul(a,e.transform,a):ir.copy(a,e.transform)),this.transform=a;var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(va);var o=va[0]<0?-1:1,s=va[1]<0?-1:1,p=((va[0]-o)*i+o)/va[0]||0,n=((va[1]-s)*i+s)/va[1]||0;a[0]*=p,a[1]*=p,a[2]*=n,a[3]*=n}this.invTransform=this.invTransform||ir.create(),ir.invert(this.invTransform,a)};or.getLocalTransform=function(e){return as.getLocalTransform(this,e)};or.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};or.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Ba=[],Vs=ir.create();or.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;ya(t-1)&&(t=Math.sqrt(t)),ya(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};or.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(ir.mul(Ba,e.invTransform,t),t=Ba);var r=this.origin;r&&(r[0]||r[1])&&(Vs[4]=r[0],Vs[5]=r[1],ir.mul(Ba,t,Vs),Ba[4]-=r[0],Ba[5]-=r[1],t=Ba),this.setLocalTransform(t)}};or.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};or.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&GA.applyTransform(r,r,a),r};or.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&GA.applyTransform(r,r,a),r};as.getLocalTransform=function(e,t){t=t||[],Lf(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,o=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),ir.scale(t,t,a),i&&ir.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=o[0],t[5]+=o[1],t};var sI=as,is=sI,To={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-To.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?To.bounceIn(e*2)*.5:To.bounceOut(e*2-1)*.5+.5}},lI=To,uI=lI,vI=uI;function If(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}If.prototype={constructor:If,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?vI[a]:a,o=typeof i=="function"?i(r):r;return this.fire("frame",o),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var hI=If,cI=hI,ut={},FA=function(){this.head=null,this.tail=null,this._len=0},dn=FA.prototype;dn.insert=function(e){var t=new $A(e);return this.insertEntry(t),t};dn.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};dn.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};dn.len=function(){return this._len};dn.clear=function(){this.head=this.tail=null,this._len=0};var $A=function(e){this.value=e,this.next,this.prev},UA=function(e){this._list=new FA,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},gd=UA.prototype;gd.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var p=r.head;r.remove(p),delete a[p.key],i=p.value,this._lastRemovedEntry=p}s?s.value=t:s=new $A(t),s.key=e,r.insertEntry(s),a[e]=s}return i};gd.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};gd.clear=function(){this._list.clear(),this._map={}};var fI=UA,WA=fI,dI=WA,Kg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function nr(e){return e=Math.round(e),e<0?0:e>255?255:e}function gI(e){return e=Math.round(e),e<0?0:e>360?360:e}function rn(e){return e<0?0:e>1?1:e}function Hs(e){return e.length&&e.charAt(e.length-1)==="%"?nr(parseFloat(e)/100*255):nr(parseInt(e,10))}function ri(e){return e.length&&e.charAt(e.length-1)==="%"?rn(parseFloat(e)/100):rn(parseFloat(e))}function qs(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function jr(e,t,r){return e+(t-e)*r}function rr(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function Pf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var ZA=new dI(20),Fn=null;function Na(e,t){Fn&&Pf(Fn,t),Fn=ZA.put(e,Fn||t.slice())}function wa(e,t){if(e){t=t||[];var r=ZA.get(e);if(r)return Pf(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in Kg)return Pf(t,Kg[a]),Na(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){rr(t,0,0,0,1);return}return rr(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),Na(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){rr(t,0,0,0,1);return}return rr(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),Na(e,t),t}return}var o=a.indexOf("("),s=a.indexOf(")");if(o!==-1&&s+1===a.length){var p=a.substr(0,o),n=a.substr(o+1,s-(o+1)).split(","),h=1;switch(p){case"rgba":if(n.length!==4){rr(t,0,0,0,1);return}h=ri(n.pop());case"rgb":if(n.length!==3){rr(t,0,0,0,1);return}return rr(t,Hs(n[0]),Hs(n[1]),Hs(n[2]),h),Na(e,t),t;case"hsla":if(n.length!==4){rr(t,0,0,0,1);return}return n[3]=ri(n[3]),Rf(n,t),Na(e,t),t;case"hsl":if(n.length!==3){rr(t,0,0,0,1);return}return Rf(n,t),Na(e,t),t;default:return}}rr(t,0,0,0,1)}}function Rf(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=ri(e[1]),i=ri(e[2]),o=i<=.5?i*(a+1):i+a-i*a,s=i*2-o;return t=t||[],rr(t,nr(qs(s,o,r+1/3)*255),nr(qs(s,o,r)*255),nr(qs(s,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function pI(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),o=Math.max(t,r,a),s=o-i,p=(o+i)/2,n,h;if(s===0)n=0,h=0;else{p<.5?h=s/(o+i):h=s/(2-o-i);var u=((o-t)/6+s/2)/s,v=((o-r)/6+s/2)/s,l=((o-a)/6+s/2)/s;t===o?n=l-v:r===o?n=1/3+u-l:a===o&&(n=2/3+v-u),n<0&&(n+=1),n>1&&(n-=1)}var f=[n*360,h,p];return e[3]!=null&&f.push(e[3]),f}}function mI(e,t){var r=wa(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return gn(r,r.length===4?"rgba":"rgb")}}function yI(e){var t=wa(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function YA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),s=t[i],p=t[o],n=a-i;return r[0]=nr(jr(s[0],p[0],n)),r[1]=nr(jr(s[1],p[1],n)),r[2]=nr(jr(s[2],p[2],n)),r[3]=rn(jr(s[3],p[3],n)),r}}var _I=YA;function XA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),s=wa(t[i]),p=wa(t[o]),n=a-i,h=gn([nr(jr(s[0],p[0],n)),nr(jr(s[1],p[1],n)),nr(jr(s[2],p[2],n)),rn(jr(s[3],p[3],n))],"rgba");return r?{color:h,leftIndex:i,rightIndex:o,value:a}:h}}var xI=XA;function SI(e,t,r,a){if(e=wa(e),e)return e=pI(e),t!=null&&(e[0]=gI(t)),r!=null&&(e[1]=ri(r)),a!=null&&(e[2]=ri(a)),gn(Rf(e),"rgba")}function bI(e,t){if(e=wa(e),e&&t!=null)return e[3]=rn(t),gn(e,"rgba")}function gn(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}ut.parse=wa;ut.lift=mI;ut.toHex=yI;ut.fastLerp=YA;ut.fastMapToColor=_I;ut.lerp=XA;ut.mapToColor=xI;ut.modifyHSL=SI;ut.modifyAlpha=bI;ut.stringify=gn;var wI=cI,AI=ut,TI=W,No=TI.isArrayLike,Ef=Array.prototype.slice;function CI(e,t){return e[t]}function MI(e,t,r){e[t]=r}function kf(e,t,r){return(t-e)*r+e}function Qg(e,t,r){return r>.5?t:e}function jg(e,t,r,a,i){var o=e.length;if(i===1)for(var s=0;s<o;s++)a[s]=kf(e[s],t[s],r);else for(var p=o&&e[0].length,s=0;s<o;s++)for(var n=0;n<p;n++)a[s][n]=kf(e[s][n],t[s][n],r)}function Jg(e,t,r){var a=e.length,i=t.length;if(a!==i){var o=a>i;if(o)e.length=i;else for(var s=a;s<i;s++)e.push(r===1?t[s]:Ef.call(t[s]))}for(var p=e[0]&&e[0].length,s=0;s<e.length;s++)if(r===1)isNaN(e[s])&&(e[s]=t[s]);else for(var n=0;n<p;n++)isNaN(e[s][n])&&(e[s][n]=t[s][n])}function DI(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var o=e[0].length,i=0;i<a;i++)for(var s=0;s<o;s++)if(e[i][s]!==t[i][s])return!1;return!0}function ep(e,t,r,a,i,o,s,p,n){var h=e.length;if(n===1)for(var u=0;u<h;u++)p[u]=Of(e[u],t[u],r[u],a[u],i,o,s);else for(var v=e[0].length,u=0;u<h;u++)for(var l=0;l<v;l++)p[u][l]=Of(e[u][l],t[u][l],r[u][l],a[u][l],i,o,s)}function Of(e,t,r,a,i,o,s){var p=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+p+n)*s+(-3*(t-r)-2*p-n)*o+p*i+t}function LI(e){if(No(e)){var t=e.length;if(No(e[0])){for(var r=[],a=0;a<t;a++)r.push(Ef.call(e[a]));return r}return Ef.call(e)}return e}function tp(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function II(e){var t=e[e.length-1].value;return No(t&&t[0])?2:1}function PI(e,t,r,a,i,o){var s=e._getter,p=e._setter,n=t==="spline",h=a.length;if(h){var u=a[0].value,v=No(u),l=!1,f=!1,d=v?II(a):0,m;a.sort(function(q,V){return q.time-V.time}),m=a[h-1].time;for(var c=[],g=[],y=a[0].value,_=!0,A=0;A<h;A++){c.push(a[A].time/m);var b=a[A].value;if(v&&DI(b,y,d)||!v&&b===y||(_=!1),y=b,typeof b=="string"){var w=AI.parse(b);w?(b=w,l=!0):f=!0}g.push(b)}if(!(!o&&_)){for(var x=g[h-1],A=0;A<h-1;A++)v?Jg(g[A],x,d):isNaN(g[A])&&!isNaN(x)&&!f&&!l&&(g[A]=x);v&&Jg(s(e._target,i),x,d);var S=0,T=0,C,M,D,L,I,P;if(l)var E=[0,0,0,0];var O=function(q,V){var R;if(V<0)R=0;else if(V<T){for(C=Math.min(S+1,h-1),R=C;R>=0&&!(c[R]<=V);R--);R=Math.min(R,h-2)}else{for(R=S;R<h&&!(c[R]>V);R++);R=Math.min(R-1,h-2)}S=R,T=V;var z=c[R+1]-c[R];if(z!==0)if(M=(V-c[R])/z,n)if(L=g[R],D=g[R===0?R:R-1],I=g[R>h-2?h-1:R+1],P=g[R>h-3?h-1:R+2],v)ep(D,L,I,P,M,M*M,M*M*M,s(q,i),d);else{var k;if(l)k=ep(D,L,I,P,M,M*M,M*M*M,E,1),k=tp(E);else{if(f)return Qg(L,I,M);k=Of(D,L,I,P,M,M*M,M*M*M)}p(q,i,k)}else if(v)jg(g[R],g[R+1],M,s(q,i),d);else{var k;if(l)jg(g[R],g[R+1],M,E,1),k=tp(E);else{if(f)return Qg(g[R],g[R+1],M);k=kf(g[R],g[R+1],M)}p(q,i,k)}},B=new wI({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:O,ondestroy:r});return t&&t!=="spline"&&(B.easing=t),B}}}var KA=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||CI,this._setter=a||MI,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};KA.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:LI(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},o;for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var p=PI(this,e,i,this._tracks[s],s,t);p&&(this._clipList.push(p),a++,this.animation&&this.animation.addClip(p),o=p)}if(o){var n=o.onframe;o.onframe=function(h,u){n(h,u);for(var v=0;v<r._onframeList.length;v++)r._onframeList[v](h,u)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var RI=KA,QA=RI,vi={},jA=1;typeof window<"u"&&(jA=Math.max(window.devicePixelRatio||1,1));var EI=0,kI=jA;vi.debugMode=EI;vi.devicePixelRatio=kI;var OI=vi,zI=OI.debugMode,JA=function(){};zI===1&&(JA=console.error);var BI=JA,pn=BI,NI=QA,VI=pn,mn=W,HI=mn.isString,Gs=mn.isFunction,qI=mn.isObject,GI=mn.isArrayLike,FI=mn.indexOf,zf=function(){this.animators=[]};zf.prototype={constructor:zf,animate:function(e,t){var r,a=!1,i=this,o=this.__zr;if(e){var s=e.split("."),p=i;a=s[0]==="shape";for(var n=0,h=s.length;n<h;n++)p&&(p=p[s[n]]);p&&(r=p)}else r=i;if(!r){VI('Property "'+e+'" is not existed in element '+i.id);return}var u=i.animators,v=new NI(r,t);return v.during(function(l){i.dirty(a)}).done(function(){u.splice(FI(u,v),1)}),u.push(v),o&&o.animation.addAnimator(v),v},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,o){rp(this,e,t,r,a,i,o)},animateFrom:function(e,t,r,a,i,o){rp(this,e,t,r,a,i,o,!0)}};function rp(e,t,r,a,i,o,s,p){HI(a)?(o=i,i=a,a=0):Gs(i)?(o=i,i="linear",a=0):Gs(a)?(o=a,a=0):Gs(r)?(o=r,r=500):r||(r=500),e.stopAnimation(),eT(e,"",e,t,r,a,p);var n=e.animators.slice(),h=n.length;function u(){h--,h||o&&o()}h||o&&o();for(var v=0;v<n.length;v++)n[v].done(u).start(i,s)}function eT(e,t,r,a,i,o,s){var p={},n=0;for(var h in a)a.hasOwnProperty(h)&&(r[h]!=null?qI(a[h])&&!GI(a[h])?eT(e,t?t+"."+h:h,r[h],a[h],i,o,s):(s?(p[h]=r[h],ap(e,t,h,a[h])):p[h]=a[h],n++):a[h]!=null&&!s&&ap(e,t,h,a[h]));n>0&&e.animate(t,!1).when(i??500,p).delay(o||0)}function ap(e,t,r,a){if(!t)e.attr(r,a);else{var i={};i[t]={},i[t][r]=a,e.attr(i)}}var $I=zf,UI=$I,WI=TA,tT=Aa,rT=is,aT=UI,ns=W,yn=function(e){rT.call(this,e),tT.call(this,e),aT.call(this,e),this.id=e.id||WI()};yn.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(ns.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};ns.mixin(yn,aT);ns.mixin(yn,rT);ns.mixin(yn,tT);var ZI=yn,iT=ZI,YI=Ye(),$n=Rt(),Un=YI.applyTransform,Wn=Math.min,Zn=Math.max;function Kr(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}Kr.prototype={constructor:Kr,union:function(e){var t=Wn(e.x,this.x),r=Wn(e.y,this.y);this.width=Zn(e.x+e.width,this.x+this.width)-t,this.height=Zn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,Un(e,e,i),Un(t,t,i),Un(r,r,i),Un(a,a,i),this.x=Wn(e[0],t[0],r[0],a[0]),this.y=Wn(e[1],t[1],r[1],a[1]);var o=Zn(e[0],t[0],r[0],a[0]),s=Zn(e[1],t[1],r[1],a[1]);this.width=o-this.x,this.height=s-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=$n.create();return $n.translate(i,i,[-t.x,-t.y]),$n.scale(i,i,[r,a]),$n.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof Kr||(e=Kr.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,o=t.y+t.height,s=e.x,p=e.x+e.width,n=e.y,h=e.y+e.height;return!(a<s||p<r||o<n||h<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Kr(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Kr.create=function(e){return new Kr(e.x,e.y,e.width,e.height)};var XI=Kr,Ke=XI,nT=W,oT=iT,KI=Ke,kr=function(e){e=e||{},oT.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};kr.prototype={constructor:kr,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof kr&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=nT.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof kr&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof kr&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof kr&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof kr&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new KI(0,0,0,0),a=e||this._children,i=[],o=0;o<a.length;o++){var s=a[o];if(!(s.ignore||s.invisible)){var p=s.getBoundingRect(),n=s.getLocalTransform(i);n?(r.copy(p),r.applyTransform(n),t=t||r.clone(),t.union(r)):(t=t||p.clone(),t.union(p))}}return t||r}};nT.inherits(kr,oT);var QI=kr,Ta=QI,sT=32,Di=7;function jI(e){for(var t=0;e>=sT;)t|=e&1,e>>=1;return e+t}function ip(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;JI(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function JI(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function np(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var o=e[a],s=t,p=a,n;s<p;)n=s+p>>>1,i(o,e[n])<0?p=n:s=n+1;var h=a-s;switch(h){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;h>0;)e[s+h]=e[s+h-1],h--}e[s]=o}}function Fs(e,t,r,a,i,o){var s=0,p=0,n=1;if(o(e,t[r+i])>0){for(p=a-i;n<p&&o(e,t[r+i+n])>0;)s=n,n=(n<<1)+1,n<=0&&(n=p);n>p&&(n=p),s+=i,n+=i}else{for(p=i+1;n<p&&o(e,t[r+i-n])<=0;)s=n,n=(n<<1)+1,n<=0&&(n=p);n>p&&(n=p);var h=s;s=i-n,n=i-h}for(s++;s<n;){var u=s+(n-s>>>1);o(e,t[r+u])>0?s=u+1:n=u}return n}function $s(e,t,r,a,i,o){var s=0,p=0,n=1;if(o(e,t[r+i])<0){for(p=i+1;n<p&&o(e,t[r+i-n])<0;)s=n,n=(n<<1)+1,n<=0&&(n=p);n>p&&(n=p);var h=s;s=i-n,n=i-h}else{for(p=a-i;n<p&&o(e,t[r+i+n])>=0;)s=n,n=(n<<1)+1,n<=0&&(n=p);n>p&&(n=p),s+=i,n+=i}for(s++;s<n;){var u=s+(n-s>>>1);o(e,t[r+u])<0?n=u:s=u+1}return n}function eP(e,t){var r=Di,a,i,o=0;e.length;var s=[];a=[],i=[];function p(f,d){a[o]=f,i[o]=d,o+=1}function n(){for(;o>1;){var f=o-2;if(f>=1&&i[f-1]<=i[f]+i[f+1]||f>=2&&i[f-2]<=i[f]+i[f-1])i[f-1]<i[f+1]&&f--;else if(i[f]>i[f+1])break;u(f)}}function h(){for(;o>1;){var f=o-2;f>0&&i[f-1]<i[f+1]&&f--,u(f)}}function u(f){var d=a[f],m=i[f],c=a[f+1],g=i[f+1];i[f]=m+g,f===o-3&&(a[f+1]=a[f+2],i[f+1]=i[f+2]),o--;var y=$s(e[c],e,d,m,0,t);d+=y,m-=y,m!==0&&(g=Fs(e[d+m-1],e,c,g,g-1,t),g!==0&&(m<=g?v(d,m,c,g):l(d,m,c,g)))}function v(f,d,m,c){var g=0;for(g=0;g<d;g++)s[g]=e[f+g];var y=0,_=m,A=f;if(e[A++]=e[_++],--c===0){for(g=0;g<d;g++)e[A+g]=s[y+g];return}if(d===1){for(g=0;g<c;g++)e[A+g]=e[_+g];e[A+c]=s[y];return}for(var b=r,w,x,S;;){w=0,x=0,S=!1;do if(t(e[_],s[y])<0){if(e[A++]=e[_++],x++,w=0,--c===0){S=!0;break}}else if(e[A++]=s[y++],w++,x=0,--d===1){S=!0;break}while((w|x)<b);if(S)break;do{if(w=$s(e[_],s,y,d,0,t),w!==0){for(g=0;g<w;g++)e[A+g]=s[y+g];if(A+=w,y+=w,d-=w,d<=1){S=!0;break}}if(e[A++]=e[_++],--c===0){S=!0;break}if(x=Fs(s[y],e,_,c,0,t),x!==0){for(g=0;g<x;g++)e[A+g]=e[_+g];if(A+=x,_+=x,c-=x,c===0){S=!0;break}}if(e[A++]=s[y++],--d===1){S=!0;break}b--}while(w>=Di||x>=Di);if(S)break;b<0&&(b=0),b+=2}if(r=b,r<1&&(r=1),d===1){for(g=0;g<c;g++)e[A+g]=e[_+g];e[A+c]=s[y]}else{if(d===0)throw new Error;for(g=0;g<d;g++)e[A+g]=s[y+g]}}function l(f,d,m,c){var g=0;for(g=0;g<c;g++)s[g]=e[m+g];var y=f+d-1,_=c-1,A=m+c-1,b=0,w=0;if(e[A--]=e[y--],--d===0){for(b=A-(c-1),g=0;g<c;g++)e[b+g]=s[g];return}if(c===1){for(A-=d,y-=d,w=A+1,b=y+1,g=d-1;g>=0;g--)e[w+g]=e[b+g];e[A]=s[_];return}for(var x=r;;){var S=0,T=0,C=!1;do if(t(s[_],e[y])<0){if(e[A--]=e[y--],S++,T=0,--d===0){C=!0;break}}else if(e[A--]=s[_--],T++,S=0,--c===1){C=!0;break}while((S|T)<x);if(C)break;do{if(S=d-$s(s[_],e,f,d,d-1,t),S!==0){for(A-=S,y-=S,d-=S,w=A+1,b=y+1,g=S-1;g>=0;g--)e[w+g]=e[b+g];if(d===0){C=!0;break}}if(e[A--]=s[_--],--c===1){C=!0;break}if(T=c-Fs(e[y],s,0,c,c-1,t),T!==0){for(A-=T,_-=T,c-=T,w=A+1,b=_+1,g=0;g<T;g++)e[w+g]=s[b+g];if(c<=1){C=!0;break}}if(e[A--]=e[y--],--d===0){C=!0;break}x--}while(S>=Di||T>=Di);if(C)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),c===1){for(A-=d,y-=d,w=A+1,b=y+1,g=d-1;g>=0;g--)e[w+g]=e[b+g];e[A]=s[_]}else{if(c===0)throw new Error;for(b=A-(c-1),g=0;g<c;g++)e[b+g]=s[g]}}this.mergeRuns=n,this.forceMergeRuns=h,this.pushRun=p}function tP(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var o=0;if(i<sT){o=ip(e,r,a,t),np(e,r,a,r+o,t);return}var s=new eP(e,t),p=jI(i);do{if(o=ip(e,r,a,t),o<p){var n=i;n>p&&(n=p),np(e,r,r+n,r+o,t),o=n}s.pushRun(r,o),s.mergeRuns(),i-=o,r+=o}while(i!==0);s.forceMergeRuns()}}var pd=tP,rP=W,aP=nt,Us=Ta,iP=pd;function op(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Bf=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Bf.prototype={constructor:Bf,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,aP.canvasSupported&&iP(r,op)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,o=e;i;)i.parent=o,i.updateTransform(),t.push(i),o=i,i=i.clipPath}if(e.isGroup){for(var s=e._children,p=0;p<s.length;p++){var n=s[p];e.__dirty&&(n.__dirty=!0),this._updateAndAddDisplayable(n,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Us&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof Us&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=rP.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof Us&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:op};var nP=Bf,oP=nP,sP={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function lP(e,t,r){return sP.hasOwnProperty(t)?r*=e.dpr:r}var lT=lP,hi={},uP={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},vP=9;hi.ContextCachedBy=uP;hi.WILL_BE_RESTORED=vP;var hP=lT,cP=hi,sp=cP.ContextCachedBy,Vo=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],an=function(e){this.extendFrom(e,!1)};function fP(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,s=s*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,o=isNaN(o)?0:o,s=isNaN(s)?0:s;var p=e.createLinearGradient(a,o,i,s);return p}function dP(e,t,r){var a=r.width,i=r.height,o=Math.min(a,i),s=t.x==null?.5:t.x,p=t.y==null?.5:t.y,n=t.r==null?.5:t.r;t.global||(s=s*a+r.x,p=p*i+r.y,n=n*o);var h=e.createRadialGradient(s,p,0,s,p,n);return h}an.prototype={constructor:an,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var a=this,i=r&&r.style,o=!i||e.__attrCachedBy!==sp.STYLE_BIND;e.__attrCachedBy=sp.STYLE_BIND;for(var s=0;s<Vo.length;s++){var p=Vo[s],n=p[0];(o||a[n]!==i[n])&&(e[n]=hP(e,n,a[n]||p[1]))}if((o||a.fill!==i.fill)&&(e.fillStyle=a.fill),(o||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(o||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(o||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var h=a.lineWidth;e.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?dP:fP,i=a(e,t,r),o=t.colorStops,s=0;s<o.length;s++)i.addColorStop(o[s].offset,o[s].color);return i}};var Nf=an.prototype;for(var Ws=0;Ws<Vo.length;Ws++){var Zs=Vo[Ws];Zs[0]in Nf||(Nf[Zs[0]]=Zs[1])}an.getGradient=Nf.getGradient;var gP=an,md=gP,uT=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};uT.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var pP=uT,vT=pP,hT=W,mP=vi,yP=mP.devicePixelRatio,_P=md,xP=vT;function SP(){return!1}function cT(e,t,r){var a=hT.createCanvas(),i=t.getWidth(),o=t.getHeight(),s=a.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=i+"px",s.height=o+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=o*r,a}var Vf=function(e,t,r){var a;r=r||yP,typeof e=="string"?a=cT(e,t,r):hT.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=SP,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};Vf.prototype={constructor:Vf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=cT("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,o=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,o&&(o.width=e*r,o.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,s){var r=this.dom,a=this.ctx,i=r.width,o=r.height,s=s||this.clearColor,p=this.motionBlur&&!e,n=this.lastFrameAlpha,h=this.dpr;if(p&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/h,o/h)),a.clearRect(0,0,i,o),s&&s!=="transparent"){var u;s.colorStops?(u=s.__canvasGradient||_P.getGradient(a,s,{x:0,y:0,width:i,height:o}),s.__canvasGradient=u):s.image&&(u=xP.prototype.getCanvasPattern.call(s,a)),a.save(),a.fillStyle=u||s,a.fillRect(0,0,i,o),a.restore()}if(p){var v=this.domBack;a.save(),a.globalAlpha=n,a.drawImage(v,0,0,i,o),a.restore()}}};var bP=Vf,wP=bP,AP=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},fT=AP,sr={},Ue={},ci={},TP=WA,Hf=new TP(50);function CP(e){if(typeof e=="string"){var t=Hf.get(e);return t&&t.image}else return e}function MP(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=Hf.get(e),s={hostEl:r,cb:a,cbPayload:i};return o?(t=o.image,!dT(t)&&o.pending.push(s)):(t=new Image,t.onload=t.onerror=DP,Hf.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function DP(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function dT(e){return e&&e.width&&e.height}ci.findExistImage=CP;ci.createOrUpdateImage=MP;ci.isImageReady=dT;var gT=Ke,lp=ci,_n=W,LP=_n.getContext,IP=_n.extend,Jr=_n.retrieve2,PP=_n.retrieve3,RP=_n.trim,Yn={},Ys=0,EP=5e3,Xs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,yd="12px sans-serif",_d={};function kP(e,t){_d[e]=t}function wr(e,t){t=t||yd;var r=e+":"+t;if(Yn[r])return Yn[r];for(var a=(e+"").split(`
`),i=0,o=0,s=a.length;o<s;o++)i=Math.max(xT(a[o],t).width,i);return Ys>EP&&(Ys=0,Yn={}),Ys++,Yn[r]=i,i}function OP(e,t,r,a,i,o,s,p){return s?BP(e,t,r,a,i,o,s,p):zP(e,t,r,a,i,o,p)}function zP(e,t,r,a,i,o,s){var p=ST(e,t,i,o,s),n=wr(e,t);i&&(n+=i[1]+i[3]);var h=p.outerHeight,u=xd(0,n,r),v=Sd(0,h,a),l=new gT(u,v,n,h);return l.lineHeight=p.lineHeight,l}function BP(e,t,r,a,i,o,s,p){var n=bT(e,{rich:s,truncate:p,font:t,textAlign:r,textPadding:i,textLineHeight:o}),h=n.outerWidth,u=n.outerHeight,v=xd(0,h,r),l=Sd(0,u,a);return new gT(v,l,h,u)}function xd(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Sd(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function pT(e,t,r){var a=t.textPosition,i=t.textDistance,o=r.x,s=r.y;i=i||0;var p=r.height,n=r.width,h=p/2,u="left",v="top";switch(a){case"left":o-=i,s+=h,u="right",v="middle";break;case"right":o+=i+n,s+=h,v="middle";break;case"top":o+=n/2,s-=i,u="center",v="bottom";break;case"bottom":o+=n/2,s+=p+i,u="center";break;case"inside":o+=n/2,s+=h,u="center",v="middle";break;case"insideLeft":o+=i,s+=h,v="middle";break;case"insideRight":o+=n-i,s+=h,u="right",v="middle";break;case"insideTop":o+=n/2,s+=i,u="center";break;case"insideBottom":o+=n/2,s+=p-i,u="center",v="bottom";break;case"insideTopLeft":o+=i,s+=i;break;case"insideTopRight":o+=n-i,s+=i,u="right";break;case"insideBottomLeft":o+=i,s+=p-i,v="bottom";break;case"insideBottomRight":o+=n-i,s+=p-i,u="right",v="bottom";break}return e=e||{},e.x=o,e.y=s,e.textAlign=u,e.textVerticalAlign=v,e}function NP(e,t,r){var a={textPosition:e,textDistance:r};return pT({},a,t)}function mT(e,t,r,a,i){if(!t)return"";var o=(e+"").split(`
`);i=yT(t,r,a,i);for(var s=0,p=o.length;s<p;s++)o[s]=_T(o[s],i);return o.join(`
`)}function yT(e,t,i,a){a=IP({},a),a.font=t;var i=Jr(i,"...");a.maxIterations=Jr(a.maxIterations,2);var o=a.minChar=Jr(a.minChar,0);a.cnCharWidth=wr("国",t);var s=a.ascCharWidth=wr("a",t);a.placeholder=Jr(a.placeholder,"");for(var p=e=Math.max(0,e-1),n=0;n<o&&p>=s;n++)p-=s;var h=wr(i,t);return h>p&&(i="",h=0),p=e-h,a.ellipsis=i,a.ellipsisWidth=h,a.contentWidth=p,a.containerWidth=e,a}function _T(e,t){var r=t.containerWidth,a=t.font,i=t.contentWidth;if(!r)return"";var o=wr(e,a);if(o<=r)return e;for(var s=0;;s++){if(o<=i||s>=t.maxIterations){e+=t.ellipsis;break}var p=s===0?VP(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,p),o=wr(e,a)}return e===""&&(e=t.placeholder),e}function VP(e,t,r,a){for(var i=0,o=0,s=e.length;o<s&&i<t;o++){var p=e.charCodeAt(o);i+=0<=p&&p<=127?r:a}return o}function bd(e){return wr("国",e)}function xT(e,t){return _d.measureText(e,t)}_d.measureText=function(e,t){var r=LP();return r.font=t||yd,r.measureText(e)};function ST(e,t,r,a,i){e!=null&&(e+="");var o=Jr(a,bd(t)),s=e?e.split(`
`):[],p=s.length*o,n=p,h=!0;if(r&&(n+=r[0]+r[2]),e&&i){h=!1;var u=i.outerHeight,v=i.outerWidth;if(u!=null&&n>u)e="",s=[];else if(v!=null)for(var l=yT(v-(r?r[1]+r[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,d=s.length;f<d;f++)s[f]=_T(s[f],l)}return{lines:s,height:p,outerHeight:n,lineHeight:o,canCacheByTextString:h}}function bT(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var a=Xs.lastIndex=0,i;(i=Xs.exec(e))!=null;){var o=i.index;o>a&&Ks(r,e.substring(a,o)),Ks(r,i[2],i[1]),a=Xs.lastIndex}a<e.length&&Ks(r,e.substring(a,e.length));var s=r.lines,p=0,n=0,h=[],u=t.textPadding,v=t.truncate,l=v&&v.outerWidth,f=v&&v.outerHeight;u&&(l!=null&&(l-=u[1]+u[3]),f!=null&&(f-=u[0]+u[2]));for(var d=0;d<s.length;d++){for(var m=s[d],c=0,g=0,y=0;y<m.tokens.length;y++){var _=m.tokens[y],A=_.styleName&&t.rich[_.styleName]||{},b=_.textPadding=A.textPadding,w=_.font=A.font||t.font,x=_.textHeight=Jr(A.textHeight,bd(w));if(b&&(x+=b[0]+b[2]),_.height=x,_.lineHeight=PP(A.textLineHeight,t.textLineHeight,x),_.textAlign=A&&A.textAlign||t.textAlign,_.textVerticalAlign=A&&A.textVerticalAlign||"middle",f!=null&&p+_.lineHeight>f)return{lines:[],width:0,height:0};_.textWidth=wr(_.text,w);var S=A.textWidth,T=S==null||S==="auto";if(typeof S=="string"&&S.charAt(S.length-1)==="%")_.percentWidth=S,h.push(_),S=0;else{if(T){S=_.textWidth;var C=A.textBackgroundColor,M=C&&C.image;M&&(M=lp.findExistImage(M),lp.isImageReady(M)&&(S=Math.max(S,M.width*x/M.height)))}var D=b?b[1]+b[3]:0;S+=D;var L=l!=null?l-g:null;L!=null&&L<S&&(!T||L<D?(_.text="",_.textWidth=S=0):(_.text=mT(_.text,L-D,w,v.ellipsis,{minChar:v.minChar}),_.textWidth=wr(_.text,w),S=_.textWidth+D))}g+=_.width=S,A&&(c=Math.max(c,_.lineHeight))}m.width=g,m.lineHeight=c,p+=c,n=Math.max(n,g)}r.outerWidth=r.width=Jr(t.textWidth,n),r.outerHeight=r.height=Jr(t.textHeight,p),u&&(r.outerWidth+=u[1]+u[3],r.outerHeight+=u[0]+u[2]);for(var d=0;d<h.length;d++){var _=h[d],I=_.percentWidth;_.width=parseInt(I,10)/100*n}return r}function Ks(e,t,r){for(var a=t==="",i=t.split(`
`),o=e.lines,s=0;s<i.length;s++){var p=i[s],n={styleName:r,text:p,isLineHolder:!p&&!a};if(s)o.push({tokens:[n]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=h.length;u===1&&h[0].isLineHolder?h[0]=n:(p||!u||a)&&h.push(n)}}}function HP(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&RP(t)||e.textFont||e.font}Ue.DEFAULT_FONT=yd;Ue.$override=kP;Ue.getWidth=wr;Ue.getBoundingRect=OP;Ue.adjustTextX=xd;Ue.adjustTextY=Sd;Ue.calculateTextPosition=pT;Ue.adjustTextPositionOnRect=NP;Ue.truncateText=mT;Ue.getLineHeight=bd;Ue.measureText=xT;Ue.parsePlainText=ST;Ue.parseRichText=bT;Ue.makeFont=HP;var wd={};function qP(e,t){var r=t.x,a=t.y,i=t.width,o=t.height,s=t.r,p,n,h,u;i<0&&(r=r+i,i=-i),o<0&&(a=a+o,o=-o),typeof s=="number"?p=n=h=u=s:s instanceof Array?s.length===1?p=n=h=u=s[0]:s.length===2?(p=h=s[0],n=u=s[1]):s.length===3?(p=s[0],n=u=s[1],h=s[2]):(p=s[0],n=s[1],h=s[2],u=s[3]):p=n=h=u=0;var v;p+n>i&&(v=p+n,p*=i/v,n*=i/v),h+u>i&&(v=h+u,h*=i/v,u*=i/v),n+h>o&&(v=n+h,n*=o/v,h*=o/v),p+u>o&&(v=p+u,p*=o/v,u*=o/v),e.moveTo(r+p,a),e.lineTo(r+i-n,a),n!==0&&e.arc(r+i-n,a+n,n,-Math.PI/2,0),e.lineTo(r+i,a+o-h),h!==0&&e.arc(r+i-h,a+o-h,h,0,Math.PI/2),e.lineTo(r+u,a+o),u!==0&&e.arc(r+u,a+o-u,u,Math.PI/2,Math.PI),e.lineTo(r,a+p),p!==0&&e.arc(r+p,a+p,p,Math.PI,Math.PI*1.5)}wd.buildPath=qP;var fi=W,GP=fi.retrieve2,Qs=fi.retrieve3,FP=fi.each,$P=fi.normalizeCssArray,UP=fi.isString,WP=fi.isObject,br=Ue,ZP=wd,up=ci,wT=lT,AT=hi,Qi=AT.ContextCachedBy,TT=AT.WILL_BE_RESTORED,qf=br.DEFAULT_FONT,YP={left:1,right:1,center:1},XP={top:1,bottom:1,middle:1},vp=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],hp={},CT={};function KP(e){return cp(e),FP(e.rich,cp),e}function cp(e){if(e){e.font=br.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||YP[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||XP[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=$P(e.textPadding))}}function QP(e,t,r,a,i,o){a.rich?JP(e,t,r,a,i,o):jP(e,t,r,a,i,o)}function jP(e,t,r,a,i,o){var s=Ad(a),p,n=!1,h=t.__attrCachedBy===Qi.PLAIN_TEXT;o!==TT?(o&&(p=o.style,n=!s&&h&&p),t.__attrCachedBy=s?Qi.NONE:Qi.PLAIN_TEXT):h&&(t.__attrCachedBy=Qi.NONE);var u=a.font||qf;(!n||u!==(p.font||qf))&&(t.font=u);var v=e.__computedFont;e.__styleFont!==u&&(e.__styleFont=u,v=e.__computedFont=t.font);var l=a.textPadding,f=a.textLineHeight,d=e.__textCotentBlock;(!d||e.__dirtyText)&&(d=e.__textCotentBlock=br.parsePlainText(r,v,l,f,a.truncate));var m=d.outerHeight,c=d.lines,g=d.lineHeight,y=Cd(CT,e,a,i),_=y.baseX,A=y.baseY,b=y.textAlign||"left",w=y.textVerticalAlign;MT(t,a,i,_,A);var x=br.adjustTextY(A,m,w),S=_,T=x;if(s||l){var C=br.getWidth(r,v),M=C;l&&(M+=l[1]+l[3]);var D=br.adjustTextX(_,M,b);s&&Td(e,t,a,D,x,M,m),l&&(S=DT(_,b,l),T+=l[0])}t.textAlign=b,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var L=0;L<vp.length;L++){var I=vp[L],P=I[0],E=I[1],O=a[P];(!n||O!==p[P])&&(t[E]=wT(t,E,O||I[2]))}T+=g/2;var B=a.textStrokeWidth,q=n?p.textStrokeWidth:null,V=!n||B!==q,R=!n||V||a.textStroke!==p.textStroke,z=Md(a.textStroke,B),k=Dd(a.textFill);if(z&&(V&&(t.lineWidth=B),R&&(t.strokeStyle=z)),k&&(!n||a.textFill!==p.textFill)&&(t.fillStyle=k),c.length===1)z&&t.strokeText(c[0],S,T),k&&t.fillText(c[0],S,T);else for(var L=0;L<c.length;L++)z&&t.strokeText(c[L],S,T),k&&t.fillText(c[L],S,T),T+=g}function JP(e,t,r,a,i,o){o!==TT&&(t.__attrCachedBy=Qi.NONE);var s=e.__textCotentBlock;(!s||e.__dirtyText)&&(s=e.__textCotentBlock=br.parseRichText(r,a)),eR(e,t,s,a,i)}function eR(e,t,r,a,i){var o=r.width,s=r.outerWidth,p=r.outerHeight,n=a.textPadding,h=Cd(CT,e,a,i),u=h.baseX,v=h.baseY,l=h.textAlign,f=h.textVerticalAlign;MT(t,a,i,u,v);var d=br.adjustTextX(u,s,l),m=br.adjustTextY(v,p,f),c=d,g=m;n&&(c+=n[3],g+=n[0]);var y=c+o;Ad(a)&&Td(e,t,a,d,m,s,p);for(var _=0;_<r.lines.length;_++){for(var A=r.lines[_],b=A.tokens,w=b.length,x=A.lineHeight,S=A.width,T=0,C=c,M=y,D=w-1,L;T<w&&(L=b[T],!L.textAlign||L.textAlign==="left");)js(e,t,L,a,x,g,C,"left"),S-=L.width,C+=L.width,T++;for(;D>=0&&(L=b[D],L.textAlign==="right");)js(e,t,L,a,x,g,M,"right"),S-=L.width,M-=L.width,D--;for(C+=(o-(C-c)-(y-M)-S)/2;T<=D;)L=b[T],js(e,t,L,a,x,g,C+L.width/2,"center"),C+=L.width,T++;g+=x}}function MT(e,t,r,a,i){if(r&&t.textRotation){var o=t.textOrigin;o==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):o&&(a=o[0]+r.x,i=o[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function js(e,t,r,a,i,o,s,p){var n=a.rich[r.styleName]||{};n.text=r.text;var h=r.textVerticalAlign,u=o+i/2;h==="top"?u=o+r.height/2:h==="bottom"&&(u=o+i-r.height/2),!r.isLineHolder&&Ad(n)&&Td(e,t,n,p==="right"?s-r.width:p==="center"?s-r.width/2:s,u-r.height/2,r.width,r.height);var v=r.textPadding;v&&(s=DT(s,p,v),u-=r.height/2-v[2]-r.textHeight/2),xt(t,"shadowBlur",Qs(n.textShadowBlur,a.textShadowBlur,0)),xt(t,"shadowColor",n.textShadowColor||a.textShadowColor||"transparent"),xt(t,"shadowOffsetX",Qs(n.textShadowOffsetX,a.textShadowOffsetX,0)),xt(t,"shadowOffsetY",Qs(n.textShadowOffsetY,a.textShadowOffsetY,0)),xt(t,"textAlign",p),xt(t,"textBaseline","middle"),xt(t,"font",r.font||qf);var l=Md(n.textStroke||a.textStroke,d),f=Dd(n.textFill||a.textFill),d=GP(n.textStrokeWidth,a.textStrokeWidth);l&&(xt(t,"lineWidth",d),xt(t,"strokeStyle",l),t.strokeText(r.text,s,u)),f&&(xt(t,"fillStyle",f),t.fillText(r.text,s,u))}function Ad(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function Td(e,t,r,a,i,o,s){var p=r.textBackgroundColor,n=r.textBorderWidth,h=r.textBorderColor,u=UP(p);if(xt(t,"shadowBlur",r.textBoxShadowBlur||0),xt(t,"shadowColor",r.textBoxShadowColor||"transparent"),xt(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),xt(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),u||n&&h){t.beginPath();var v=r.textBorderRadius;v?ZP.buildPath(t,{x:a,y:i,width:o,height:s,r:v}):t.rect(a,i,o,s),t.closePath()}if(u)if(xt(t,"fillStyle",p),r.fillOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=l}else t.fill();else if(WP(p)){var f=p.image;f=up.createOrUpdateImage(f,null,e,tR,p),f&&up.isImageReady(f)&&t.drawImage(f,a,i,o,s)}if(n&&h)if(xt(t,"lineWidth",n),xt(t,"strokeStyle",h),r.strokeOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=l}else t.stroke()}function tR(e,t){t.image=e}function Cd(e,t,r,a){var i=r.x||0,o=r.y||0,s=r.textAlign,p=r.textVerticalAlign;if(a){var n=r.textPosition;if(n instanceof Array)i=a.x+Gf(n[0],a.width),o=a.y+Gf(n[1],a.height);else{var h=t&&t.calculateTextPosition?t.calculateTextPosition(hp,r,a):br.calculateTextPosition(hp,r,a);i=h.x,o=h.y,s=s||h.textAlign,p=p||h.textVerticalAlign}var u=r.textOffset;u&&(i+=u[0],o+=u[1])}return e=e||{},e.baseX=i,e.baseY=o,e.textAlign=s,e.textVerticalAlign=p,e}function xt(e,t,r){return e[t]=wT(e,t,r),e[t]}function Md(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Dd(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Gf(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function DT(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function rR(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}sr.normalizeTextStyle=KP;sr.renderText=QP;sr.getBoxPosition=Cd;sr.getStroke=Md;sr.getFill=Dd;sr.parsePercent=Gf;sr.needDrawText=rR;var Js,fp;function LT(){if(fp)return Js;fp=1;var e=sr,t=Ke,r=hi,a=r.WILL_BE_RESTORED,i=new t,o=function(){};o.prototype={constructor:o,drawRectText:function(p,n){var h=this.style;n=h.textRect||n,this.__dirty&&e.normalizeTextStyle(h,!0);var u=h.text;if(u!=null&&(u+=""),!!e.needDrawText(u,h)){p.save();var v=this.transform;h.transformText?this.setTransform(p):v&&(i.copy(n),i.applyTransform(v),n=i),e.renderText(this,p,u,h,n,a),p.restore()}}};var s=o;return Js=s,Js}var IT=W,PT=md,Ld=iT,aR=LT();function nn(e){e=e||{},Ld.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new PT(e.style),this._rect=null,this.__clipPaths=null}nn.prototype={constructor:nn,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?Ld.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new PT(e),this.dirty(!1),this},calculateTextPosition:null};IT.inherits(nn,Ld);IT.mixin(nn,aR);var iR=nn,xn=iR,RT=xn,nR=Ke,oR=W,dp=ci;function Ho(e){RT.call(this,e)}Ho.prototype={constructor:Ho,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=dp.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!dp.isImageReady(i))){var o=r.x||0,s=r.y||0,p=r.width,n=r.height,h=i.width/i.height;if(p==null&&n!=null?p=n*h:n==null&&p!=null?n=p/h:p==null&&n==null&&(p=i.width,n=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var u=r.sx||0,v=r.sy||0;e.drawImage(i,u,v,r.sWidth,r.sHeight,o,s,p,n)}else if(r.sx&&r.sy){var u=r.sx,v=r.sy,l=p-u,f=n-v;e.drawImage(i,u,v,l,f,o,s,p,n)}else e.drawImage(i,o,s,p,n);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new nR(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};oR.inherits(Ho,RT);var sR=Ho,di=sR,lR=vi,uR=lR.devicePixelRatio,Pr=W,el=pn,ET=Ke,vR=pd,Ff=wP,hR=fT,cR=di,fR=nt,gp=1e5,_a=314159,Xn=.01,dR=.001;function Kn(e){return parseInt(e,10)}function gR(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var tl=new ET(0,0,0,0),rl=new ET(0,0,0,0);function pR(e,t,r){return tl.copy(e.getBoundingRect()),e.transform&&tl.applyTransform(e.transform),rl.width=t,rl.height=r,!tl.intersect(rl)}function mR(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function yR(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function _R(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var $f=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Pr.extend({},r||{}),this.dpr=r.devicePixelRatio||uR,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var n=e.width,h=e.height;r.width!=null&&(n=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,e.width=n*this.dpr,e.height=h*this.dpr,this._width=n,this._height=h;var u=new Ff(e,this,this.dpr);u.__builtin__=!0,u.initContext(),s[_a]=u,u.zlevel=_a,o.push(_a),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=_R(this._width,this._height);e.appendChild(p)}this._hoverlayer=null,this._hoverElements=[]};$f.prototype={constructor:$f,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],o=this._layers[i];if(!o.__builtin__&&o.refresh){var s=a===0?this._backgroundColor:null;o.refresh(s)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Pr.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){vR(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(gp));var a={};r.ctx.save();for(var i=0;i<t;){var o=e[i],s=o.__from;if(!(s&&s.__zr)){e.splice(i,1),s.__hoverMir=null,t--;continue}i++,s.invisible||(o.transform=s.transform,o.invTransform=s.invTransform,o.__clipPaths=s.__clipPaths,this._doPaintEl(o,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(gp)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;hR(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(_a).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&r.push(o)}for(var s=!0,p=0;p<r.length;p++){var o=r[p],n=o.ctx,h={};n.save();var u=t?o.__startIndex:o.__drawIndex,v=!t&&o.incremental&&Date.now,l=v&&Date.now(),f=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,f);else if(u===o.__startIndex){var d=e[u];(!d.incremental||!d.notClear||t)&&o.clear(!1,f)}u===-1&&(console.error("For some unknown reason. drawIndex is -1"),u=o.__startIndex);for(var m=u;m<o.__endIndex;m++){var c=e[m];if(this._doPaintEl(c,o,t,h),c.__dirty=c.__dirtyText=!1,v){var g=Date.now()-l;if(g>15)break}}o.__drawIndex=m,o.__drawIndex<o.__endIndex&&(s=!1),h.prevElClipPaths&&n.restore(),n.restore()}return fR.wxa&&Pr.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),s},_doPaintEl:function(e,t,r,a){var i=t.ctx,o=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(o&&!o[0]&&!o[3])&&!(e.culling&&pR(e,this._width,this._height))){var s=e.__clipPaths,p=a.prevElClipPaths;(!p||mR(s,p))&&(p&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),s&&(i.save(),yR(s,i),a.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=_a);var r=this._layers[e];return r||(r=new Ff("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Pr.merge(r,this._layerConfig[e],!0):this._layerConfig[e-Xn]&&Pr.merge(r,this._layerConfig[e-Xn],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,o=null,s=-1,p=this._domRoot;if(r[e]){el("ZLevel "+e+" has been used already");return}if(!gR(t)){el("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(s=0;s<i-1&&!(a[s]<e&&a[s+1]>e);s++);o=r[a[s]]}if(a.splice(s+1,0,e),r[e]=t,!t.virtual)if(o){var n=o.dom;n.nextSibling?p.insertBefore(t.dom,n.nextSibling):p.appendChild(t.dom)}else p.firstChild?p.insertBefore(t.dom,p.firstChild):p.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(h,u){h.__dirty=h.__used=!1});function t(h){i&&(i.__endIndex!==h&&(i.__dirty=!0),i.__endIndex=h)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,o=0,s,r=0;r<e.length;r++){var a=e[r],p=a.zlevel,n;s!==p&&(s=p,o=0),a.incremental?(n=this.getLayer(p+dR,this._needsManuallyCompositing),n.incremental=!0,o=1):n=this.getLayer(p+(o>0?Xn:0),this._needsManuallyCompositing),n.__builtin__||el("ZLevel "+p+" has been used by unkown layer "+n.id),n!==i&&(n.__used=!0,n.__startIndex!==r&&(n.__dirty=!0),n.__startIndex=r,n.incremental?n.__drawIndex=-1:n.__drawIndex=r,t(r),i=n),a.__dirty&&(n.__dirty=!0,n.incremental&&n.__drawIndex<0&&(n.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(h,u){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Pr.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+Xn){var o=this._layers[i];Pr.merge(o,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Pr.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Pr.each(this._progressiveLayers,function(o){o.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(_a).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[_a].dom;var t=new Ff("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(h){h.__builtin__?i.drawImage(h.dom,0,0,r,a):h.renderToCanvas&&(t.ctx.save(),h.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var o={},s=this.storage.getDisplayList(!0),p=0;p<s.length;p++){var n=s[p];this._doPaintEl(n,t,!0,o)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var s=this.root,p=document.defaultView.getComputedStyle(s);return(s[a]||Kn(p[r])||Kn(s.style[r]))-(Kn(p[i])||0)-(Kn(p[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),o=e.style,s=o.shadowBlur*t,p=o.shadowOffsetX*t,n=o.shadowOffsetY*t,h=o.hasStroke()?o.lineWidth:0,u=Math.max(h/2,-p+s),v=Math.max(h/2,p+s),l=Math.max(h/2,-n+s),f=Math.max(h/2,n+s),d=i.width+u+v,m=i.height+l+f;r.width=d*t,r.height=m*t,a.scale(t,t),a.clearRect(0,0,d,m),a.dpr=t;var c={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-i.x,l-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var g=cR,y=new g({style:{x:0,y:0,image:r}});return c.position!=null&&(y.position=e.position=c.position),c.rotation!=null&&(y.rotation=e.rotation=c.rotation),c.scale!=null&&(y.scale=e.scale=c.scale),y}};var xR=$f,SR=xR,kT=W,bR=ht,OT=bR.Dispatcher,pp=fT,wR=QA,qo=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,OT.call(this)};qo.prototype={constructor:qo,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=kT.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],o=[],s=0;s<a;s++){var p=r[s],n=p.step(e,t);n&&(i.push(n),o.push(p))}for(var s=0;s<a;)r[s]._needsRemove?(r[s]=r[a-1],r.pop(),a--):s++;a=i.length;for(var s=0;s<a;s++)o[s].fire(i[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(pp(t),!e._paused&&e._update())}pp(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new wR(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};kT.mixin(qo,OT);var AR=qo,TR=AR,os=ht,CR=os.addEventListener,MR=os.removeEventListener,Or=os.normalizeEvent,zT=os.getNativeEvent,Nr=W,BT=Aa,ai=nt,DR=300,Id=ai.domSupported,al=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=Nr.map(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:a}}(),mp={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function NT(e){return e==="mousewheel"&&ai.browser.firefox?"DOMMouseScroll":e}function Uf(e){var t=e.pointerType;return t==="pen"||t==="touch"}function LR(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function il(e){e&&(e.zrByTouch=!0)}function IR(e,t){return Or(e.dom,new HT(e,t),!0)}function VT(e,t){for(var r=t,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return a}function HT(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var nl=HT.prototype;nl.stopPropagation=nl.stopImmediatePropagation=nl.preventDefault=Nr.noop;var ar={mousedown:function(e){e=Or(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Or(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&Yf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Or(this.dom,e),Yf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Or(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=VT(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Or(this.dom,e),il(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),ar.mousemove.call(this,e),ar.mousedown.call(this,e)},touchmove:function(e){e=Or(this.dom,e),il(e),this.handler.processGesture(e,"change"),ar.mousemove.call(this,e)},touchend:function(e){e=Or(this.dom,e),il(e),this.handler.processGesture(e,"end"),ar.mouseup.call(this,e),+new Date-this._lastTouchMoment<DR&&ar.click.call(this,e)},pointerdown:function(e){ar.mousedown.call(this,e)},pointermove:function(e){Uf(e)||ar.mousemove.call(this,e)},pointerup:function(e){ar.mouseup.call(this,e)},pointerout:function(e){Uf(e)||ar.mouseout.call(this,e)}};Nr.each(["click","mousewheel","dblclick","contextmenu"],function(e){ar[e]=function(t){t=Or(this.dom,t),this.trigger(e,t)}});var Wf={pointermove:function(e){Uf(e)||Wf.mousemove.call(this,e)},pointerup:function(e){Wf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Yf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function PR(e,t){var r=t.domHandlers;ai.pointerEventsSupported?Nr.each(al.pointer,function(a){Co(t,a,function(i){r[a].call(e,i)})}):(ai.touchEventsSupported&&Nr.each(al.touch,function(a){Co(t,a,function(i){r[a].call(e,i),LR(t)})}),Nr.each(al.mouse,function(a){Co(t,a,function(i){i=zT(i),t.touching||r[a].call(e,i)})}))}function RR(e,t){ai.pointerEventsSupported?Nr.each(mp.pointer,r):ai.touchEventsSupported||Nr.each(mp.mouse,r);function r(a){function i(o){o=zT(o),VT(e,o.target)||(o=IR(e,o),t.domHandlers[a].call(e,o))}Co(t,a,i,{capture:!0})}}function Co(e,t,r,a){e.mounted[t]=r,e.listenerOpts[t]=a,CR(e.domTarget,NT(t),r,a)}function Zf(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&MR(e.domTarget,NT(r),t[r],e.listenerOpts[r]);e.mounted={}}function Yf(e,t){if(e._mayPointerCapture=null,Id&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?RR(e,r):Zf(r)}}function yp(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Pd(e,t){BT.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new yp(e,ar),Id&&(this._globalHandlerScope=new yp(document,Wf)),this._pointerCapturing=!1,this._mayPointerCapture=null,PR(this,this._localHandlerScope)}var qT=Pd.prototype;qT.dispose=function(){Zf(this._localHandlerScope),Id&&Zf(this._globalHandlerScope)};qT.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Nr.mixin(Pd,BT);var ER=Pd,kR=ER,OR=TA,Xf=nt,zR=W,BR=oI,NR=oP,VR=SR,HR=TR,qR=kR;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var GR=!Xf.canvasSupported,Mo={canvas:VR},xa={},FR="4.3.2";function $R(e,t){var r=new Kf(OR(),e,t);return xa[r.id]=r,r}function UR(e){if(e)e.dispose();else{for(var t in xa)xa.hasOwnProperty(t)&&xa[t].dispose();xa={}}return this}function WR(e){return xa[e]}function ZR(e,t){Mo[e]=t}function YR(e){delete xa[e]}var Kf=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new NR,o=r.renderer;if(GR){if(!Mo.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else(!o||!Mo[o])&&(o="canvas");var s=new Mo[o](t,i,r,e);this.storage=i,this.painter=s;var p=!Xf.node&&!Xf.worker?new qR(s.getViewportRoot(),s.root):null;this.handler=new BR(i,s,p,s.root),this.animation=new HR({stage:{update:zR.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var n=i.delFromStorage,h=i.addToStorage;i.delFromStorage=function(u){n.call(i,u),u&&u.removeSelfFromZr(a)},i.addToStorage=function(u){h.call(i,u),u.addSelfToZr(a)}};Kf.prototype={constructor:Kf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,YR(this.id)}};Hr.version=FR;Hr.init=$R;Hr.dispose=UR;Hr.getInstance=WR;Hr.registerPainter=ZR;var Ie={},Ot=W,XR=nt,Qa=Ot.each,ii=Ot.isObject,KR=Ot.isArray,GT="series\0";function FT(e){return e instanceof Array?e:e==null?[]:[e]}function QR(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var o=r[a];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var jR=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function JR(e){return ii(e)&&!KR(e)&&!(e instanceof Date)?e.value:e}function e2(e){return ii(e)&&!(e instanceof Array)}function t2(e,t){t=(t||[]).slice();var r=Ot.map(e||[],function(a,i){return{exist:a}});return Qa(t,function(a,i){if(ii(a)){for(var o=0;o<r.length;o++)if(!r[o].option&&a.id!=null&&r[o].exist.id===a.id+""){r[o].option=a,t[i]=null;return}for(var o=0;o<r.length;o++){var s=r[o].exist;if(!r[o].option&&(s.id==null||a.id==null)&&a.name!=null&&!Do(a)&&!Do(s)&&s.name===a.name+""){r[o].option=a,t[i]=null;return}}}}),Qa(t,function(a,i){if(ii(a)){for(var o=0;o<r.length;o++){var s=r[o].exist;if(!r[o].option&&!Do(s)&&a.id==null){r[o].option=a;break}}o>=r.length&&r.push({option:a})}}),r}function r2(e){var t=Ot.createHashMap();Qa(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),Qa(e,function(r,a){var i=r.option;Ot.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),Qa(e,function(r,a){var i=r.exist,o=r.option,s=r.keyInfo;if(ii(o)){if(s.name=o.name!=null?o.name+"":i?i.name:GT+a,i)s.id=i.id;else if(o.id!=null)s.id=o.id+"";else{var p=0;do s.id="\0"+s.name+"\0"+p++;while(t.get(s.id))}t.set(s.id,r)}})}function a2(e){var t=e.name;return!!(t&&t.indexOf(GT))}function Do(e){return ii(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function i2(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[o(r),o(a)];function i(s,p,n){for(var h=0,u=s.length;h<u;h++)for(var v=s[h].seriesId,l=FT(s[h].dataIndex),f=n&&n[v],d=0,m=l.length;d<m;d++){var c=l[d];f&&f[c]?f[c]=null:(p[v]||(p[v]={}))[c]=1}}function o(s,p){var n=[];for(var h in s)if(s.hasOwnProperty(h)&&s[h]!=null)if(p)n.push(+h);else{var u=o(s[h],!0);u.length&&n.push({seriesId:h,dataIndex:u})}return n}}function n2(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Ot.isArray(t.dataIndex)?Ot.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Ot.isArray(t.name)?Ot.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function o2(){var e="__\0ec_inner_"+s2+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var s2=0;function l2(e,t,r){if(Ot.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!ol(t,i+"Index")&&!ol(t,i+"Id")&&!ol(t,i+"Name")&&(t[i+"Index"]=0);var o={};return Qa(t,function(n,p){var n=t[p];if(p==="dataIndex"||p==="dataIndexInside"){o[p]=n;return}var h=p.match(/^(\w+)(Index|Id|Name)$/)||[],u=h[1],v=(h[2]||"").toLowerCase();if(!(!u||!v||n==null||v==="index"&&n==="none"||r&&r.includeMainTypes&&Ot.indexOf(r.includeMainTypes,u)<0)){var l={mainType:u};(v!=="index"||n!=="all")&&(l[v]=n);var f=e.queryComponents(l);o[u+"Models"]=f,o[u+"Model"]=f[0]}}),o}function ol(e,t){return e&&e.hasOwnProperty(t)}function u2(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function v2(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function h2(e){return e==="auto"?XR.domSupported?"html":"richText":e||"html"}function c2(e,t){var r=Ot.createHashMap(),a=[];return Ot.each(e,function(i){var o=t(i);(r.get(o)||(a.push(o),r.set(o,[]))).push(i)}),{keys:a,buckets:r}}Ie.normalizeToArray=FT;Ie.defaultEmphasis=QR;Ie.TEXT_STYLE_OPTIONS=jR;Ie.getDataItemValue=JR;Ie.isDataItemOption=e2;Ie.mappingToExists=t2;Ie.makeIdAndName=r2;Ie.isNameSpecified=a2;Ie.isIdInner=Do;Ie.compressBatches=i2;Ie.queryDataIndex=n2;Ie.makeInner=o2;Ie.parseFinder=l2;Ie.setAttribute=u2;Ie.getAttribute=v2;Ie.getTooltipRenderMode=h2;Ie.groupData=c2;var zt={},ni=W,f2=".",ha="___EC__COMPONENT__CONTAINER___";function Za(e){var t={main:"",sub:""};return e&&(e=e.split(f2),t.main=e[0]||"",t.sub=e[1]||""),t}function d2(e){ni.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function g2(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return ni.extend(i.prototype,r),i.extend=this.extend,i.superCall=y2,i.superApply=_2,ni.inherits(i,this),i.superClass=a,i}}var p2=0;function m2(e){var t=["__\0is_clz",p2++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function y2(e,t){var r=ni.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function _2(e,t,r){return this.superClass.prototype[t].apply(e,r)}function x2(e,t){t=t||{};var r={};e.registerClass=function(o,s){if(s){if(d2(s),s=Za(s),!s.sub)r[s.main]=o;else if(s.sub!==ha){var p=a(s);p[s.sub]=o}}return o},e.getClass=function(o,s,p){var n=r[o];if(n&&n[ha]&&(n=s?n[s]:null),p&&!n)throw new Error(s?"Component "+o+"."+(s||"")+" not exists. Load it first.":o+".type should be specified.");return n},e.getClassesByMainType=function(o){o=Za(o);var s=[],p=r[o.main];return p&&p[ha]?ni.each(p,function(n,h){h!==ha&&s.push(n)}):s.push(p),s},e.hasClass=function(o){return o=Za(o),!!r[o.main]},e.getAllClassMainTypes=function(){var o=[];return ni.each(r,function(s,p){o.push(p)}),o},e.hasSubTypes=function(o){o=Za(o);var s=r[o.main];return s&&s[ha]},e.parseClassType=Za;function a(o){var s=r[o.main];return(!s||!s[ha])&&(s=r[o.main]={},s[ha]=!0),s}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var s=i.call(this,o);return e.registerClass(s,o.type)})}return e}function S2(e,t){}zt.parseClassType=Za;zt.enableClassExtend=g2;zt.enableClassCheck=m2;zt.enableClassManagement=x2;zt.setReadOnly=S2;var sl,_p;function gi(){if(_p)return sl;_p=1;var e=W;function t(r){for(var a=0;a<r.length;a++)r[a][1]||(r[a][1]=r[a][0]);return function(i,o,s){for(var p={},n=0;n<r.length;n++){var h=r[n][1];if(!(o&&e.indexOf(o,h)>=0||s&&e.indexOf(s,h)<0)){var u=i.getShallow(h);u!=null&&(p[r[n][0]]=u)}}return p}}return sl=t,sl}var ll,xp;function b2(){if(xp)return ll;xp=1;var e=gi(),t=e([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(a){var i=t(this,a);return i.lineDash=this.getLineDash(i.lineWidth),i},getLineDash:function(a){a==null&&(a=1);var i=this.get("type"),o=Math.max(a,2),s=a*4;return i==="solid"||i==null?!1:i==="dashed"?[s,s]:[o,o]}};return ll=r,ll}var ul,Sp;function w2(){if(Sp)return ul;Sp=1;var e=gi(),t=e([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(a,i){return t(this,a,i)}};return ul=r,ul}var fe={},Sn={},vt={},$T=Ye(),Rd=$T.create,ja=$T.distSquare,Qn=Math.pow,aa=Math.sqrt,Go=1e-8,UT=1e-4,bp=aa(3),jn=1/3,xr=Rd(),Zt=Rd(),Ja=Rd();function ea(e){return e>-Go&&e<Go}function WT(e){return e>Go||e<-Go}function Rr(e,t,r,a,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*a+3*o*r)}function A2(e,t,r,a,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(a-r)*i*i)}function T2(e,t,r,a,i,o){var s=a+3*(t-r)-e,p=3*(r-t*2+e),n=3*(t-e),h=e-i,u=p*p-3*s*n,v=p*n-9*s*h,l=n*n-3*p*h,f=0;if(ea(u)&&ea(v))if(ea(p))o[0]=0;else{var d=-n/p;d>=0&&d<=1&&(o[f++]=d)}else{var m=v*v-4*u*l;if(ea(m)){var c=v/u,d=-p/s+c,g=-c/2;d>=0&&d<=1&&(o[f++]=d),g>=0&&g<=1&&(o[f++]=g)}else if(m>0){var y=aa(m),_=u*p+1.5*s*(-v+y),A=u*p+1.5*s*(-v-y);_<0?_=-Qn(-_,jn):_=Qn(_,jn),A<0?A=-Qn(-A,jn):A=Qn(A,jn);var d=(-p-(_+A))/(3*s);d>=0&&d<=1&&(o[f++]=d)}else{var b=(2*u*p-3*s*v)/(2*aa(u*u*u)),w=Math.acos(b)/3,x=aa(u),S=Math.cos(w),d=(-p-2*x*S)/(3*s),g=(-p+x*(S+bp*Math.sin(w)))/(3*s),T=(-p+x*(S-bp*Math.sin(w)))/(3*s);d>=0&&d<=1&&(o[f++]=d),g>=0&&g<=1&&(o[f++]=g),T>=0&&T<=1&&(o[f++]=T)}}return f}function C2(e,t,r,a,i){var o=6*r-12*t+6*e,s=9*t+3*a-3*e-9*r,p=3*t-3*e,n=0;if(ea(s)){if(WT(o)){var h=-p/o;h>=0&&h<=1&&(i[n++]=h)}}else{var u=o*o-4*s*p;if(ea(u))i[0]=-o/(2*s);else if(u>0){var v=aa(u),h=(-o+v)/(2*s),l=(-o-v)/(2*s);h>=0&&h<=1&&(i[n++]=h),l>=0&&l<=1&&(i[n++]=l)}}return n}function M2(e,t,r,a,i,o){var s=(t-e)*i+e,p=(r-t)*i+t,n=(a-r)*i+r,h=(p-s)*i+s,u=(n-p)*i+p,v=(u-h)*i+h;o[0]=e,o[1]=s,o[2]=h,o[3]=v,o[4]=v,o[5]=u,o[6]=n,o[7]=a}function D2(e,t,r,a,i,o,s,p,n,h,u){var v,l=.005,f=1/0,d,m,c,g;xr[0]=n,xr[1]=h;for(var y=0;y<1;y+=.05)Zt[0]=Rr(e,r,i,s,y),Zt[1]=Rr(t,a,o,p,y),c=ja(xr,Zt),c<f&&(v=y,f=c);f=1/0;for(var _=0;_<32&&!(l<UT);_++)d=v-l,m=v+l,Zt[0]=Rr(e,r,i,s,d),Zt[1]=Rr(t,a,o,p,d),c=ja(Zt,xr),d>=0&&c<f?(v=d,f=c):(Ja[0]=Rr(e,r,i,s,m),Ja[1]=Rr(t,a,o,p,m),g=ja(Ja,xr),m<=1&&g<f?(v=m,f=g):l*=.5);return u&&(u[0]=Rr(e,r,i,s,v),u[1]=Rr(t,a,o,p,v)),aa(f)}function Er(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function L2(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function I2(e,t,r,a,i){var o=e-2*t+r,s=2*(t-e),p=e-a,n=0;if(ea(o)){if(WT(s)){var h=-p/s;h>=0&&h<=1&&(i[n++]=h)}}else{var u=s*s-4*o*p;if(ea(u)){var h=-s/(2*o);h>=0&&h<=1&&(i[n++]=h)}else if(u>0){var v=aa(u),h=(-s+v)/(2*o),l=(-s-v)/(2*o);h>=0&&h<=1&&(i[n++]=h),l>=0&&l<=1&&(i[n++]=l)}}return n}function P2(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function R2(e,t,r,a,i){var o=(t-e)*a+e,s=(r-t)*a+t,p=(s-o)*a+o;i[0]=e,i[1]=o,i[2]=p,i[3]=p,i[4]=s,i[5]=r}function E2(e,t,r,a,i,o,s,p,n){var h,u=.005,v=1/0;xr[0]=s,xr[1]=p;for(var l=0;l<1;l+=.05){Zt[0]=Er(e,r,i,l),Zt[1]=Er(t,a,o,l);var f=ja(xr,Zt);f<v&&(h=l,v=f)}v=1/0;for(var d=0;d<32&&!(u<UT);d++){var m=h-u,c=h+u;Zt[0]=Er(e,r,i,m),Zt[1]=Er(t,a,o,m);var f=ja(Zt,xr);if(m>=0&&f<v)h=m,v=f;else{Ja[0]=Er(e,r,i,c),Ja[1]=Er(t,a,o,c);var g=ja(Ja,xr);c<=1&&g<v?(h=c,v=g):u*=.5}}return n&&(n[0]=Er(e,r,i,h),n[1]=Er(t,a,o,h)),aa(v)}vt.cubicAt=Rr;vt.cubicDerivativeAt=A2;vt.cubicRootAt=T2;vt.cubicExtrema=C2;vt.cubicSubdivide=M2;vt.cubicProjectPoint=D2;vt.quadraticAt=Er;vt.quadraticDerivativeAt=L2;vt.quadraticRootAt=I2;vt.quadraticExtremum=P2;vt.quadraticSubdivide=R2;vt.quadraticProjectPoint=E2;var ca={},wp;function bn(){if(wp)return ca;wp=1;var e=Ye(),t=vt,r=Math.min,a=Math.max,i=Math.sin,o=Math.cos,s=Math.PI*2,p=e.create(),n=e.create(),h=e.create();function u(g,y,_){if(g.length!==0){var A=g[0],b=A[0],w=A[0],x=A[1],S=A[1],T;for(T=1;T<g.length;T++)A=g[T],b=r(b,A[0]),w=a(w,A[0]),x=r(x,A[1]),S=a(S,A[1]);y[0]=b,y[1]=x,_[0]=w,_[1]=S}}function v(g,y,_,A,b,w){b[0]=r(g,_),b[1]=r(y,A),w[0]=a(g,_),w[1]=a(y,A)}var l=[],f=[];function d(g,y,_,A,b,w,x,S,T,C){var M=t.cubicExtrema,D=t.cubicAt,L,I=M(g,_,b,x,l);for(T[0]=1/0,T[1]=1/0,C[0]=-1/0,C[1]=-1/0,L=0;L<I;L++){var P=D(g,_,b,x,l[L]);T[0]=r(P,T[0]),C[0]=a(P,C[0])}for(I=M(y,A,w,S,f),L=0;L<I;L++){var E=D(y,A,w,S,f[L]);T[1]=r(E,T[1]),C[1]=a(E,C[1])}T[0]=r(g,T[0]),C[0]=a(g,C[0]),T[0]=r(x,T[0]),C[0]=a(x,C[0]),T[1]=r(y,T[1]),C[1]=a(y,C[1]),T[1]=r(S,T[1]),C[1]=a(S,C[1])}function m(g,y,_,A,b,w,x,S){var T=t.quadraticExtremum,C=t.quadraticAt,M=a(r(T(g,_,b),1),0),D=a(r(T(y,A,w),1),0),L=C(g,_,b,M),I=C(y,A,w,D);x[0]=r(g,b,L),x[1]=r(y,w,I),S[0]=a(g,b,L),S[1]=a(y,w,I)}function c(g,y,_,A,b,w,x,S,T){var C=e.min,M=e.max,D=Math.abs(b-w);if(D%s<1e-4&&D>1e-4){S[0]=g-_,S[1]=y-A,T[0]=g+_,T[1]=y+A;return}if(p[0]=o(b)*_+g,p[1]=i(b)*A+y,n[0]=o(w)*_+g,n[1]=i(w)*A+y,C(S,p,n),M(T,p,n),b=b%s,b<0&&(b=b+s),w=w%s,w<0&&(w=w+s),b>w&&!x?w+=s:b<w&&x&&(b+=s),x){var L=w;w=b,b=L}for(var I=0;I<w;I+=Math.PI/2)I>b&&(h[0]=o(I)*_+g,h[1]=i(I)*A+y,C(S,h,S),M(T,h,T))}return ca.fromPoints=u,ca.fromLine=v,ca.fromCubic=d,ca.fromQuadratic=m,ca.fromArc=c,ca}var k2=vt,Ap=Ye(),Li=bn(),O2=Ke,z2=vi,Tp=z2.devicePixelRatio,rt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},dr=[],$r=[],gr=[],pr=[],Cp=Math.min,Mp=Math.max,Ii=Math.cos,Pi=Math.sin,Jn=Math.sqrt,Va=Math.abs,vl=typeof Float32Array<"u",Fo=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Fo.prototype={constructor:Fo,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,r){r=r||0,this._ux=Va(r/Tp/e)||0,this._uy=Va(r/Tp/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(rt.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=Va(e-this._xi)>this._ux||Va(t-this._yi)>this._uy||this._len<5;return this.addData(rt.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,o){return this.addData(rt.C,e,t,r,a,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,o):this._ctx.bezierCurveTo(e,t,r,a,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(e,t,r,a){return this.addData(rt.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,o){return this.addData(rt.A,e,t,r,r,a,i-a,0,o?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,o),this._xi=Ii(i)*r+e,this._yi=Pi(i)*r+t,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(rt.R,e,t,r,a),this},closePath:function(){this.addData(rt.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&vl&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();vl&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var o=e[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,o=this._ctx,s=this._xi,p=this._yi,n=e-s,h=t-p,u=Jn(n*n+h*h),v=s,l=p,f,d=i.length,m;for(n/=u,h/=u,a<0&&(a=r+a),a%=r,v-=a*n,l-=a*h;n>0&&v<=e||n<0&&v>=e||n===0&&(h>0&&l<=t||h<0&&l>=t);)m=this._dashIdx,f=i[m],v+=n*f,l+=h*f,this._dashIdx=(m+1)%d,!(n>0&&v<s||n<0&&v>s||h>0&&l<p||h<0&&l>p)&&o[m%2?"moveTo":"lineTo"](n>=0?Cp(v,e):Mp(v,e),h>=0?Cp(l,t):Mp(l,t));n=v-e,h=l-t,this._dashOffset=-Jn(n*n+h*h)},_dashedBezierTo:function(e,t,r,a,i,o){var s=this._dashSum,p=this._dashOffset,n=this._lineDash,h=this._ctx,u=this._xi,v=this._yi,l,f,d,m=k2.cubicAt,c=0,g=this._dashIdx,y=n.length,_,A,b=0;for(p<0&&(p=s+p),p%=s,l=0;l<1;l+=.1)f=m(u,e,r,i,l+.1)-m(u,e,r,i,l),d=m(v,t,a,o,l+.1)-m(v,t,a,o,l),c+=Jn(f*f+d*d);for(;g<y&&(b+=n[g],!(b>p));g++);for(l=(b-p)/c;l<=1;)_=m(u,e,r,i,l),A=m(v,t,a,o,l),g%2?h.moveTo(_,A):h.lineTo(_,A),l+=n[g]/c,g=(g+1)%y;g%2!==0&&h.lineTo(i,o),f=i-_,d=o-A,this._dashOffset=-Jn(f*f+d*d)},_dashedQuadraticTo:function(e,t,r,a){var i=r,o=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,vl&&(this.data=new Float32Array(e)))},getBoundingRect:function(){dr[0]=dr[1]=gr[0]=gr[1]=Number.MAX_VALUE,$r[0]=$r[1]=pr[0]=pr[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,o=0;o<e.length;){var s=e[o++];switch(o===1&&(t=e[o],r=e[o+1],a=t,i=r),s){case rt.M:a=e[o++],i=e[o++],t=a,r=i,gr[0]=a,gr[1]=i,pr[0]=a,pr[1]=i;break;case rt.L:Li.fromLine(t,r,e[o],e[o+1],gr,pr),t=e[o++],r=e[o++];break;case rt.C:Li.fromCubic(t,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],gr,pr),t=e[o++],r=e[o++];break;case rt.Q:Li.fromQuadratic(t,r,e[o++],e[o++],e[o],e[o+1],gr,pr),t=e[o++],r=e[o++];break;case rt.A:var p=e[o++],n=e[o++],h=e[o++],u=e[o++],v=e[o++],l=e[o++]+v;o+=1;var f=1-e[o++];o===1&&(a=Ii(v)*h+p,i=Pi(v)*u+n),Li.fromArc(p,n,h,u,v,l,f,gr,pr),t=Ii(l)*h+p,r=Pi(l)*u+n;break;case rt.R:a=t=e[o++],i=r=e[o++];var d=e[o++],m=e[o++];Li.fromLine(a,i,a+d,i+m,gr,pr);break;case rt.Z:t=a,r=i;break}Ap.min(dr,dr,gr),Ap.max($r,$r,pr)}return o===0&&(dr[0]=dr[1]=$r[0]=$r[1]=0),new O2(dr[0],dr[1],$r[0]-dr[0],$r[1]-dr[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,o,s,p,n=this._ux,h=this._uy,u=this._len,v=0;v<u;){var l=t[v++];switch(v===1&&(i=t[v],o=t[v+1],r=i,a=o),l){case rt.M:r=i=t[v++],a=o=t[v++],e.moveTo(i,o);break;case rt.L:s=t[v++],p=t[v++],(Va(s-i)>n||Va(p-o)>h||v===u-1)&&(e.lineTo(s,p),i=s,o=p);break;case rt.C:e.bezierCurveTo(t[v++],t[v++],t[v++],t[v++],t[v++],t[v++]),i=t[v-2],o=t[v-1];break;case rt.Q:e.quadraticCurveTo(t[v++],t[v++],t[v++],t[v++]),i=t[v-2],o=t[v-1];break;case rt.A:var f=t[v++],d=t[v++],m=t[v++],c=t[v++],g=t[v++],y=t[v++],_=t[v++],A=t[v++],b=m>c?m:c,w=m>c?1:m/c,x=m>c?c/m:1,S=Math.abs(m-c)>.001,T=g+y;S?(e.translate(f,d),e.rotate(_),e.scale(w,x),e.arc(0,0,b,g,T,1-A),e.scale(1/w,1/x),e.rotate(-_),e.translate(-f,-d)):e.arc(f,d,b,g,T,1-A),v===1&&(r=Ii(g)*m+f,a=Pi(g)*c+d),i=Ii(T)*m+f,o=Pi(T)*c+d;break;case rt.R:r=i=t[v],a=o=t[v+1],e.rect(t[v++],t[v++],t[v++],t[v++]);break;case rt.Z:e.closePath(),i=r,o=a}}}};Fo.CMD=rt;var B2=Fo,pi=B2,Ed={},kd={};function N2(e,t,r,a,i,o,s){if(i===0)return!1;var p=i,n=0,h=e;if(s>t+p&&s>a+p||s<t-p&&s<a-p||o>e+p&&o>r+p||o<e-p&&o<r-p)return!1;if(e!==r)n=(t-a)/(e-r),h=(e*a-r*t)/(e-r);else return Math.abs(o-e)<=p/2;var u=n*o-s+h,v=u*u/(n*n+1);return v<=p/2*p/2}kd.containStroke=N2;var ZT={},V2=vt;function H2(e,t,r,a,i,o,s,p,n,h,u){if(n===0)return!1;var v=n;if(u>t+v&&u>a+v&&u>o+v&&u>p+v||u<t-v&&u<a-v&&u<o-v&&u<p-v||h>e+v&&h>r+v&&h>i+v&&h>s+v||h<e-v&&h<r-v&&h<i-v&&h<s-v)return!1;var l=V2.cubicProjectPoint(e,t,r,a,i,o,s,p,h,u,null);return l<=v/2}ZT.containStroke=H2;var Od={},q2=vt,G2=q2.quadraticProjectPoint;function F2(e,t,r,a,i,o,s,p,n){if(s===0)return!1;var h=s;if(n>t+h&&n>a+h&&n>o+h||n<t-h&&n<a-h&&n<o-h||p>e+h&&p>r+h&&p>i+h||p<e-h&&p<r-h&&p<i-h)return!1;var u=G2(e,t,r,a,i,o,p,n,null);return u<=h/2}Od.containStroke=F2;var YT={},zd={},Dp=Math.PI*2;function $2(e){return e%=Dp,e<0&&(e+=Dp),e}zd.normalizeRadian=$2;var U2=zd,eo=U2.normalizeRadian,Ri=Math.PI*2;function W2(e,t,r,a,i,o,s,p,n){if(s===0)return!1;var h=s;p-=e,n-=t;var u=Math.sqrt(p*p+n*n);if(u-h>r||u+h<r)return!1;if(Math.abs(a-i)%Ri<1e-4)return!0;if(o){var v=a;a=eo(i),i=eo(v)}else a=eo(a),i=eo(i);a>i&&(i+=Ri);var l=Math.atan2(n,p);return l<0&&(l+=Ri),l>=a&&l<=i||l+Ri>=a&&l+Ri<=i}YT.containStroke=W2;function Z2(e,t,r,a,i,o){if(o>t&&o>a||o<t&&o<a||a===t)return 0;var s=a<t?1:-1,p=(o-t)/(a-t);(p===1||p===0)&&(s=a<t?.5:-.5);var n=p*(r-e)+e;return n===i?1/0:n>i?s:0}var XT=Z2,Y2=pi,Ha=kd,X2=ZT,K2=Od,Q2=YT,j2=zd,to=j2.normalizeRadian,Sr=vt,fa=XT,Ur=Y2.CMD,qa=Math.PI*2,J2=1e-4;function eE(e,t){return Math.abs(e-t)<J2}var It=[-1,-1,-1],Wt=[-1,-1];function tE(){var e=Wt[0];Wt[0]=Wt[1],Wt[1]=e}function rE(e,t,r,a,i,o,s,p,n,h){if(h>t&&h>a&&h>o&&h>p||h<t&&h<a&&h<o&&h<p)return 0;var u=Sr.cubicRootAt(t,a,o,p,h,It);if(u===0)return 0;for(var v=0,l=-1,f,d,m=0;m<u;m++){var c=It[m],g=c===0||c===1?.5:1,y=Sr.cubicAt(e,r,i,s,c);y<n||(l<0&&(l=Sr.cubicExtrema(t,a,o,p,Wt),Wt[1]<Wt[0]&&l>1&&tE(),f=Sr.cubicAt(t,a,o,p,Wt[0]),l>1&&(d=Sr.cubicAt(t,a,o,p,Wt[1]))),l===2?c<Wt[0]?v+=f<t?g:-g:c<Wt[1]?v+=d<f?g:-g:v+=p<d?g:-g:c<Wt[0]?v+=f<t?g:-g:v+=p<f?g:-g)}return v}function aE(e,t,r,a,i,o,s,p){if(p>t&&p>a&&p>o||p<t&&p<a&&p<o)return 0;var n=Sr.quadraticRootAt(t,a,o,p,It);if(n===0)return 0;var h=Sr.quadraticExtremum(t,a,o);if(h>=0&&h<=1){for(var u=0,v=Sr.quadraticAt(t,a,o,h),l=0;l<n;l++){var f=It[l]===0||It[l]===1?.5:1,d=Sr.quadraticAt(e,r,i,It[l]);d<s||(It[l]<h?u+=v<t?f:-f:u+=o<v?f:-f)}return u}else{var f=It[0]===0||It[0]===1?.5:1,d=Sr.quadraticAt(e,r,i,It[0]);return d<s?0:o<t?f:-f}}function iE(e,t,r,a,i,o,s,p){if(p-=t,p>r||p<-r)return 0;var n=Math.sqrt(r*r-p*p);It[0]=-n,It[1]=n;var h=Math.abs(a-i);if(h<1e-4)return 0;if(h%qa<1e-4){a=0,i=qa;var u=o?1:-1;return s>=It[0]+e&&s<=It[1]+e?u:0}if(o){var n=a;a=to(i),i=to(n)}else a=to(a),i=to(i);a>i&&(i+=qa);for(var v=0,l=0;l<2;l++){var f=It[l];if(f+e>s){var d=Math.atan2(p,f),u=o?1:-1;d<0&&(d=qa+d),(d>=a&&d<=i||d+qa>=a&&d+qa<=i)&&(d>Math.PI/2&&d<Math.PI*1.5&&(u=-u),v+=u)}}return v}function KT(e,t,r,a,i){for(var o=0,s=0,p=0,n=0,h=0,u=0;u<e.length;){var v=e[u++];switch(v===Ur.M&&u>1&&(r||(o+=fa(s,p,n,h,a,i))),u===1&&(s=e[u],p=e[u+1],n=s,h=p),v){case Ur.M:n=e[u++],h=e[u++],s=n,p=h;break;case Ur.L:if(r){if(Ha.containStroke(s,p,e[u],e[u+1],t,a,i))return!0}else o+=fa(s,p,e[u],e[u+1],a,i)||0;s=e[u++],p=e[u++];break;case Ur.C:if(r){if(X2.containStroke(s,p,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],t,a,i))return!0}else o+=rE(s,p,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],a,i)||0;s=e[u++],p=e[u++];break;case Ur.Q:if(r){if(K2.containStroke(s,p,e[u++],e[u++],e[u],e[u+1],t,a,i))return!0}else o+=aE(s,p,e[u++],e[u++],e[u],e[u+1],a,i)||0;s=e[u++],p=e[u++];break;case Ur.A:var l=e[u++],f=e[u++],d=e[u++],m=e[u++],c=e[u++],g=e[u++];u+=1;var y=1-e[u++],w=Math.cos(c)*d+l,x=Math.sin(c)*m+f;u>1?o+=fa(s,p,w,x,a,i):(n=w,h=x);var _=(a-l)*m/d+l;if(r){if(Q2.containStroke(l,f,m,c,c+g,y,t,_,i))return!0}else o+=iE(l,f,m,c,c+g,y,_,i);s=Math.cos(c+g)*d+l,p=Math.sin(c+g)*m+f;break;case Ur.R:n=s=e[u++],h=p=e[u++];var A=e[u++],b=e[u++],w=n+A,x=h+b;if(r){if(Ha.containStroke(n,h,w,h,t,a,i)||Ha.containStroke(w,h,w,x,t,a,i)||Ha.containStroke(w,x,n,x,t,a,i)||Ha.containStroke(n,x,n,h,t,a,i))return!0}else o+=fa(w,h,w,x,a,i),o+=fa(n,x,n,h,a,i);break;case Ur.Z:if(r){if(Ha.containStroke(s,p,n,h,t,a,i))return!0}else o+=fa(s,p,n,h,a,i);s=n,p=h;break}}return!r&&!eE(p,h)&&(o+=fa(s,p,n,h,a,i)||0),o!==0}function nE(e,t,r){return KT(e,0,!1,t,r)}function oE(e,t,r,a){return KT(e,t,!0,r,a)}Ed.contain=nE;Ed.containStroke=oE;var Bd=xn,Nd=W,Qf=pi,Lp=Ed,sE=vT,Ip=sE.prototype.getCanvasPattern,hl=Math.abs,lE=new Qf(!0);function ba(e){Bd.call(this,e),this.path=null}ba.prototype={constructor:ba,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,a=this.path||lE,i=r.hasStroke(),o=r.hasFill(),s=r.fill,p=r.stroke,n=o&&!!s.colorStops,h=i&&!!p.colorStops,u=o&&!!s.image,v=i&&!!p.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var l;n&&(l=l||this.getBoundingRect(),this._fillGradient=r.getGradient(e,s,l)),h&&(l=l||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,p,l))}n?e.fillStyle=this._fillGradient:u&&(e.fillStyle=Ip.call(s,e)),h?e.strokeStyle=this._strokeGradient:v&&(e.strokeStyle=Ip.call(p,e));var f=r.lineDash,d=r.lineDashOffset,m=!!e.setLineDash,c=this.getGlobalScale();if(a.setScale(c[0],c[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!m&&i?(a.beginPath(e),f&&!m&&(a.setLineDash(f),a.setLineDashOffset(d)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o)if(r.fillOpacity!=null){var g=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,a.fill(e),e.globalAlpha=g}else a.fill(e);if(f&&m&&(e.setLineDash(f),e.lineDashOffset=d),i)if(r.strokeOpacity!=null){var g=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(e),e.globalAlpha=g}else a.stroke(e);f&&m&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new Qf},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new Qf),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var o=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=o/s,i.height+=o/s,i.x-=o/s/2,i.y-=o/s/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var o=this.path.data;if(i.hasStroke()){var s=i.lineWidth,p=i.strokeNoScale?this.getLineScale():1;if(p>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),Lp.containStroke(o,s/p,e,t)))return!0}if(i.hasFill())return Lp.contain(o,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Bd.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(Nd.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&hl(e[0]-1)>1e-10&&hl(e[3]-1)>1e-10?Math.sqrt(hl(e[0]*e[3]-e[2]*e[1])):1}};ba.extend=function(e){var t=function(a){ba.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var o=this.shape;for(var s in i)!o.hasOwnProperty(s)&&i.hasOwnProperty(s)&&(o[s]=i[s])}e.init&&e.init.call(this,a)};Nd.inherits(t,ba);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};Nd.inherits(ba,Bd);var uE=ba,at=uE,vE=pi,hE=Ye(),cl=hE.applyTransform,Ga=vE.CMD,cE=[[],[],[]],Pp=Math.sqrt,fE=Math.atan2;function dE(e,t){var r=e.data,a,i,o,s,p,n,h=Ga.M,u=Ga.C,v=Ga.L,l=Ga.R,f=Ga.A,d=Ga.Q;for(o=0,s=0;o<r.length;){switch(a=r[o++],s=o,i=0,a){case h:i=1;break;case v:i=1;break;case u:i=3;break;case d:i=2;break;case f:var m=t[4],c=t[5],g=Pp(t[0]*t[0]+t[1]*t[1]),y=Pp(t[2]*t[2]+t[3]*t[3]),_=fE(-t[1]/y,t[0]/g);r[o]*=g,r[o++]+=m,r[o]*=y,r[o++]+=c,r[o++]*=g,r[o++]*=y,r[o++]+=_,r[o++]+=_,o+=2,s=o;break;case l:n[0]=r[o++],n[1]=r[o++],cl(n,n,t),r[s++]=n[0],r[s++]=n[1],n[0]+=r[o++],n[1]+=r[o++],cl(n,n,t),r[s++]=n[0],r[s++]=n[1]}for(p=0;p<i;p++){var n=cE[p];n[0]=r[o++],n[1]=r[o++],cl(n,n,t),r[s++]=n[0],r[s++]=n[1]}}}var gE=dE,Vd=at,fl=pi,pE=gE,dl=Math.sqrt,ro=Math.sin,ao=Math.cos,io=Math.PI,Rp=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},jf=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(Rp(e)*Rp(t))},Ep=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(jf(e,t))};function kp(e,t,r,a,i,o,s,p,n,h,u){var v=n*(io/180),l=ao(v)*(e-r)/2+ro(v)*(t-a)/2,f=-1*ro(v)*(e-r)/2+ao(v)*(t-a)/2,d=l*l/(s*s)+f*f/(p*p);d>1&&(s*=dl(d),p*=dl(d));var m=(i===o?-1:1)*dl((s*s*(p*p)-s*s*(f*f)-p*p*(l*l))/(s*s*(f*f)+p*p*(l*l)))||0,c=m*s*f/p,g=m*-p*l/s,y=(e+r)/2+ao(v)*c-ro(v)*g,_=(t+a)/2+ro(v)*c+ao(v)*g,A=Ep([1,0],[(l-c)/s,(f-g)/p]),b=[(l-c)/s,(f-g)/p],w=[(-1*l-c)/s,(-1*f-g)/p],x=Ep(b,w);jf(b,w)<=-1&&(x=io),jf(b,w)>=1&&(x=0),o===0&&x>0&&(x=x-2*io),o===1&&x<0&&(x=x+2*io),u.addData(h,y,_,s,p,A,x,v,o)}var mE=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,yE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function _E(e){if(!e)return new fl;for(var t=0,r=0,a=t,i=r,o,s=new fl,p=fl.CMD,n=e.match(mE),h=0;h<n.length;h++){for(var u=n[h],v=u.charAt(0),l,f=u.match(yE)||[],d=f.length,m=0;m<d;m++)f[m]=parseFloat(f[m]);for(var c=0;c<d;){var g,y,_,A,b,w,x,S=t,T=r;switch(v){case"l":t+=f[c++],r+=f[c++],l=p.L,s.addData(l,t,r);break;case"L":t=f[c++],r=f[c++],l=p.L,s.addData(l,t,r);break;case"m":t+=f[c++],r+=f[c++],l=p.M,s.addData(l,t,r),a=t,i=r,v="l";break;case"M":t=f[c++],r=f[c++],l=p.M,s.addData(l,t,r),a=t,i=r,v="L";break;case"h":t+=f[c++],l=p.L,s.addData(l,t,r);break;case"H":t=f[c++],l=p.L,s.addData(l,t,r);break;case"v":r+=f[c++],l=p.L,s.addData(l,t,r);break;case"V":r=f[c++],l=p.L,s.addData(l,t,r);break;case"C":l=p.C,s.addData(l,f[c++],f[c++],f[c++],f[c++],f[c++],f[c++]),t=f[c-2],r=f[c-1];break;case"c":l=p.C,s.addData(l,f[c++]+t,f[c++]+r,f[c++]+t,f[c++]+r,f[c++]+t,f[c++]+r),t+=f[c-2],r+=f[c-1];break;case"S":g=t,y=r;var C=s.len(),M=s.data;o===p.C&&(g+=t-M[C-4],y+=r-M[C-3]),l=p.C,S=f[c++],T=f[c++],t=f[c++],r=f[c++],s.addData(l,g,y,S,T,t,r);break;case"s":g=t,y=r;var C=s.len(),M=s.data;o===p.C&&(g+=t-M[C-4],y+=r-M[C-3]),l=p.C,S=t+f[c++],T=r+f[c++],t+=f[c++],r+=f[c++],s.addData(l,g,y,S,T,t,r);break;case"Q":S=f[c++],T=f[c++],t=f[c++],r=f[c++],l=p.Q,s.addData(l,S,T,t,r);break;case"q":S=f[c++]+t,T=f[c++]+r,t+=f[c++],r+=f[c++],l=p.Q,s.addData(l,S,T,t,r);break;case"T":g=t,y=r;var C=s.len(),M=s.data;o===p.Q&&(g+=t-M[C-4],y+=r-M[C-3]),t=f[c++],r=f[c++],l=p.Q,s.addData(l,g,y,t,r);break;case"t":g=t,y=r;var C=s.len(),M=s.data;o===p.Q&&(g+=t-M[C-4],y+=r-M[C-3]),t+=f[c++],r+=f[c++],l=p.Q,s.addData(l,g,y,t,r);break;case"A":_=f[c++],A=f[c++],b=f[c++],w=f[c++],x=f[c++],S=t,T=r,t=f[c++],r=f[c++],l=p.A,kp(S,T,t,r,w,x,_,A,b,l,s);break;case"a":_=f[c++],A=f[c++],b=f[c++],w=f[c++],x=f[c++],S=t,T=r,t+=f[c++],r+=f[c++],l=p.A,kp(S,T,t,r,w,x,_,A,b,l,s);break}}(v==="z"||v==="Z")&&(l=p.Z,s.addData(l),t=a,r=i),o=l}return s.toStatic(),s}function QT(e,t){var r=_E(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){pE(r,a),this.dirty(!0)},t}function xE(e,t){return new Vd(QT(e,t))}function SE(e,t){return Vd.extend(QT(e,t))}function bE(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var o=e[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),r.push(o.path)}var s=new Vd(t);return s.createPathProxy(),s.buildPath=function(p){p.appendPath(r);var n=p.getContext();n&&p.rebuildPath(n)},s}Sn.createFromString=xE;Sn.extendFromString=SE;Sn.mergePath=bE;var jT=xn,wE=W,AE=Ue,Ei=sr,TE=hi,CE=TE.ContextCachedBy,$o=function(e){jT.call(this,e)};$o.prototype={constructor:$o,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Ei.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;if(a!=null&&(a+=""),!Ei.needDrawText(a,r)){e.__attrCachedBy=CE.NONE;return}this.setTransform(e),Ei.renderText(this,e,a,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Ei.normalizeTextStyle(e,!0),!this._rect){e.text;var t=AE.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Ei.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};wE.inherits($o,jT);var ME=$o,Ca=ME,DE=at,LE=DE.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),JT=LE,Op=nt,Wr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function IE(e){return Op.browser.ie&&Op.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var o=t[i],s=o&&o.shape,p=o&&o.type;if(s&&(p==="sector"&&s.startAngle===s.endAngle||p==="rect"&&(!s.width||!s.height))){for(var n=0;n<Wr.length;n++)Wr[n][2]=r[Wr[n][0]],r[Wr[n][0]]=Wr[n][1];a=!0;break}}if(e.apply(this,arguments),a)for(var n=0;n<Wr.length;n++)r[Wr[n][0]]=Wr[n][2]}:e}var eC=IE,zp=at,PE=eC,RE=zp.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:PE(zp.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),s=t.startAngle,p=t.endAngle,n=t.clockwise,h=Math.cos(s),u=Math.sin(s);e.moveTo(h*i+r,u*i+a),e.lineTo(h*o+r,u*o+a),e.arc(r,a,o,s,p,!n),e.lineTo(Math.cos(p)*i+r,Math.sin(p)*i+a),i!==0&&e.arc(r,a,i,p,s,n),e.closePath()}}),EE=RE,kE=at,OE=kE.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),zE=OE,Hd={},BE=Ye(),NE=BE.distance;function Bp(e,t,r,a,i,o,s){var p=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+p+n)*s+(-3*(t-r)-2*p-n)*o+p*i+t}function VE(e,t){for(var r=e.length,a=[],i=0,o=1;o<r;o++)i+=NE(e[o-1],e[o]);var s=i/2;s=s<r?r:s;for(var o=0;o<s;o++){var p=o/(s-1)*(t?r:r-1),n=Math.floor(p),h=p-n,u,v=e[n%r],l,f;t?(u=e[(n-1+r)%r],l=e[(n+1)%r],f=e[(n+2)%r]):(u=e[n===0?n:n-1],l=e[n>r-2?r-1:n+1],f=e[n>r-3?r-1:n+2]);var d=h*h,m=h*d;a.push([Bp(u[0],v[0],l[0],f[0],h,d,m),Bp(u[1],v[1],l[1],f[1],h,d,m)])}return a}var HE=VE,Ma=Ye(),no=Ma.min,oo=Ma.max,gl=Ma.scale,Np=Ma.distance,Vp=Ma.add,qE=Ma.clone,GE=Ma.sub;function FE(e,t,r,a){var i=[],o=[],s=[],p=[],n,h,u,v;if(a){u=[1/0,1/0],v=[-1/0,-1/0];for(var l=0,f=e.length;l<f;l++)no(u,u,e[l]),oo(v,v,e[l]);no(u,u,a[0]),oo(v,v,a[1])}for(var l=0,f=e.length;l<f;l++){var d=e[l];if(r)n=e[l?l-1:f-1],h=e[(l+1)%f];else if(l===0||l===f-1){i.push(qE(e[l]));continue}else n=e[l-1],h=e[l+1];GE(o,h,n),gl(o,o,t);var m=Np(d,n),c=Np(d,h),g=m+c;g!==0&&(m/=g,c/=g),gl(s,o,-m),gl(p,o,c);var y=Vp([],d,s),_=Vp([],d,p);a&&(oo(y,y,u),no(y,y,v),oo(_,_,u),no(_,_,v)),i.push(y),i.push(_)}return r&&i.push(i.shift()),i}var $E=FE,UE=HE,WE=$E;function ZE(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var o=WE(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var s=a.length,p=0;p<(r?s:s-1);p++){var n=o[p*2],h=o[p*2+1],u=a[(p+1)%s];e.bezierCurveTo(n[0],n[1],h[0],h[1],u[0],u[1])}}else{i==="spline"&&(a=UE(a,r)),e.moveTo(a[0][0],a[0][1]);for(var p=1,v=a.length;p<v;p++)e.lineTo(a[p][0],a[p][1])}r&&e.closePath()}}Hd.buildPath=ZE;var YE=at,XE=Hd,KE=YE.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){XE.buildPath(e,t,!0)}}),tC=KE,QE=at,jE=Hd,JE=QE.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){jE.buildPath(e,t,!1)}}),rC=JE,mi={},Ya=Math.round;function ek(e,t,r){if(t){var a=t.x1,i=t.x2,o=t.y1,s=t.y2;e.x1=a,e.x2=i,e.y1=o,e.y2=s;var p=r&&r.lineWidth;p&&(Ya(a*2)===Ya(i*2)&&(e.x1=e.x2=Sa(a,p,!0)),Ya(o*2)===Ya(s*2)&&(e.y1=e.y2=Sa(o,p,!0)))}}function tk(e,t,r){if(t){var a=t.x,i=t.y,o=t.width,s=t.height;e.x=a,e.y=i,e.width=o,e.height=s;var p=r&&r.lineWidth;p&&(e.x=Sa(a,p,!0),e.y=Sa(i,p,!0),e.width=Math.max(Sa(a+o,p,!1)-e.x,o===0?0:1),e.height=Math.max(Sa(i+s,p,!1)-e.y,s===0?0:1))}}function Sa(e,t,r){if(!t)return e;var a=Ya(e*2);return(a+Ya(t))%2===0?a/2:(a+(r?1:-1))/2}mi.subPixelOptimizeLine=ek;mi.subPixelOptimizeRect=tk;mi.subPixelOptimize=Sa;var rk=at,ak=wd,ik=mi,nk=ik.subPixelOptimizeRect,da={},ok=rk.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(nk(da,t,this.style),r=da.x,a=da.y,i=da.width,o=da.height,da.r=t.r,t=da):(r=t.x,a=t.y,i=t.width,o=t.height),t.r?ak.buildPath(e,t):e.rect(r,a,i,o),e.closePath()}}),qd=ok,sk=at,lk=mi,uk=lk.subPixelOptimizeLine,ki={},vk=sk.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(uk(ki,t,this.style),r=ki.x1,a=ki.y1,i=ki.x2,o=ki.y2):(r=t.x1,a=t.y1,i=t.x2,o=t.y2);var s=t.percent;s!==0&&(e.moveTo(r,a),s<1&&(i=r*(1-s)+i*s,o=a*(1-s)+o*s),e.lineTo(i,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),aC=vk,hk=at,ck=Ye(),yi=vt,Hp=yi.quadraticSubdivide,qp=yi.cubicSubdivide,Gp=yi.quadraticAt,Fp=yi.cubicAt,$p=yi.quadraticDerivativeAt,Up=yi.cubicDerivativeAt,Et=[];function Wp(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?Up:Fp)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?Up:Fp)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?$p:Gp)(e.x1,e.cpx1,e.x2,t),(r?$p:Gp)(e.y1,e.cpy1,e.y2,t)]}var fk=hk.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.cpx1,p=t.cpy1,n=t.cpx2,h=t.cpy2,u=t.percent;u!==0&&(e.moveTo(r,a),n==null||h==null?(u<1&&(Hp(r,s,i,u,Et),s=Et[1],i=Et[2],Hp(a,p,o,u,Et),p=Et[1],o=Et[2]),e.quadraticCurveTo(s,p,i,o)):(u<1&&(qp(r,s,n,i,u,Et),s=Et[1],n=Et[2],i=Et[3],qp(a,p,h,o,u,Et),p=Et[1],h=Et[2],o=Et[3]),e.bezierCurveTo(s,p,n,h,i,o)))},pointAt:function(e){return Wp(this.shape,e,!1)},tangentAt:function(e){var t=Wp(this.shape,e,!0);return ck.normalize(t,t)}}),dk=fk,gk=at,pk=gk.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,p=t.clockwise,n=Math.cos(o),h=Math.sin(o);e.moveTo(n*i+r,h*i+a),e.arc(r,a,i,o,s,!p)}}),mk=pk,Zp=at,yk=Zp.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Zp.prototype.getBoundingRect.call(this)}}),_k=yk,Jf=function(e){this.colorStops=e||[]};Jf.prototype={constructor:Jf,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var xk=Jf,ss=xk,Sk=W,iC=ss,Uo=function(e,t,r,a,i,o){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=o||!1,iC.call(this,i)};Uo.prototype={constructor:Uo};Sk.inherits(Uo,iC);var bk=Uo,Gd=bk,wk=W,nC=ss,Wo=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,nC.call(this,a)};Wo.prototype={constructor:Wo};wk.inherits(Wo,nC);var Ak=Wo,Tk=Ak,Ck=W,Mk=Ck.inherits,oC=xn,Dk=Ke;function lr(e){oC.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}lr.prototype.incremental=!0;lr.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};lr.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};lr.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};lr.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};lr.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};lr.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Lk=[];lr.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Dk(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(Lk)),e.union(a)}this._rect=e}return this._rect};lr.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var o=this._displayables[i];if(o.contain(e,t))return!0}return!1};Mk(lr,oC);var Ik=lr,Fd=Ik,Vt=W,$d=Sn,Pk=ut,ed=Rt(),sC=Ye(),Rk=at,Ek=is,Ud=di;fe.Image=Ud;var kk=Ta;fe.Group=kk;var Ok=Ca;fe.Text=Ok;var lC=JT;fe.Circle=lC;var uC=EE;fe.Sector=uC;var vC=zE;fe.Ring=vC;var hC=tC;fe.Polygon=hC;var cC=rC;fe.Polyline=cC;var fC=qd;fe.Rect=fC;var dC=aC;fe.Line=dC;var gC=dk;fe.BezierCurve=gC;var pC=mk;fe.Arc=pC;var zk=_k;fe.CompoundPath=zk;var Bk=Gd;fe.LinearGradient=Bk;var Nk=Tk;fe.RadialGradient=Nk;var Vk=Ke;fe.BoundingRect=Vk;var Hk=Fd;fe.IncrementalDisplayable=Hk;var Wd=mi,Zo=Math.max,Yo=Math.min,ls={},Zd=1,qk={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Yp="emphasis",Xp="normal",Kp=1,Qp={},td={};function Gk(e){return Rk.extend(e)}function Fk(e,t){return $d.extendFromString(e,t)}function Ar(e,t){td[e]=t}function $k(e){if(td.hasOwnProperty(e))return td[e]}function mC(e,t,r,a){var i=$d.createFromString(e,t);return r&&(a==="center"&&(r=yC(r,i.getBoundingRect())),_C(i,r)),i}function Uk(e,t,r){var a=new Ud({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};a.setStyle(yC(t,o))}}});return a}function yC(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var o=e.x+e.width/2,s=e.y+e.height/2;return{x:o-a/2,y:s-i/2,width:a,height:i}}var Wk=$d.mergePath;function _C(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function Zk(e){return Wd.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function Yk(e){return Wd.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var Xk=Wd.subPixelOptimize;function jp(e){return e!=null&&e!=="none"}var Jp=Vt.createHashMap(),em=0;function Kk(e){if(typeof e!="string")return e;var t=Jp.get(e);return t||(t=Pk.lift(e,-.1),em<1e4&&(Jp.set(e,t),em++)),t}function Qk(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)t[i]!=null&&(r[i]=a[i]);r.fill=a.fill,r.stroke=a.stroke}}function Yd(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,a=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var i=e,o=e.style;a&&(i=r.addHover(e),o=i.style),Xo(o),a||Qk(i),o.extendFrom(t),tm(o,t,"fill"),tm(o,t,"stroke"),on(o),a||(e.dirty(!1),e.z2+=Zd)}}}function tm(e,t,r){!jp(t[r])&&jp(e[r])&&(e[r]=Kk(e[r]))}function Xd(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,a=e.__cachedNormalStl;a&&(Xo(r),e.setStyle(a),on(r));var i=e.__cachedNormalZ2;i!=null&&e.z2-i===Zd&&(e.z2=i)}}function wn(e,t,r){var a=Xp,i=Xp,o;e.__highlighted&&(a=Yp,o=!0),t(e,r),e.__highlighted&&(i=Yp,o=!0),e.isGroup&&e.traverse(function(s){!s.isGroup&&t(s,r)}),o&&e.__highDownOnUpdate&&e.__highDownOnUpdate(a,i)}function xC(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Xd(e),Yd(e))}function jk(e){!SC(this,e)&&!this.__highByOuter&&wn(this,Yd)}function Jk(e){!SC(this,e)&&!this.__highByOuter&&wn(this,Xd)}function eO(e){this.__highByOuter|=1<<(e||0),wn(this,Yd)}function tO(e){!(this.__highByOuter&=~(1<<(e||0)))&&wn(this,Xd)}function SC(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function rO(e,t){bC(e,!0),wn(e,xC,t)}function bC(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var a=r?"off":"on";e[a]("mouseover",jk)[a]("mouseout",Jk),e[a]("emphasis",eO)[a]("normal",tO),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function aO(e){return!!(e&&e.__highDownDispatcher)}function iO(e){var t=Qp[e];return t==null&&Kp<=32&&(t=Qp[e]=Kp++),t}function nO(e,t,r,a,i,o,s){i=i||ls;var p=i.labelFetcher,n=i.labelDataIndex,h=i.labelDimIndex,u=i.labelProp,v=r.getShallow("show"),l=a.getShallow("show"),f;(v||l)&&(p&&(f=p.getFormattedLabel(n,"normal",null,h,u)),f==null&&(f=Vt.isFunction(i.defaultText)?i.defaultText(n,i):i.defaultText));var d=v?f:null,m=l?Vt.retrieve2(p?p.getFormattedLabel(n,"emphasis",null,h,u):null,f):null;(d!=null||m!=null)&&(rd(e,r,o,i),rd(t,a,s,i,!0)),e.text=d,t.text=m}function oO(e,t,r){var a=e.style;t&&(Xo(a),e.setStyle(t),on(a)),a=e.__hoverStl,r&&a&&(Xo(a),Vt.extend(a,r),on(a))}function rd(e,t,r,a,i){return wC(e,t,a,i),r&&Vt.extend(e,r),e}function sO(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,wC(e,t,a,i)}function wC(e,t,r,a){if(r=r||ls,r.isRectText){var i;r.getTextPosition?i=r.getTextPosition(t,a):(i=t.getShallow("position")||(a?null:"inside"),i==="outside"&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");o!=null&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=Vt.retrieve2(t.getShallow("distance"),a?null:5)}var s=t.ecModel,p=s&&s.option.textStyle,n=lO(t),h;if(n){h={};for(var u in n)if(n.hasOwnProperty(u)){var v=t.getModel(["rich",u]);rm(h[u]={},v,p,r,a)}}return e.rich=h,rm(e,t,p,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function lO(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||ls).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function rm(e,t,r,a,i,o){r=!i&&r||ls,e.textFill=so(t.getShallow("color"),a)||r.color,e.textStroke=so(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=Vt.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),i||(o&&(e.insideRollbackOpt=a,on(e)),e.textFill==null&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!o||!a.disableBox)&&(e.textBackgroundColor=so(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=so(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function so(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function on(e){var t=e.textPosition,r=e.insideRollbackOpt,a;if(r&&e.textFill==null){var i=r.autoColor,o=r.isRectText,s=r.useInsideStyle,p=s!==!1&&(s===!0||o&&t&&typeof t=="string"&&t.indexOf("inside")>=0),n=!p&&i!=null;(p||n)&&(a={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),p&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=i,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),n&&(e.textFill=i)}e.insideRollback=a}function Xo(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function uO(e,t){var r=t&&t.getModel("textStyle");return Vt.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function AC(e,t,r,a,i,o){typeof i=="function"&&(o=i,i=null);var s=a&&a.isAnimationEnabled();if(s){var p=e?"Update":"",n=a.getShallow("animationDuration"+p),h=a.getShallow("animationEasing"+p),u=a.getShallow("animationDelay"+p);typeof u=="function"&&(u=u(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof n=="function"&&(n=n(i)),n>0?t.animateTo(r,n,u||0,h,o,!!o):(t.stopAnimation(),t.attr(r),o&&o())}else t.stopAnimation(),t.attr(r),o&&o()}function TC(e,t,r,a,i){AC(!0,e,t,r,a,i)}function vO(e,t,r,a,i){AC(!1,e,t,r,a,i)}function hO(e,t){for(var r=ed.identity([]);e&&e!==t;)ed.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function CC(e,t,r){return t&&!Vt.isArrayLike(t)&&(t=Ek.getLocalTransform(t)),r&&(t=ed.invert([],t)),sC.applyTransform([],e,t)}function cO(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return o=CC(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function fO(e,t,r,a){if(!e||!t)return;function i(p){var n={};return p.traverse(function(h){!h.isGroup&&h.anid&&(n[h.anid]=h)}),n}function o(p){var n={position:sC.clone(p.position),rotation:p.rotation};return p.shape&&(n.shape=Vt.extend({},p.shape)),n}var s=i(e);t.traverse(function(p){if(!p.isGroup&&p.anid){var n=s[p.anid];if(n){var h=o(p);p.attr(o(n)),TC(p,h,r,p.dataIndex)}}})}function dO(e,t){return Vt.map(e,function(r){var a=r[0];a=Zo(a,t.x),a=Yo(a,t.x+t.width);var i=r[1];return i=Zo(i,t.y),i=Yo(i,t.y+t.height),[a,i]})}function gO(e,t){var r=Zo(e.x,t.x),a=Yo(e.x+e.width,t.x+t.width),i=Zo(e.y,t.y),o=Yo(e.y+e.height,t.y+t.height);if(a>=r&&o>=i)return{x:r,y:i,width:a-r,height:o-i}}function pO(e,t,r){t=Vt.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Vt.defaults(a,r),new Ud(t)):mC(e.replace("path://",""),t,r,"center")}function mO(e,t,r,a,i){for(var o=0,s=i[i.length-1];o<i.length;o++){var p=i[o];if(MC(e,t,r,a,p[0],p[1],s[0],s[1]))return!0;s=p}}function MC(e,t,r,a,i,o,s,p){var n=r-e,h=a-t,u=s-i,v=p-o,l=pl(u,v,n,h);if(yO(l))return!1;var f=e-i,d=t-o,m=pl(f,d,n,h)/l;if(m<0||m>1)return!1;var c=pl(f,d,u,v)/l;return!(c<0||c>1)}function pl(e,t,r,a){return e*a-r*t}function yO(e){return e<=1e-6&&e>=-1e-6}Ar("circle",lC);Ar("sector",uC);Ar("ring",vC);Ar("polygon",hC);Ar("polyline",cC);Ar("rect",fC);Ar("line",dC);Ar("bezierCurve",gC);Ar("arc",pC);fe.Z2_EMPHASIS_LIFT=Zd;fe.CACHED_LABEL_STYLE_PROPERTIES=qk;fe.extendShape=Gk;fe.extendPath=Fk;fe.registerShape=Ar;fe.getShapeClass=$k;fe.makePath=mC;fe.makeImage=Uk;fe.mergePath=Wk;fe.resizePath=_C;fe.subPixelOptimizeLine=Zk;fe.subPixelOptimizeRect=Yk;fe.subPixelOptimize=Xk;fe.setElementHoverStyle=xC;fe.setHoverStyle=rO;fe.setAsHighDownDispatcher=bC;fe.isHighDownDispatcher=aO;fe.getHighlightDigit=iO;fe.setLabelStyle=nO;fe.modifyLabelStyle=oO;fe.setTextStyle=rd;fe.setText=sO;fe.getFont=uO;fe.updateProps=TC;fe.initProps=vO;fe.getTransform=hO;fe.applyTransform=CC;fe.transformDirection=cO;fe.groupTransition=fO;fe.clipPointsByRect=dO;fe.clipRectByRect=gO;fe.createIcon=pO;fe.linePolygonIntersect=mO;fe.lineLineIntersect=MC;var ml,am;function _O(){if(am)return ml;am=1;var e=Ue,t=fe,r=["textStyle","color"],a={getTextColor:function(i){var o=this.ecModel;return this.getShallow("color")||(!i&&o?o.get(r):null)},getFont:function(){return t.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(i){return e.getBoundingRect(i,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};return ml=a,ml}var yl,im;function xO(){if(im)return yl;im=1;var e=gi(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(a,i){var o=t(this,a,i),s=this.getBorderLineDash();return s&&(o.lineDash=s),o},getBorderLineDash:function(){var a=this.get("borderType");return a==="solid"||a==null?null:a==="dashed"?[5,5]:[1,1]}};return yl=r,yl}var _l,nm;function ot(){if(nm)return _l;nm=1;var e=W,t=nt,r=Ie,a=r.makeInner,i=zt,o=i.enableClassExtend,s=i.enableClassCheck,p=b2(),n=w2(),h=_O(),u=xO(),v=e.mixin,l=a();function f(g,y,_){this.parentModel=y,this.ecModel=_,this.option=g}f.prototype={constructor:f,init:null,mergeOption:function(g){e.merge(this.option,g,!0)},get:function(g,y){return g==null?this.option:d(this.option,this.parsePath(g),!y&&m(this,g))},getShallow:function(g,y){var _=this.option,A=_==null?_:_[g],b=!y&&m(this,g);return A==null&&b&&(A=b.getShallow(g)),A},getModel:function(g,y){var _=g==null?this.option:d(this.option,g=this.parsePath(g)),A;return y=y||(A=m(this,g))&&A.getModel(g),new f(_,y,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var g=this.constructor;return new g(e.clone(this.option))},setReadOnly:function(g){},parsePath:function(g){return typeof g=="string"&&(g=g.split(".")),g},customizeGetParent:function(g){l(this).getParent=g},isAnimationEnabled:function(){if(!t.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function d(g,y,_){for(var A=0;A<y.length&&!(y[A]&&(g=g&&typeof g=="object"?g[y[A]]:null,g==null));A++);return g==null&&_&&(g=_.get(y)),g}function m(g,y){var _=l(g).getParent;return _?_.call(g,y):g.parentModel}o(f),s(f),v(f,p),v(f,n),v(f,h),v(f,u);var c=f;return _l=c,_l}var ia={},Lr=W,SO=zt,om=SO.parseClassType,bO=0;function wO(e){return[e||"",bO++,Math.random().toFixed(5)].join("_")}function AO(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=om(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var o=om(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](a))}return i},e}function TO(e,t){e.topologicalTravel=function(o,s,p,n){if(!o.length)return;var h=r(s),u=h.graph,v=h.noEntryList,l={};for(Lr.each(o,function(y){l[y]=!0});v.length;){var f=v.pop(),d=u[f],m=!!l[f];m&&(p.call(n,f,d.originalDeps.slice()),delete l[f]),Lr.each(d.successor,m?g:c)}Lr.each(l,function(){throw new Error("Circle dependency may exists")});function c(y){u[y].entryCount--,u[y].entryCount===0&&v.push(y)}function g(y){l[y]=!0,c(y)}};function r(o){var s={},p=[];return Lr.each(o,function(n){var h=a(s,n),u=h.originalDeps=t(n),v=i(u,o);h.entryCount=v.length,h.entryCount===0&&p.push(n),Lr.each(v,function(l){Lr.indexOf(h.predecessor,l)<0&&h.predecessor.push(l);var f=a(s,l);Lr.indexOf(f.successor,l)<0&&f.successor.push(n)})}),{graph:s,noEntryList:p}}function a(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function i(o,s){var p=[];return Lr.each(o,function(n){Lr.indexOf(s,n)>=0&&p.push(n)}),p}}ia.getUID=wO;ia.enableSubTypeDefaulter=AO;ia.enableTopologicalTravel=TO;var ze={},lt={},sm;function Re(){if(sm)return lt;sm=1;var e=W,t=1e-4;function r(w){return w.replace(/^\s+|\s+$/g,"")}function a(w,x,S,T){var C=x[1]-x[0],M=S[1]-S[0];if(C===0)return M===0?S[0]:(S[0]+S[1])/2;if(T)if(C>0){if(w<=x[0])return S[0];if(w>=x[1])return S[1]}else{if(w>=x[0])return S[0];if(w<=x[1])return S[1]}else{if(w===x[0])return S[0];if(w===x[1])return S[1]}return(w-x[0])/C*M+S[0]}function i(w,x){switch(w){case"center":case"middle":w="50%";break;case"left":case"top":w="0%";break;case"right":case"bottom":w="100%";break}return typeof w=="string"?r(w).match(/%$/)?parseFloat(w)/100*x:parseFloat(w):w==null?NaN:+w}function o(w,x,S){return x==null&&(x=10),x=Math.min(Math.max(0,x),20),w=(+w).toFixed(x),S?w:+w}function s(w){return w.sort(function(x,S){return x-S}),w}function p(w){if(w=+w,isNaN(w))return 0;for(var x=1,S=0;Math.round(w*x)/x!==w;)x*=10,S++;return S}function n(w){var x=w.toString(),S=x.indexOf("e");if(S>0){var T=+x.slice(S+1);return T<0?-T:0}else{var C=x.indexOf(".");return C<0?0:x.length-1-C}}function h(w,x){var S=Math.log,T=Math.LN10,C=Math.floor(S(w[1]-w[0])/T),M=Math.round(S(Math.abs(x[1]-x[0]))/T),D=Math.min(Math.max(-C+M,0),20);return isFinite(D)?D:20}function u(w,x,S){if(!w[x])return 0;var T=e.reduce(w,function(V,R){return V+(isNaN(R)?0:R)},0);if(T===0)return 0;for(var C=Math.pow(10,S),M=e.map(w,function(V){return(isNaN(V)?0:V)/T*C*100}),D=C*100,L=e.map(M,function(V){return Math.floor(V)}),I=e.reduce(L,function(V,R){return V+R},0),P=e.map(M,function(V,R){return V-L[R]});I<D;){for(var E=Number.NEGATIVE_INFINITY,O=null,B=0,q=P.length;B<q;++B)P[B]>E&&(E=P[B],O=B);++L[O],P[O]=0,++I}return L[x]/C}var v=9007199254740991;function l(w){var x=Math.PI*2;return(w%x+x)%x}function f(w){return w>-t&&w<t}var d=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function m(w){if(w instanceof Date)return w;if(typeof w=="string"){var x=d.exec(w);if(!x)return new Date(NaN);if(x[8]){var S=+x[4]||0;return x[8].toUpperCase()!=="Z"&&(S-=x[8].slice(0,3)),new Date(Date.UTC(+x[1],+(x[2]||1)-1,+x[3]||1,S,+(x[5]||0),+x[6]||0,+x[7]||0))}else return new Date(+x[1],+(x[2]||1)-1,+x[3]||1,+x[4]||0,+(x[5]||0),+x[6]||0,+x[7]||0)}else if(w==null)return new Date(NaN);return new Date(Math.round(w))}function c(w){return Math.pow(10,g(w))}function g(w){if(w===0)return 0;var x=Math.floor(Math.log(w)/Math.LN10);return w/Math.pow(10,x)>=10&&x++,x}function y(w,x){var S=g(w),T=Math.pow(10,S),C=w/T,M;return x?C<1.5?M=1:C<2.5?M=2:C<4?M=3:C<7?M=5:M=10:C<1?M=1:C<2?M=2:C<3?M=3:C<5?M=5:M=10,w=M*T,S>=-20?+w.toFixed(S<0?-S:0):w}function _(w,x){var S=(w.length-1)*x+1,T=Math.floor(S),C=+w[T-1],M=S-T;return M?C+M*(w[T]-C):C}function A(w){w.sort(function(I,P){return L(I,P,0)?-1:1});for(var x=-1/0,S=1,T=0;T<w.length;){for(var C=w[T].interval,M=w[T].close,D=0;D<2;D++)C[D]<=x&&(C[D]=x,M[D]=D?1:1-S),x=C[D],S=M[D];C[0]===C[1]&&M[0]*M[1]!==1?w.splice(T,1):T++}return w;function L(I,P,E){return I.interval[E]<P.interval[E]||I.interval[E]===P.interval[E]&&(I.close[E]-P.close[E]===(E?-1:1)||!E&&L(I,P,1))}}function b(w){return w-parseFloat(w)>=0}return lt.linearMap=a,lt.parsePercent=i,lt.round=o,lt.asc=s,lt.getPrecision=p,lt.getPrecisionSafe=n,lt.getPixelPrecision=h,lt.getPercentWithPrecision=u,lt.MAX_SAFE_INTEGER=v,lt.remRadian=l,lt.isRadianAroundZero=f,lt.parseDate=m,lt.quantity=c,lt.quantityExponent=g,lt.nice=y,lt.quantile=_,lt.reformIntervals=A,lt.isNumeric=b,lt}var Dt={},lm;function Ge(){if(lm)return Dt;lm=1;var e=W,t=Ue,r=Re();function a(b){return isNaN(b)?"-":(b=(b+"").split("."),b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(b.length>1?"."+b[1]:""))}function i(b,w){return b=(b||"").toLowerCase().replace(/-(.)/g,function(x,S){return S.toUpperCase()}),w&&b&&(b=b.charAt(0).toUpperCase()+b.slice(1)),b}var o=e.normalizeCssArray,s=/([&<>"'])/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n(b){return b==null?"":(b+"").replace(s,function(w,x){return p[x]})}var h=["a","b","c","d","e","f","g"],u=function(b,w){return"{"+b+(w??"")+"}"};function v(b,w,x){e.isArray(w)||(w=[w]);var S=w.length;if(!S)return"";for(var T=w[0].$vars||[],C=0;C<T.length;C++){var M=h[C];b=b.replace(u(M),u(M,0))}for(var D=0;D<S;D++)for(var L=0;L<T.length;L++){var I=w[D][T[L]];b=b.replace(u(h[L],D),x?n(I):I)}return b}function l(b,w,x){return e.each(w,function(S,T){b=b.replace("{"+T+"}",x?n(S):S)}),b}function f(b,T){b=e.isString(b)?{color:b,extraCssText:T}:b||{};var x=b.color,S=b.type,T=b.extraCssText,C=b.renderMode||"html",M=b.markerId||"X";return x?C==="html"?S==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+n(x)+";"+(T||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n(x)+";"+(T||"")+'"></span>':{renderMode:C,content:"{marker"+M+"|}  ",style:{color:x}}:""}function d(b,w){return b+="","0000".substr(0,w-b.length)+b}function m(b,w,x){(b==="week"||b==="month"||b==="quarter"||b==="half-year"||b==="year")&&(b=`MM-dd
yyyy`);var S=r.parseDate(w),T=x?"UTC":"",C=S["get"+T+"FullYear"](),M=S["get"+T+"Month"]()+1,D=S["get"+T+"Date"](),L=S["get"+T+"Hours"](),I=S["get"+T+"Minutes"](),P=S["get"+T+"Seconds"](),E=S["get"+T+"Milliseconds"]();return b=b.replace("MM",d(M,2)).replace("M",M).replace("yyyy",C).replace("yy",C%100).replace("dd",d(D,2)).replace("d",D).replace("hh",d(L,2)).replace("h",L).replace("mm",d(I,2)).replace("m",I).replace("ss",d(P,2)).replace("s",P).replace("SSS",d(E,3)),b}function c(b){return b&&b.charAt(0).toUpperCase()+b.substr(1)}var g=t.truncateText;function y(b){return t.getBoundingRect(b.text,b.font,b.textAlign,b.textVerticalAlign,b.textPadding,b.textLineHeight,b.rich,b.truncate)}function _(b,w,x,S,T,C,M,D){return t.getBoundingRect(b,w,x,S,T,D,C,M)}function A(b,w){if(w==="_blank"||w==="blank"){var x=window.open();x.opener=null,x.location=b}else window.open(b,w)}return Dt.addCommas=a,Dt.toCamelCase=i,Dt.normalizeCssArray=o,Dt.encodeHTML=n,Dt.formatTpl=v,Dt.formatTplSimple=l,Dt.getTooltipMarker=f,Dt.formatTime=m,Dt.capitalFirst=c,Dt.truncateText=g,Dt.getTextBoundingRect=y,Dt.getTextRect=_,Dt.windowOpen=A,Dt}var oi=W,DC=Ke,CO=Re(),_r=CO.parsePercent,LC=Ge(),Lo=oi.each,IC=["left","right","top","bottom","width","height"],ta=[["width","left","right"],["height","top","bottom"]];function Kd(e,t,r,a,i){var o=0,s=0;a==null&&(a=1/0),i==null&&(i=1/0);var p=0;t.eachChild(function(n,h){var u=n.position,v=n.getBoundingRect(),l=t.childAt(h+1),f=l&&l.getBoundingRect(),d,m;if(e==="horizontal"){var c=v.width+(f?-f.x+v.x:0);d=o+c,d>a||n.newline?(o=0,d=c,s+=p+r,p=v.height):p=Math.max(p,v.height)}else{var g=v.height+(f?-f.y+v.y:0);m=s+g,m>i||n.newline?(o+=p+r,s=0,m=g,p=v.width):p=Math.max(p,v.width)}n.newline||(u[0]=o,u[1]=s,e==="horizontal"?o=d+r:s=m+r)})}var MO=Kd,DO=oi.curry(Kd,"vertical"),LO=oi.curry(Kd,"horizontal");function IO(e,t,r){var a=t.width,i=t.height,o=_r(e.x,a),s=_r(e.y,i),p=_r(e.x2,a),n=_r(e.y2,i);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(p)||isNaN(parseFloat(e.x2)))&&(p=a),(isNaN(s)||isNaN(parseFloat(e.y)))&&(s=0),(isNaN(n)||isNaN(parseFloat(e.y2)))&&(n=i),r=LC.normalizeCssArray(r||0),{width:Math.max(p-o-r[1]-r[3],0),height:Math.max(n-s-r[0]-r[2],0)}}function PC(e,t,r){r=LC.normalizeCssArray(r||0);var a=t.width,i=t.height,o=_r(e.left,a),s=_r(e.top,i),p=_r(e.right,a),n=_r(e.bottom,i),h=_r(e.width,a),u=_r(e.height,i),v=r[2]+r[0],l=r[1]+r[3],f=e.aspect;switch(isNaN(h)&&(h=a-p-l-o),isNaN(u)&&(u=i-n-v-s),f!=null&&(isNaN(h)&&isNaN(u)&&(f>a/i?h=a*.8:u=i*.8),isNaN(h)&&(h=f*u),isNaN(u)&&(u=h/f)),isNaN(o)&&(o=a-p-h-l),isNaN(s)&&(s=i-n-u-v),e.left||e.right){case"center":o=a/2-h/2-r[3];break;case"right":o=a-h-l;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-u/2-r[0];break;case"bottom":s=i-u-v;break}o=o||0,s=s||0,isNaN(h)&&(h=a-l-o-(p||0)),isNaN(u)&&(u=i-v-s-(n||0));var d=new DC(o+r[3],s+r[0],h,u);return d.margin=r,d}function PO(e,t,r,a,i){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],p=i&&i.boundingMode||"all";if(!(!o&&!s)){var n;if(p==="raw")n=e.type==="group"?new DC(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(n=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();n=n.clone(),n.applyTransform(h)}t=PC(oi.defaults({width:n.width,height:n.height},t),r,a);var u=e.position,v=o?t.x-n.x:0,l=s?t.y-n.y:0;e.attr("position",p==="raw"?[v,l]:[u[0]+v,u[1]+l])}}function RO(e,t){return e[ta[t][0]]!=null||e[ta[t][1]]!=null&&e[ta[t][2]]!=null}function EO(e,t,r){!oi.isObject(r)&&(r={});var a=r.ignoreSize;!oi.isArray(a)&&(a=[a,a]);var i=s(ta[0],0),o=s(ta[1],1);h(ta[0],e,i),h(ta[1],e,o);function s(u,v){var l={},f=0,d={},m=0,c=2;if(Lo(u,function(_){d[_]=e[_]}),Lo(u,function(_){p(t,_)&&(l[_]=d[_]=t[_]),n(l,_)&&f++,n(d,_)&&m++}),a[v])return n(t,u[1])?d[u[2]]=null:n(t,u[2])&&(d[u[1]]=null),d;if(m===c||!f)return d;if(f>=c)return l;for(var g=0;g<u.length;g++){var y=u[g];if(!p(l,y)&&p(e,y)){l[y]=e[y];break}}return l}function p(u,v){return u.hasOwnProperty(v)}function n(u,v){return u[v]!=null&&u[v]!=="auto"}function h(u,v,l){Lo(u,function(f){v[f]=l[f]})}}function kO(e){return RC({},e)}function RC(e,t){return t&&e&&Lo(IC,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}ze.LOCATION_PARAMS=IC;ze.HV_NAMES=ta;ze.box=MO;ze.vbox=DO;ze.hbox=LO;ze.getAvailableSize=IO;ze.getLayoutRect=PC;ze.positionElement=PO;ze.sizeCalculable=RO;ze.mergeLayoutParam=EO;ze.getLayoutParams=kO;ze.copyLayoutParams=RC;var OO={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},zO=OO,ra=W,um=ot(),Qd=ia,EC=zt,BO=EC.enableClassManagement,NO=EC.parseClassType,VO=Ie,HO=VO.makeInner,xl=ze,qO=zO,GO=HO(),_i=um.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){um.call(this,e,t,r,a),this.uid=Qd.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?xl.getLayoutParams(e):{},i=t.getTheme();ra.merge(e,i.get(this.mainType)),ra.merge(e,this.getDefaultOption()),r&&xl.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){ra.merge(this.option,e,!0);var r=this.layoutMode;r&&xl.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=GO(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},o=t.length-1;o>=0;o--)i=ra.merge(i,t[o],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});BO(_i,{registerWhenExtend:!0});Qd.enableSubTypeDefaulter(_i);Qd.enableTopologicalTravel(_i,FO);function FO(e){var t=[];return ra.each(_i.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=ra.map(t,function(r){return NO(r).main}),e!=="dataset"&&ra.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}ra.mixin(_i,qO);var $O=_i,ct=$O,kC="";typeof navigator<"u"&&(kC=navigator.platform||"");var UO={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:kC.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},WO=UO,OC=Ie,ZO=OC.makeInner,YO=OC.normalizeToArray,Sl=ZO();function XO(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var KO={clearColorPalette:function(){Sl(this).colorIdx=0,Sl(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=Sl(t),i=a.colorIdx||0,o=a.colorNameMap=a.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var s=YO(this.get("color",!0)),p=this.get("colorLayer",!0),n=r==null||!p?s:XO(p,r);if(n=n||s,!(!n||!n.length)){var h=n[i];return e&&(o[e]=h),a.colorIdx=(i+1)%n.length,h}}},zC=KO,St={},Ht={},QO="original",jO="arrayRows",JO="objectRows",ez="keyedColumns",tz="unknown",rz="typedArray",az="column",iz="row";Ht.SOURCE_FORMAT_ORIGINAL=QO;Ht.SOURCE_FORMAT_ARRAY_ROWS=jO;Ht.SOURCE_FORMAT_OBJECT_ROWS=JO;Ht.SOURCE_FORMAT_KEYED_COLUMNS=ez;Ht.SOURCE_FORMAT_UNKNOWN=tz;Ht.SOURCE_FORMAT_TYPED_ARRAY=rz;Ht.SERIES_LAYOUT_BY_COLUMN=az;Ht.SERIES_LAYOUT_BY_ROW=iz;var BC=W,nz=BC.createHashMap,oz=BC.isTypedArray,sz=zt,lz=sz.enableClassCheck,An=Ht,uz=An.SOURCE_FORMAT_ORIGINAL,vz=An.SERIES_LAYOUT_BY_COLUMN,hz=An.SOURCE_FORMAT_UNKNOWN,cz=An.SOURCE_FORMAT_TYPED_ARRAY,fz=An.SOURCE_FORMAT_KEYED_COLUMNS;function Ko(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===fz?{}:[]),this.sourceFormat=e.sourceFormat||hz,this.seriesLayoutBy=e.seriesLayoutBy||vz,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&nz(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Ko.seriesDataToSource=function(e){return new Ko({data:e,sourceFormat:oz(e)?cz:uz,fromDataset:!1})};lz(Ko);var dz=Ko,Tn=dz,NC=Ie,gz=NC.makeInner,VC=NC.getDataItemValue,Tr=W,HC=Tr.createHashMap,sn=Tr.each,pz=Tr.map,Qo=Tr.isArray,ad=Tr.isString,si=Tr.isObject,jo=Tr.isTypedArray,mz=Tr.isArrayLike,yz=Tr.extend;Tr.assert;var _z=Tn,Da=Ht,jd=Da.SOURCE_FORMAT_ORIGINAL,Jo=Da.SOURCE_FORMAT_ARRAY_ROWS,us=Da.SOURCE_FORMAT_OBJECT_ROWS,vs=Da.SOURCE_FORMAT_KEYED_COLUMNS,xz=Da.SOURCE_FORMAT_UNKNOWN,qC=Da.SOURCE_FORMAT_TYPED_ARRAY,Jd=Da.SERIES_LAYOUT_BY_ROW,Tt={Must:1,Might:2,Not:3},li=gz();function Sz(e){var t=e.option.source,r=xz;if(jo(t))r=qC;else if(Qo(t)){t.length===0&&(r=Jo);for(var a=0,i=t.length;a<i;a++){var o=t[a];if(o!=null){if(Qo(o)){r=Jo;break}else if(si(o)){r=us;break}}}}else if(si(t)){for(var s in t)if(t.hasOwnProperty(s)&&mz(t[s])){r=vs;break}}else if(t!=null)throw new Error("Invalid data");li(e).sourceFormat=r}function bz(e){return li(e).source}function wz(e){li(e).datasetMap=HC()}function Az(e){var t=e.option,r=t.data,a=jo(r)?qC:jd,i=!1,o=t.seriesLayoutBy,s=t.sourceHeader,p=t.dimensions,n=eg(e);if(n){var h=n.option;r=h.source,a=li(n).sourceFormat,i=!0,o=o||h.seriesLayoutBy,s==null&&(s=h.sourceHeader),p=p||h.dimensions}var u=Tz(r,a,o,s,p);li(e).source=new _z({data:r,fromDataset:i,seriesLayoutBy:o,sourceFormat:a,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:t.encode})}function Tz(e,t,r,a,i){if(!e)return{dimensionsDefine:vm(i)};var o,s;if(t===Jo)a==="auto"||a==null?hm(function(n){n!=null&&n!=="-"&&(ad(n)?s==null&&(s=1):s=0)},r,e,10):s=a?1:0,!i&&s===1&&(i=[],hm(function(n,h){i[h]=n??""},r,e)),o=i?i.length:r===Jd?e.length:e[0]?e[0].length:null;else if(t===us)i||(i=Cz(e));else if(t===vs)i||(i=[],sn(e,function(n,h){i.push(h)}));else if(t===jd){var p=VC(e[0]);o=Qo(p)&&p.length||1}return{startIndex:s,dimensionsDefine:vm(i),dimensionsDetectCount:o}}function vm(e){if(e){var t=HC();return pz(e,function(r,a){if(r=yz({},si(r)?r:{name:r}),r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r})}}function hm(e,t,r,a){if(a==null&&(a=1/0),t===Jd)for(var i=0;i<r.length&&i<a;i++)e(r[i]?r[i][0]:null,i);else for(var o=r[0]||[],i=0;i<o.length&&i<a;i++)e(o[i],i)}function Cz(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r){var a=[];return sn(r,function(i,o){a.push(o)}),a}}function Mz(e,t,r){var a={},i=eg(t);if(!i||!e)return a;var o=[],s=[],p=t.ecModel,n=li(p).datasetMap,h=i.uid+"_"+r.seriesLayoutBy,u,v;e=e.slice(),sn(e,function(m,c){!si(m)&&(e[c]={name:m}),m.type==="ordinal"&&u==null&&(u=c,v=d(e[c])),a[m.name]=[]});var l=n.get(h)||n.set(h,{categoryWayDim:v,valueWayDim:0});sn(e,function(m,c){var g=m.name,y=d(m);if(u==null){var _=l.valueWayDim;f(a[g],_,y),f(s,_,y),l.valueWayDim+=y}else if(u===c)f(a[g],0,y),f(o,0,y);else{var _=l.categoryWayDim;f(a[g],_,y),f(s,_,y),l.categoryWayDim+=y}});function f(m,c,g){for(var y=0;y<g;y++)m.push(c+y)}function d(m){var c=m.dimsDef;return c?c.length:1}return o.length&&(a.itemName=o),s.length&&(a.seriesName=s),a}function Dz(e,t,r){var a={},i=eg(e);if(!i)return a;var o=t.sourceFormat,s=t.dimensionsDefine,p;(o===us||o===vs)&&sn(s,function(u,v){(si(u)?u.name:u)==="name"&&(p=v)});var n=function(){for(var u={},v={},l=[],f=0,d=Math.min(5,r);f<d;f++){var m=GC(t.data,o,t.seriesLayoutBy,s,t.startIndex,f);l.push(m);var c=m===Tt.Not;if(c&&u.v==null&&f!==p&&(u.v=f),(u.n==null||u.n===u.v||!c&&l[u.n]===Tt.Not)&&(u.n=f),g(u)&&l[u.n]!==Tt.Not)return u;c||(m===Tt.Might&&v.v==null&&f!==p&&(v.v=f),(v.n==null||v.n===v.v)&&(v.n=f))}function g(y){return y.v!=null&&y.n!=null}return g(u)?u:g(v)?v:null}();if(n){a.value=n.v;var h=p??n.n;a.itemName=[h],a.seriesName=[h]}return a}function eg(e){var t=e.option,r=t.data;if(!r)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function Lz(e,t){return GC(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function GC(e,t,r,a,i,o){var s,p=5;if(jo(e))return Tt.Not;var n,h;if(a){var u=a[o];si(u)?(n=u.name,h=u.type):ad(u)&&(n=u)}if(h!=null)return h==="ordinal"?Tt.Must:Tt.Not;if(t===Jo)if(r===Jd){for(var v=e[o],l=0;l<(v||[]).length&&l<p;l++)if((s=c(v[i+l]))!=null)return s}else for(var l=0;l<e.length&&l<p;l++){var f=e[i+l];if(f&&(s=c(f[o]))!=null)return s}else if(t===us){if(!n)return Tt.Not;for(var l=0;l<e.length&&l<p;l++){var d=e[l];if(d&&(s=c(d[n]))!=null)return s}}else if(t===vs){if(!n)return Tt.Not;var v=e[n];if(!v||jo(v))return Tt.Not;for(var l=0;l<v.length&&l<p;l++)if((s=c(v[l]))!=null)return s}else if(t===jd)for(var l=0;l<e.length&&l<p;l++){var d=e[l],m=VC(d);if(!Qo(m))return Tt.Not;if((s=c(m[o]))!=null)return s}function c(g){var y=ad(g);if(g!=null&&isFinite(g)&&g!=="")return y?Tt.Might:Tt.Not;if(y&&g!=="-")return Tt.Must}return Tt.Not}St.BE_ORDINAL=Tt;St.detectSourceFormat=Sz;St.getSource=bz;St.resetSourceDefaulter=wz;St.prepareSource=Az;St.makeSeriesEncodeForAxisCoordSys=Mz;St.makeSeriesEncodeForNameBased=Dz;St.guessOrdinal=Lz;var qt=W,Lt=qt.each,Xr=qt.filter,FC=qt.map,Io=qt.isArray,cm=qt.indexOf,bl=qt.isObject,Iz=qt.isString,tg=qt.createHashMap,fm=qt.assert,id=qt.clone,rg=qt.merge,dm=qt.extend,Pz=qt.mixin,Oi=Ie,gm=ot(),zr=ct,Rz=WO,Ez=zC,kz=St,Oz=kz.resetSourceDefaulter,nd="\0_ec_inner",$C=gm.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new gm(r),this._optionManager=a},setOption:function(e,t){fm(!(nd in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?Nz.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var o=r.getMediaOption(this,this._api);o.length&&Lt(o,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];Oz(this),Lt(e,function(o,s){o!=null&&(zr.hasClass(s)?s&&a.push(s):t[s]=t[s]==null?id(o):rg(t[s],o,!0))}),zr.topologicalTravel(a,zr.getAllClassMainTypes(),i,this);function i(o,s){var p=Oi.normalizeToArray(e[o]),n=Oi.mappingToExists(r.get(o),p);Oi.makeIdAndName(n),Lt(n,function(u,v){var l=u.option;bl(l)&&(u.keyInfo.mainType=o,u.keyInfo.subType=Hz(o,l,u.exist))});var h=Vz(r,s);t[o]=[],r.set(o,[]),Lt(n,function(u,v){var l=u.exist,f=u.option;if(fm(bl(f)||l,"Empty component definition"),!f)l.mergeOption({},this),l.optionUpdated({},!1);else{var d=zr.getClass(o,u.keyInfo.subType,!0);if(l&&l.constructor===d)l.name=u.keyInfo.name,l.mergeOption(f,this),l.optionUpdated(f,!1);else{var m=dm({dependentModels:h,componentIndex:v},u.keyInfo);l=new d(f,this,this,m),dm(l,m),l.init(f,this,this,m),l.optionUpdated(null,!0)}}r.get(o)[v]=l,t[o][v]=l.option},this),o==="series"&&wl(this,r.get("series"))}this._seriesIndicesMap=tg(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=id(this.option);return Lt(e,function(t,r){if(zr.hasClass(r)){for(var t=Oi.normalizeToArray(t),a=t.length-1;a>=0;a--)Oi.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[nd],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,o=this._componentsMap.get(t);if(!o||!o.length)return[];var s;if(r!=null)Io(r)||(r=[r]),s=Xr(FC(r,function(h){return o[h]}),function(h){return!!h});else if(a!=null){var p=Io(a);s=Xr(o,function(h){return p&&cm(a,h.id)>=0||!p&&h.id===a})}else if(i!=null){var n=Io(i);s=Xr(o,function(h){return n&&cm(i,h.name)>=0||!n&&h.name===i})}else s=o.slice();return pm(s,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=o(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return s(pm(i,e));function o(p){var n=r+"Index",h=r+"Id",u=r+"Name";return p&&(p[n]!=null||p[h]!=null||p[u]!=null)?{mainType:r,index:p[n],id:p[h],name:p[u]}:null}function s(p){return e.filter?Xr(p,e.filter):p}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(o,s){Lt(o,function(p,n){t.call(r,s,p,n)})});else if(Iz(e))Lt(a.get(e),t,r);else if(bl(e)){var i=this.findComponents(e);Lt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return Xr(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return Xr(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Lt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Lt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Lt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Lt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=Xr(this._componentsMap.get("series"),e,t);wl(this,r)},restoreData:function(e){var t=this._componentsMap;wl(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),zr.topologicalTravel(r,zr.getAllClassMainTypes(),function(a,i){Lt(t.get(a),function(o){(a!=="series"||!zz(o,e))&&o.restoreData()})})}});function zz(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function Bz(e,t){var r=e.color&&!e.colorLayer;Lt(t,function(a,i){i==="colorLayer"&&r||zr.hasClass(i)||(typeof a=="object"?e[i]=e[i]?rg(e[i],a,!1):id(a):e[i]==null&&(e[i]=a))})}function Nz(e){e=e,this.option={},this.option[nd]=1,this._componentsMap=tg({series:[]}),this._seriesIndices,this._seriesIndicesMap,Bz(e,this._theme.option),rg(e,Rz,!1),this.mergeOption(e)}function Vz(e,t){Io(t)||(t=t?[t]:[]);var r={};return Lt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function Hz(e,t,r){var a=t.type?t.type:r?r.subType:zr.determineSubType(e,t);return a}function wl(e,t){e._seriesIndicesMap=tg(e._seriesIndices=FC(t,function(r){return r.componentIndex})||[])}function pm(e,t){return t.hasOwnProperty("subType")?Xr(e,function(r){return r.subType===t.subType}):e}Pz($C,Ez);var qz=$C,UC=qz,mm=W,Gz=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Fz(e){mm.each(Gz,function(t){this[t]=mm.bind(e[t],e)},this)}var $z=Fz,WC=$z,ym=W,ag={};function ln(){this._coordinateSystems=[]}ln.prototype={constructor:ln,create:function(e,t){var r=[];ym.each(ag,function(a,i){var o=a.create(e,t);r=r.concat(o||[])}),this._coordinateSystems=r},update:function(e,t){ym.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ln.register=function(e,t){ag[e]=t};ln.get=function(e){return ag[e]};var Uz=ln,Cr=Uz,Vr=W,Po=Ie,Wz=ct,Ro=Vr.each,ga=Vr.clone,Eo=Vr.map,_m=Vr.merge,Zz=/^(min|max)?(.+)$/;function od(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}od.prototype={constructor:od,setOption:function(e,t){e&&Vr.each(Po.normalizeToArray(e.series),function(i){i&&i.data&&Vr.isTypedArray(i.data)&&Vr.setAsPrimitive(i.data)}),e=ga(e);var r=this._optionBackup,a=Yz.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(jz(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Eo(t.timelineOptions,ga),this._mediaList=Eo(t.mediaList,ga),this._mediaDefault=ga(t.mediaDefault),this._currentMediaIndices=[],ga(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=ga(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var p=0,n=a.length;p<n;p++)Xz(a[p].query,t,r)&&o.push(p);return!o.length&&i&&(o=[-1]),o.length&&!Qz(o,this._currentMediaIndices)&&(s=Eo(o,function(h){return ga(h===-1?i.option:a[h].option)})),this._currentMediaIndices=o,s}};function Yz(e,t,r){var a=[],i=[],o,s,p=e.timeline;if(e.baseOption&&(s=e.baseOption),(p||e.options)&&(s=s||{},a=(e.options||[]).slice()),e.media){s=s||{};var n=e.media;Ro(n,function(h){h&&h.option&&(h.query?i.push(h):o||(o=h))})}return s||(s=e),s.timeline||(s.timeline=p),Ro([s].concat(a).concat(Vr.map(i,function(h){return h.option})),function(h){Ro(t,function(u){u(h,r)})}),{baseOption:s,timelineOptions:a,mediaDefault:o,mediaList:i}}function Xz(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return Vr.each(e,function(o,s){var p=s.match(Zz);if(!(!p||!p[1]||!p[2])){var n=p[1],h=p[2].toLowerCase();Kz(a[h],o,n)||(i=!1)}}),i}function Kz(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function Qz(e,t){return e.join(",")===t.join(",")}function jz(e,t){t=t||{},Ro(t,function(r,a){if(r!=null){var i=e[a];if(!Wz.hasClass(a))e[a]=_m(i,r,!0);else{r=Po.normalizeToArray(r),i=Po.normalizeToArray(i);var o=Po.mappingToExists(i,r);e[a]=Eo(o,function(s){return s.option&&s.exist?_m(s.exist,s.option,!0):s.exist||s.option})}}})}var Jz=od,eB=Jz,Pt=W,xm=Ie,jt=Pt.each,un=Pt.isObject,Sm=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Al(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=Sm.length;r<a;r++){var i=Sm[r],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Pt.merge(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?Pt.merge(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function Ct(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,Pt.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function ji(e){Ct(e,"itemStyle"),Ct(e,"lineStyle"),Ct(e,"areaStyle"),Ct(e,"label"),Ct(e,"labelLine"),Ct(e,"upperLabel"),Ct(e,"edgeLabel")}function it(e,t){var r=un(e)&&e[t],a=un(r)&&r.textStyle;if(a)for(var i=0,o=xm.TEXT_STYLE_OPTIONS.length;i<o;i++){var t=xm.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function Ut(e){e&&(ji(e),it(e,"label"),e.emphasis&&it(e.emphasis,"label"))}function tB(e){if(un(e)){Al(e),ji(e),it(e,"label"),it(e,"upperLabel"),it(e,"edgeLabel"),e.emphasis&&(it(e.emphasis,"label"),it(e.emphasis,"upperLabel"),it(e.emphasis,"edgeLabel"));var o=e.markPoint;o&&(Al(o),Ut(o));var p=e.markLine;p&&(Al(p),Ut(p));var t=e.markArea;t&&Ut(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!Pt.isTypedArray(a))for(var i=0;i<a.length;i++)Ut(a[i]);Pt.each(e.categories,function(h){ji(h)})}if(r&&!Pt.isTypedArray(r))for(var i=0;i<r.length;i++)Ut(r[i]);var o=e.markPoint;if(o&&o.data)for(var s=o.data,i=0;i<s.length;i++)Ut(s[i]);var p=e.markLine;if(p&&p.data)for(var n=p.data,i=0;i<n.length;i++)Pt.isArray(n[i])?(Ut(n[i][0]),Ut(n[i][1])):Ut(n[i]);e.type==="gauge"?(it(e,"axisLabel"),it(e,"title"),it(e,"detail")):e.type==="treemap"?(Ct(e.breadcrumb,"itemStyle"),Pt.each(e.levels,function(h){ji(h)})):e.type==="tree"&&ji(e.leaves)}}function Ir(e){return Pt.isArray(e)?e:e?[e]:[]}function bm(e){return(Pt.isArray(e)?e[0]:e)||{}}function rB(e,t){jt(Ir(e.series),function(a){un(a)&&tB(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),jt(r,function(a){jt(Ir(e[a]),function(i){i&&(it(i,"axisLabel"),it(i.axisPointer,"label"))})}),jt(Ir(e.parallel),function(a){var i=a&&a.parallelAxisDefault;it(i,"axisLabel"),it(i&&i.axisPointer,"label")}),jt(Ir(e.calendar),function(a){Ct(a,"itemStyle"),it(a,"dayLabel"),it(a,"monthLabel"),it(a,"yearLabel")}),jt(Ir(e.radar),function(a){it(a,"name")}),jt(Ir(e.geo),function(a){un(a)&&(Ut(a),jt(Ir(a.regions),function(i){Ut(i)}))}),jt(Ir(e.timeline),function(a){Ut(a),Ct(a,"label"),Ct(a,"itemStyle"),Ct(a,"controlStyle",!0);var i=a.data;Pt.isArray(i)&&Pt.each(i,function(o){Pt.isObject(o)&&(Ct(o,"label"),Ct(o,"itemStyle"))})}),jt(Ir(e.toolbox),function(a){Ct(a,"iconStyle"),jt(a.feature,function(i){Ct(i,"iconStyle")})}),it(bm(e.axisPointer),"label"),it(bm(e.tooltip).axisPointer,"label")}var aB=rB,ig=W,ko=ig.each,iB=ig.isArray,nB=ig.isObject,oB=aB,sB=Ie,lB=sB.normalizeToArray;function uB(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function vB(e,t,r,a){t=t.split(",");for(var i=e,o,s=0;s<t.length-1;s++)o=t[s],i[o]==null&&(i[o]={}),i=i[o];(a||i[t[s]]==null)&&(i[t[s]]=r)}function wm(e){ko(hB,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var hB=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],cB=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function fB(e,t){oB(e,t),e.series=lB(e.series),ko(e.series,function(r){if(nB(r)){var a=r.type;if(a==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(a==="pie"||a==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(a==="gauge"){var i=uB(r,"pointer.color");i!=null&&vB(r,"itemStyle.color",i)}wm(r)}}),e.dataRange&&(e.visualMap=e.dataRange),ko(cB,function(r){var a=e[r];a&&(iB(a)||(a=[a]),ko(a,function(i){wm(i)}))})}var dB=fB,ZC=W,gB=ZC.createHashMap,pB=ZC.each;function mB(e){var t=gB();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),o=r.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(yB)}function yB(e){pB(e,function(t,r){var a=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,p=t.isStackedByIndex,n=s.map(o,function(h,u,v){var l=s.get(t.stackedDimension,v);if(isNaN(l))return i;var f,d;p?d=s.getRawIndex(v):f=s.get(t.stackedByDimension,v);for(var m=NaN,c=r-1;c>=0;c--){var g=e[c];if(p||(d=g.data.rawIndexOf(g.stackedByDimension,f)),d>=0){var y=g.data.getByRawIndex(g.stackResultDimension,d);if(l>=0&&y>0||l<=0&&y<0){l+=y,m=y;break}}}return a[0]=l,a[1]=m,a});s.hostModel.setData(n),t.data=n})}var _B=mB,ur={},Cn=W;Cn.isTypedArray;var xB=Cn.extend;Cn.assert;var SB=Cn.each,bB=Cn.isObject,YC=Ie,wB=YC.getDataItemValue,AB=YC.isDataItemOption,TB=Re(),CB=TB.parseDate,Am=Tn,hs=Ht,MB=hs.SOURCE_FORMAT_TYPED_ARRAY,DB=hs.SOURCE_FORMAT_ARRAY_ROWS,Tm=hs.SOURCE_FORMAT_ORIGINAL,LB=hs.SOURCE_FORMAT_OBJECT_ROWS;function XC(e,t){Am.isInstance(e)||(e=Am.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===MB&&(this._offset=0,this._dimSize=t,this._data=r);var i=IB[a===DB?a+"_"+e.seriesLayoutBy:a];xB(this,i)}var ng=XC.prototype;ng.pure=!1;ng.persistent=!0;ng.getSource=function(){return this._source};var IB={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Tl},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Cm,getItem:Mm,appendData:Tl},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;SB(e,function(r,a){for(var i=t[a]||(t[a]=[]),o=0;o<(r||[]).length;o++)i.push(r[o])})}},original:{count:Cm,getItem:Mm,appendData:Tl},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function Cm(){return this._data.length}function Mm(e){return this._data[e]}function Tl(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var PB={arrayRows:Cl,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:Cl,original:function(e,t,r,a){var i=wB(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:Cl};function Cl(e,t,r,a){return r!=null?e[r]:e}var RB={arrayRows:Dm,objectRows:function(e,t,r,a){return sd(e[t],this._dimensionInfos[t])},keyedColumns:Dm,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&AB(e)&&(this.hasItemOption=!0),sd(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function Dm(e,t,r,a){return sd(e[a],this._dimensionInfos[t])}function sd(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+CB(e)),e==null||e===""?NaN:+e}function EB(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,o,s,p=e.getDimensionInfo(r);return p&&(o=p.name,s=p.index),PB[i](a,t,s,o)}}}function kB(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==Tm&&a!==LB)){var i=e.getRawDataItem(t);if(a===Tm&&!bB(i)&&(i=null),i)return i[r]}}}ur.DefaultDataProvider=XC;ur.defaultDimValueGetters=RB;ur.retrieveRawValue=EB;ur.retrieveRawAttr=kB;var OB=ur,Lm=OB.retrieveRawValue,KC=Ge(),zB=KC.getTooltipMarker,BB=KC.formatTpl,NB=Ie,VB=NB.getTooltipRenderMode,HB=/\{@(.+?)\}/g,qB={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),o=r.getName(e),s=r.getRawDataItem(e),p=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"borderColor"),h=this.ecModel.getComponent("tooltip"),u=h&&h.get("renderMode"),v=VB(u),l=this.mainType,f=l==="series",d=r.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:i,data:s,dataType:t,value:a,color:p,borderColor:n,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,marker:zB({color:p,renderMode:v}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var o=this.getData(r),s=o.getItemModel(e),p=this.getDataParams(e,r);a!=null&&p.value instanceof Array&&(p.value=p.value[a]);var n=s.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof n=="function")return p.status=t,p.dimensionIndex=a,n(p);if(typeof n=="string"){var h=BB(n,p);return h.replace(HB,function(u,v){var l=v.length;return v.charAt(0)==="["&&v.charAt(l-1)==="]"&&(v=+v.slice(1,l-1)),Lm(o,e,v)})}},getRawValue:function(e,t){return Lm(this.getData(t),e)},formatTooltip:function(){}},og=qB,cs={},QC=W;QC.assert;var jC=QC.isArray;function GB(e){return new JC(e)}function JC(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var na=JC.prototype;na.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=h(this._modBy),s=this._modDataCount||0,p=h(e&&e.modBy),n=e&&e.modDataCount||0;(o!==p||s!==n)&&(i="reset");function h(g){return!(g>=1)&&(g=1),g}var u;(this._dirty||i==="reset")&&(this._dirty=!1,u=FB(this,r)),this._modBy=p,this._modDataCount=n;var v=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var l=this._dueIndex,f=Math.min(v!=null?this._dueIndex+v:1/0,this._dueEnd);if(!r&&(u||l<f)){var d=this._progress;if(jC(d))for(var m=0;m<d.length;m++)Pm(this,d[m],l,f,p,n);else Pm(this,d,l,f,p,n)}this._dueIndex=f;var c=this._settedOutputEnd!=null?this._settedOutputEnd:f;this._outputDueEnd=c}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Im=function(){var e,t,r,a,i,o={reset:function(n,h,u,v){t=n,e=h,r=u,a=v,i=Math.ceil(a/r),o.next=r>1&&a>0?p:s}};return o;function s(){return t<e?t++:null}function p(){var n=t%i*r+Math.ceil(t/i),h=t>=e?null:n<a?n:t;return t++,h}}();na.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function Pm(e,t,r,a,i,o){Im.reset(r,a,i,o),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:Im.next},e.context)}function FB(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),jC(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}na.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};na.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};na.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};na.getUpstream=function(){return this._upstream};na.getDownstream=function(){return this._downstream};na.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};cs.createTask=GB;var kt=W,$B=nt,fs=Ge(),UB=fs.formatTime,zi=fs.encodeHTML,Rm=fs.addCommas,Em=fs.getTooltipMarker,Ji=Ie,km=ct,eM=zC,WB=og,tM=ze,ZB=tM.getLayoutParams,Om=tM.mergeLayoutParam,YB=cs,XB=YB.createTask,rM=St,zm=rM.prepareSource,KB=rM.getSource,QB=ur,Bm=QB.retrieveRawValue,Bi=Ji.makeInner(),sg=km.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=XB({count:JB,reset:eN}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),zm(this);var i=this.getInitialData(e,r);Vm(i,this),this.dataTask.context.data=i,Bi(this).dataBeforeProcessed=i,Nm(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?ZB(e):{},i=this.subType;km.hasClass(i)&&(i+="Series"),kt.merge(e,t.getTheme().get(this.subType)),kt.merge(e,this.getDefaultOption()),Ji.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Om(e,a,r)},mergeOption:function(e,t){e=kt.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&Om(this.option,e,r),zm(this);var a=this.getInitialData(e,t);Vm(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Bi(this).dataBeforeProcessed=a,Nm(this)},fillDataTextStyle:function(e){if(e&&!kt.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Ji.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=ld(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return Bi(this).data},setData:function(e){var t=ld(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}Bi(this).data=e},getSource:function(){return KB(this)},getRawData:function(){return Bi(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,a){var i=this;a=a||"html";var o=a==="html"?"<br/>":`
`,s=a==="richText",p={},n=0;function h(T){var C=kt.reduce(T,function(P,E,O){var B=v.getDimensionInfo(O);return P|=B&&B.tooltip!==!1&&B.displayName!=null},0),M=[];l.length?kt.each(l,function(P){D(Bm(v,e,P),P)}):kt.each(T,D);function D(P,E){var O=v.getDimensionInfo(E);if(!(!O||O.otherDims.tooltip===!1)){var B=O.type,q="sub"+i.seriesIndex+"at"+n,V=Em({color:c,type:"subItem",renderMode:a,markerId:q}),R=typeof V=="string"?V:V.content,z=(C?R+zi(O.displayName||"-")+": ":"")+zi(B==="ordinal"?P+"":B==="time"?t?"":UB("yyyy/MM/dd hh:mm:ss",P):Rm(P));z&&M.push(z),s&&(p[q]=c,++n)}}var L=C?s?`
`:"<br/>":"",I=L+M.join(L||", ");return{renderMode:a,content:I,style:p}}function u(T){return{renderMode:a,content:zi(Rm(T)),style:p}}var v=this.getData(),l=v.mapDimension("defaultedTooltip",!0),f=l.length,d=this.getRawValue(e),m=kt.isArray(d),c=v.getItemVisual(e,"color");kt.isObject(c)&&c.colorStops&&(c=(c.colorStops[0]||{}).color),c=c||"transparent";var g=f>1||m&&!f?h(d):u(f?Bm(v,e,l[0]):m?d[0]:d),y=g.content,_=i.seriesIndex+"at"+n,A=Em({color:c,type:"item",renderMode:a,markerId:_});p[_]=c,++n;var b=v.getName(e),w=this.name;Ji.isNameSpecified(this)||(w=""),w=w?zi(w)+(t?": ":o):"";var x=typeof A=="string"?A:A.content,S=t?x+w+y:w+x+(b?zi(b)+": "+y:y);return{html:S,markers:p}},isAnimationEnabled:function(){if($B.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=eM.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});kt.mixin(sg,WB);kt.mixin(sg,eM);function Nm(e){var t=e.name;Ji.isNameSpecified(e)||(e.name=jB(e)||t)}function jB(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return kt.each(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&a.push(o.displayName)}),a.join(" ")}function JB(e){return e.model.getRawData().count()}function eN(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),tN}function tN(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Vm(e,t){kt.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,kt.curry(rN,t))})}function rN(e){var t=ld(e);t&&t.setOutputEnd(this.count())}function ld(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var aN=sg,ft=aN,iN=Ta,nN=ia,aM=zt,ui=function(){this.group=new iN,this.uid=nN.getUID("viewComponent")};ui.prototype={constructor:ui,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){},filterForExposedEvent:null};var Ml=ui.prototype;Ml.updateView=Ml.updateLayout=Ml.updateVisual=function(e,t,r,a){};aM.enableClassExtend(ui);aM.enableClassManagement(ui,{registerWhenExtend:!0});var oN=ui,ds=oN,sN=Ie,lN=sN.makeInner;function uN(){var e=lN();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,o=r.progressiveRender,s=r.large=a&&a.large,p=r.progressiveRender=a&&a.progressiveRender;return!!(i^s||o^p)&&"reset"}}var xi=uN,vN=W,hN=vN.each,cN=Ta,fN=ia,iM=zt,ud=Ie,nM=fe,dN=cs,gN=dN.createTask,pN=xi,oM=ud.makeInner(),mN=pN();function Si(){this.group=new cN,this.uid=fN.getUID("viewChart"),this.renderTask=gN({plan:yN,reset:_N}),this.renderTask.context={view:this}}Si.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){Hm(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){Hm(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var Dl=Si.prototype;Dl.updateView=Dl.updateLayout=Dl.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function vd(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!nM.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)vd(e.childAt(a),t,r)}function Hm(e,t,r){var a=ud.queryDataIndex(e,t),i=t&&t.highlightKey!=null?nM.getHighlightDigit(t.highlightKey):null;a!=null?hN(ud.normalizeToArray(a),function(o){vd(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){vd(o,r,i)})}iM.enableClassExtend(Si,["dispose"]);iM.enableClassManagement(Si,{registerWhenExtend:!0});Si.markUpdateMethod=function(e,t){oM(e).updateMethod=t};function yN(e){return mN(e.model)}function _N(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,p=i&&oM(i).updateMethod,n=o?"incrementalPrepareRender":p&&s[p]?p:"render";return n!=="render"&&s[n](t,r,a,i),xN[n]}var xN={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},SN=Si,Mr=SN,vr={},es="\0__throttleOriginMethod",qm="\0__throttleRate",Gm="\0__throttleType";function sM(e,t,r){var a,i=0,o=0,s=null,p,n,h,u;t=t||0;function v(){o=new Date().getTime(),s=null,e.apply(n,h||[])}var l=function(){a=new Date().getTime(),n=this,h=arguments;var f=u||t,d=u||r;u=null,p=a-(d?i:o)-f,clearTimeout(s),d?s=setTimeout(v,f):p>=0?v():s=setTimeout(v,-p),i=a};return l.clear=function(){s&&(clearTimeout(s),s=null)},l.debounceNextCall=function(f){u=f},l}function bN(e,t,r,a){var i=e[t];if(i){var o=i[es]||i,s=i[Gm],p=i[qm];if(p!==r||s!==a){if(r==null||!a)return e[t]=o;i=e[t]=sM(o,r,a==="debounce"),i[es]=o,i[Gm]=a,i[qm]=r}return i}}function wN(e,t){var r=e[t];r&&r[es]&&(e[t]=r[es])}vr.throttle=sM;vr.createOrUpdate=bN;vr.clear=wN;var AN=ss,TN=W,CN=TN.isFunction,MN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a),o=CN(i)&&!(i instanceof AN)?i:null;(!i||o)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",i);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),p=e.get(s);if(r.setVisual("borderColor",p),!t.isSeriesFiltered(e)){o&&r.each(function(h){r.setItemVisual(h,"color",o(e.getDataParams(h)))});var n=function(h,u){var v=h.getItemModel(u),l=v.get(a,!0),f=v.get(s,!0);l!=null&&h.setItemVisual(u,"color",l),f!=null&&h.setItemVisual(u,"borderColor",f)};return{dataEach:r.hasItemOption?n:null}}}},DN=MN,LN={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},oa=LN,IN=W,Fm=oa,PN=ur,RN=PN.retrieveRawValue;function EN(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(m,c){++a},this);var i=r.get("data.maxCount")||10,o=r.get("series.maxCount")||10,s=Math.min(a,o),p;if(a<1)return;var n=f();n?p=v(l("general.withTitle"),{title:n}):p=l("general.withoutTitle");var h=[],u=a>1?"series.multiple.prefix":"series.single.prefix";p+=v(l(u),{seriesCount:a}),t.eachSeries(function(m,c){if(c<s){var g,y=m.get("name"),_="series."+(a>1?"multiple":"single")+".";g=l(y?_+"withName":_+"withoutName"),g=v(g,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:d(m.subType)});var A=m.getData();window.data=A,A.count()>i?g+=v(l("data.partialData"),{displayCnt:i}):g+=l("data.allData");for(var b=[],w=0;w<A.count();w++)if(w<i){var x=A.getName(w),S=RN(A,w);b.push(v(l(x?"data.withName":"data.withoutName"),{name:x,value:S}))}g+=b.join(l("data.separator.middle"))+l("data.separator.end"),h.push(g)}}),p+=h.join(l("series.multiple.separator.middle"))+l("series.multiple.separator.end"),e.setAttribute("aria-label",p);function v(m,c){if(typeof m!="string")return m;var g=m;return IN.each(c,function(y,_){g=g.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),g}function l(m){var c=r.get(m);if(c==null){for(var g=m.split("."),y=Fm.aria,_=0;_<g.length;++_)y=y[g[_]];return y}else return c}function f(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function d(m){return Fm.series.typeNames[m]||"自定义图"}}var kN=EN,ON=W,lo=fe,zN=Ue,uo=Math.PI;function BN(e,t){t=t||{},ON.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new lo.Group,a=new lo.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(a);var i=t.fontSize+" sans-serif",o=new lo.Rect({style:{fill:"none",text:t.text,font:i,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(r.add(o),t.showSpinner){var s=new lo.Arc({shape:{startAngle:-uo/2,endAngle:-uo/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:uo*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:uo*3/2}).delay(300).start("circularInOut"),r.add(s)}return r.resize=function(){var p=zN.getWidth(t.text,i),n=t.showSpinner?t.spinnerRadius:0,h=(e.getWidth()-n*2-(t.showSpinner&&p?10:0)-p)/2-(t.showSpinner?0:p/2),u=e.getHeight()/2;t.showSpinner&&s.setShape({cx:h,cy:u}),o.setShape({x:h-n,y:u-n,width:n*2,height:n*2}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var NN=BN,Mn=W,lg=Mn.each,VN=Mn.map,HN=Mn.isFunction,gs=Mn.createHashMap,qN=Mn.noop,GN=cs,hd=GN.createTask,FN=ia,$N=FN.getUID,UN=UC,WN=WC,ZN=Ie,YN=ZN.normalizeToArray;function ug(e,t,i,o){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),o=this._visualHandlers=o.slice();this._allHandlers=i.concat(o),this._stageTaskMap=gs()}var Yt=ug.prototype;Yt.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};Yt.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=i?r.step:null,s=a&&a.modDataCount,p=s!=null?Math.ceil(s/o):null;return{step:o,modBy:p,modDataCount:s}}};Yt.getPipeline=function(e){return this._pipelineMap.get(e)};Yt.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),p=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:p,large:s}};Yt.restorePipelines=function(e){var t=this,r=t._pipelineMap=gs();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),ps(t,a,a.dataTask)})};Yt.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;lg(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&XN(this,a,i,t,r),a.overallReset&&KN(this,a,i,t,r)},this)};Yt.prepareView=function(e,t,r,a){var i=e.renderTask,o=i.context;o.model=t,o.ecModel=r,o.api=a,i.__block=!e.incrementalPrepareRender,ps(this,t,i)};Yt.performDataProcessorTasks=function(e,t){lM(this,this._dataProcessorHandlers,e,t,{block:!0})};Yt.performVisualTasks=function(e,t,r){lM(this,this._visualHandlers,e,t,r)};function lM(e,t,r,a,i){i=i||{};var o;lg(t,function(p,n){if(!(i.visualType&&i.visualType!==p.visualType)){var h=e._stageTaskMap.get(p.uid),u=h.seriesTaskMap,v=h.overallTask;if(v){var l,f=v.agentStubMap;f.each(function(m){s(i,m)&&(m.dirty(),l=!0)}),l&&v.dirty(),$m(v,a);var d=e.getPerformArgs(v,i.block);f.each(function(m){m.perform(d)}),o|=v.perform(d)}else u&&u.each(function(m,c){s(i,m)&&m.dirty();var g=e.getPerformArgs(m,i.block);g.skip=!p.performRawSeries&&r.isSeriesFiltered(m.context.model),$m(m,a),o|=m.perform(g)})}});function s(p,n){return p.setDirty&&(!p.dirtyMap||p.dirtyMap.get(n.__pipeline.id))}e.unfinished|=o}Yt.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Yt.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var $m=Yt.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function XN(e,t,r,a,i){var o=r.seriesTaskMap||(r.seriesTaskMap=gs()),s=t.seriesType,p=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(n):s?a.eachRawSeriesByType(s,n):p&&p(a,i).each(n);function n(u){var v=u.uid,l=o.get(v)||o.set(v,hd({plan:tV,reset:rV,count:iV}));l.context={model:u,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},ps(e,u,l)}var h=e._pipelineMap;o.each(function(u,v){h.get(v)||(u.dispose(),o.removeKey(v))})}function KN(e,t,r,a,i){var o=r.overallTask=r.overallTask||hd({reset:QN});o.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var s=o.agentStubMap=o.agentStubMap||gs(),p=t.seriesType,n=t.getTargetSeries,h=!0,u=t.modifyOutputEnd;p?a.eachRawSeriesByType(p,v):n?n(a,i).each(v):(h=!1,lg(a.getSeries(),v));function v(f){var d=f.uid,m=s.get(d);m||(m=s.set(d,hd({reset:jN,onDirty:eV})),o.dirty()),m.context={model:f,overallProgress:h,modifyOutputEnd:u},m.agent=o,m.__block=h,ps(e,f,m)}var l=e._pipelineMap;s.each(function(f,d){l.get(d)||(f.dispose(),o.dirty(),s.removeKey(d))})}function QN(e){e.overallReset(e.ecModel,e.api,e.payload)}function jN(e,t){return e.overallProgress&&JN}function JN(){this.agent.dirty(),this.getDownstream().dirty()}function eV(){this.agent&&this.agent.dirty()}function tV(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function rV(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=YN(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?VN(t,function(r,a){return uM(a)}):aV}var aV=uM(0);function uM(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(a,o);else i&&i.progress&&i.progress(t,a)}}function iV(e){return e.data.count()}function ps(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}ug.wrapStageHandler=function(e,t){return HN(e)&&(e={overallReset:e,seriesType:nV(e)}),e.uid=$N("stageHandler"),t&&(e.visualType=t),e};function nV(e){ts=null;try{e(vn,vM)}catch{}return ts}var vn={},vM={},ts;hM(vn,UN);hM(vM,WN);vn.eachSeriesByType=vn.eachRawSeriesByType=function(e){ts=e};vn.eachComponent=function(e){e.mainType==="series"&&e.subType&&(ts=e.subType)};function hM(e,t){for(var r in t.prototype)e[r]=qN}var oV=ug,sV=oV,Um=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],lV={color:Um,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Um]},uV=lV,_t="#eee",vo=function(){return{axisLine:{lineStyle:{color:_t}},axisTick:{lineStyle:{color:_t}},axisLabel:{textStyle:{color:_t}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:_t}}}},Ll=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],cM={color:Ll,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:_t},crossStyle:{color:_t},label:{color:"#000"}}},legend:{textStyle:{color:_t}},textStyle:{color:_t},title:{textStyle:{color:_t}},toolbox:{iconStyle:{normal:{borderColor:_t}}},dataZoom:{textStyle:{color:_t}},visualMap:{textStyle:{color:_t}},timeline:{lineStyle:{color:_t},itemStyle:{normal:{color:Ll[1]}},label:{normal:{textStyle:{color:_t}}},controlStyle:{normal:{color:_t,borderColor:_t}}},timeAxis:vo(),logAxis:vo(),valueAxis:vo(),categoryAxis:vo(),line:{symbol:"circle"},graph:{color:Ll},gauge:{title:{textStyle:{color:_t}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};cM.categoryAxis.splitLine.show=!1;var vV=cM,hV=vV,cV=ct,fV=ds,dV=St,gV=dV.detectSourceFormat,pV=Ht,mV=pV.SERIES_LAYOUT_BY_COLUMN;cV.extend({type:"dataset",defaultOption:{seriesLayoutBy:mV,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){gV(this)}});fV.extend({type:"dataset"});var Dn={},yV=at,_V=yV.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,a=t.cx,i=t.cy,o=t.rx,s=t.ry,p=o*r,n=s*r;e.moveTo(a-o,i),e.bezierCurveTo(a-o,i-n,a-p,i-s,a,i-s),e.bezierCurveTo(a+p,i-s,a+o,i-n,a+o,i),e.bezierCurveTo(a+o,i+n,a+p,i+s,a,i+s),e.bezierCurveTo(a-p,i+s,a-o,i+n,a-o,i),e.closePath()}}),xV=_V,en=Ta,SV=di,bV=Ca,wV=JT,fM=qd,AV=xV,TV=aC,CV=at,MV=tC,DV=rC,LV=Gd,IV=md,ho=Rt(),PV=Sn,RV=PV.createFromString,Ln=W,EV=Ln.isString,kV=Ln.extend,OV=Ln.defaults,Br=Ln.trim,Wm=Ln.each,Qr=/[\s,]+/;function dM(e){if(EV(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function ms(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}ms.prototype.parse=function(e,t){t=t||{};var r=dM(e);if(!r)throw new Error("Illegal svg");var a=new en;this._root=a;var i=r.getAttribute("viewBox")||"",o=parseFloat(r.getAttribute("width")||t.width),s=parseFloat(r.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),Nt(r,a,null,!0);for(var p=r.firstChild;p;)this._parseNode(p,a),p=p.nextSibling;var n,h;if(i){var u=Br(i).split(Qr);u.length>=4&&(n={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(n&&o!=null&&s!=null&&(h=gM(n,o,s),!t.ignoreViewBox)){var v=a;a=new en,a.add(v),v.scale=h.scale.slice(),v.position=h.position.slice()}return!t.ignoreRootClip&&o!=null&&s!=null&&a.setClipPath(new fM({shape:{x:0,y:0,width:o,height:s}})),{root:a,width:o,height:s,viewBoxRect:n,viewBoxTransform:h}};ms.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var a;if(this._isDefine){var i=BV[r];if(i){var o=i.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=o)}}else{var i=zV[r];i&&(a=i.call(this,e,t),t.add(a))}for(var p=e.firstChild;p;)p.nodeType===1&&this._parseNode(p,a),p.nodeType===3&&this._isText&&this._parseText(p,a),p=p.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};ms.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var i=new bV({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});$t(t,i),Nt(e,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i};var zV={g:function(e,t){var r=new en;return $t(t,r),Nt(e,r,this._defs),r},rect:function(e,t){var r=new fM;return $t(t,r),Nt(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new wV;return $t(t,r),Nt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new TV;return $t(t,r),Nt(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new AV;return $t(t,r),Nt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=Zm(r));var a=new MV({shape:{points:r||[]}});return $t(t,a),Nt(e,a,this._defs),a},polyline:function(e,t){var r=new CV;$t(t,r),Nt(e,r,this._defs);var a=e.getAttribute("points");a&&(a=Zm(a));var i=new DV({shape:{points:a||[]}});return i},image:function(e,t){var r=new SV;return $t(t,r),Nt(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,a=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var s=new en;return $t(t,s),Nt(e,s,this._defs),s},tspan:function(e,t){var r=e.getAttribute("x"),a=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,s=new en;return $t(t,s),Nt(e,s,this._defs),this._textX+=i,this._textY+=o,s},path:function(e,t){var r=e.getAttribute("d")||"",a=RV(r);return $t(t,a),Nt(e,a,this._defs),a}},BV={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),o=new LV(t,r,a,i);return NV(e,o),o},radialgradient:function(e){}};function NV(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var a=r.getAttribute("offset");a.indexOf("%")>0?a=parseInt(a,10)/100:a?a=parseFloat(a):a=0;var i=r.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}r=r.nextSibling}}function $t(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),OV(t.__inheritedStyle,e.__inheritedStyle))}function Zm(e){for(var t=Br(e).split(Qr),r=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),o=parseFloat(t[a+1]);r.push([i,o])}return r}var ei={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Nt(e,t,r,a){var i=t.__inheritedStyle||{},o=t.type==="text";if(e.nodeType===1&&(qV(e,t),kV(i,GV(e)),!a)){for(var s in ei)if(ei.hasOwnProperty(s)){var p=e.getAttribute(s);p!=null&&(i[ei[s]]=p)}}var n=o?"textFill":"fill",h=o?"textStroke":"stroke";t.style=t.style||new IV;var u=t.style;i.fill!=null&&u.set(n,Ym(i.fill,r)),i.stroke!=null&&u.set(h,Ym(i.stroke,r)),Wm(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(v){var l=v==="lineWidth"&&o?"textStrokeWidth":v;i[v]!=null&&u.set(l,parseFloat(i[v]))}),(!i.textBaseline||i.textBaseline==="auto")&&(i.textBaseline="alphabetic"),i.textBaseline==="alphabetic"&&(i.textBaseline="bottom"),i.textAlign==="start"&&(i.textAlign="left"),i.textAlign==="end"&&(i.textAlign="right"),Wm(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(v){i[v]!=null&&u.set(v,i[v])}),i.lineDash&&(t.style.lineDash=Br(i.lineDash).split(Qr)),u[h]&&u[h]!=="none"&&(t[h]=!0),t.__inheritedStyle=i}var VV=/url\(\s*#(.*?)\)/;function Ym(e,t){var r=t&&e&&e.match(VV);if(r){var a=Br(r[1]),i=t[a];return i}return e}var HV=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function qV(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,i=[];r.replace(HV,function(n,h,u){i.push(h,u)});for(var o=i.length-1;o>0;o-=2){var s=i[o],p=i[o-1];switch(a=a||ho.create(),p){case"translate":s=Br(s).split(Qr),ho.translate(a,a,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=Br(s).split(Qr),ho.scale(a,a,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=Br(s).split(Qr),ho.rotate(a,a,parseFloat(s[0]));break;case"skew":s=Br(s).split(Qr),console.warn("Skew transform is not supported yet");break;case"matrix":var s=Br(s).split(Qr);a[0]=parseFloat(s[0]),a[1]=parseFloat(s[1]),a[2]=parseFloat(s[2]),a[3]=parseFloat(s[3]),a[4]=parseFloat(s[4]),a[5]=parseFloat(s[5]);break}}t.setLocalTransform(a)}}var Xm=/([^\s:;]+)\s*:\s*([^:;]+)/g;function GV(e){var t=e.getAttribute("style"),r={};if(!t)return r;var a={};Xm.lastIndex=0;for(var i;(i=Xm.exec(t))!=null;)a[i[1]]=i[2];for(var o in ei)ei.hasOwnProperty(o)&&a[o]!=null&&(r[ei[o]]=a[o]);return r}function gM(e,t,r){var a=t/e.width,i=r/e.height,o=Math.min(a,i),s=[o,o],p=[-(e.x+e.width/2)*o+t/2,-(e.y+e.height/2)*o+r/2];return{scale:s,position:p}}function FV(e,t){var r=new ms;return r.parse(e,t)}Dn.parseXML=dM;Dn.makeViewBoxTransform=gM;Dn.parseSVG=FV;var In=W,$V=In.createHashMap,UV=In.isString,WV=In.isArray,ZV=In.each;In.assert;var YV=Dn,XV=YV.parseXML,Km=$V(),KV={registerMap:function(e,t,r){var a;return WV(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:r}]),ZV(a,function(i){var o=i.type;o==="geoJson"&&(o=i.type="geoJSON");var s=QV[o];s(i)}),Km.set(e,a)},retrieveMap:function(e){return Km.get(e)}},QV={geoJSON:function(e){var t=e.source;e.geoJSON=UV(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=XV(e.source)}},vg=KV,pt={},mr={},Il,Qm;function La(){if(Qm)return Il;Qm=1;function e(i){return i}function t(i,o,s,p,n){this._old=i,this._new=o,this._oldKeyGetter=s||e,this._newKeyGetter=p||e,this.context=n}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,o=this._new,s={},p={},n=[],h=[],u;for(r(i,s,n,"_oldKeyGetter",this),r(o,p,h,"_newKeyGetter",this),u=0;u<i.length;u++){var v=n[u],l=p[v];if(l!=null){var f=l.length;f?(f===1&&(p[v]=null),l=l.shift()):p[v]=null,this._update&&this._update(l,u)}else this._remove&&this._remove(u)}for(var u=0;u<h.length;u++){var v=h[u];if(p.hasOwnProperty(v)){var l=p[v];if(l==null)continue;if(!l.length)this._add&&this._add(l);else for(var d=0,f=l.length;d<f;d++)this._add&&this._add(l[d])}}}};function r(i,o,s,p,n){for(var h=0;h<i.length;h++){var u="_ec_"+n[p](i[h],h),v=o[u];v==null?(s.push(u),o[u]=h):(v.length||(o[u]=v=[v]),v.push(h))}}var a=t;return Il=a,Il}var Ni={},jm;function Pn(){if(jm)return Ni;jm=1;var e=W,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(n){var h={},u=h.encode={},v=r(),l=[],f=[],d=h.userOutput={dimensionNames:n.dimensions.slice(),encode:{}};t(n.dimensions,function(_){var A=n.getDimensionInfo(_),b=A.coordDim;if(b){var w=A.coordDimIndex;o(u,b)[w]=_,A.isExtraCoord||(v.set(b,1),p(A.type)&&(l[0]=_),o(d.encode,b)[w]=A.index),A.defaultTooltip&&f.push(_)}a.each(function(x,S){var T=o(u,S),C=A.otherDims[S];C!=null&&C!==!1&&(T[C]=A.name)})});var m=[],c={};v.each(function(_,A){var b=u[A];c[A]=b[0],m=m.concat(b)}),h.dataDimsOnCoord=m,h.encodeFirstDimNotExtra=c;var g=u.label;g&&g.length&&(l=g.slice());var y=u.tooltip;return y&&y.length?f=y.slice():f.length||(f=l.slice()),u.defaultedLabel=l,u.defaultedTooltip=f,h}function o(n,h){return n.hasOwnProperty(h)||(n[h]=[]),n[h]}function s(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function p(n){return!(n==="ordinal"||n==="time")}return Ni.OTHER_DIMENSIONS=a,Ni.summarizeDimensions=i,Ni.getDimensionTypeByAxis=s,Ni}var Pl,Jm;function pM(){if(Jm)return Pl;Jm=1;var e=W;function t(a){a!=null&&e.extend(this,a),this.otherDims={}}var r=t;return Pl=r,Pl}var Rl,ey;function Xt(){if(ey)return Rl;ey=1;var e=W,t=ot(),r=La(),a=Tn,i=ur,o=i.defaultDimValueGetters,s=i.DefaultDataProvider,p=Pn(),n=p.summarizeDimensions,h=pM(),u=e.isObject,v="undefined",l=-1,f="e\0\0",d={float:typeof Float64Array===v?Array:Float64Array,int:typeof Int32Array===v?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===v?Array:Uint32Array,c=typeof Int32Array===v?Array:Int32Array,g=typeof Uint16Array===v?Array:Uint16Array;function y(R){return R._rawCount>65535?m:g}function _(R){var z=R.constructor;return z===Array?R.slice():new z(R)}var A=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],b=["_extent","_approximateExtent","_rawExtent"];function w(R,z){e.each(A.concat(z.__wrappedMethods||[]),function(k){z.hasOwnProperty(k)&&(R[k]=z[k])}),R.__wrappedMethods=z.__wrappedMethods,e.each(b,function(k){R[k]=e.clone(z[k])}),R._calculationInfo=e.extend(z._calculationInfo)}var x=function(R,z){R=R||["x","y"];for(var k={},N=[],G={},H=0;H<R.length;H++){var F=R[H];e.isString(F)?F=new h({name:F}):F instanceof h||(F=new h(F));var $=F.name;F.type=F.type||"float",F.coordDim||(F.coordDim=$,F.coordDimIndex=0),F.otherDims=F.otherDims||{},N.push($),k[$]=F,F.index=H,F.createInvertedIndices&&(G[$]=[])}this.dimensions=N,this._dimensionInfos=k,this.hostModel=z,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=n(this),this._invertedIndicesMap=G,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},S=x.prototype;S.type="list",S.hasItemOption=!0,S.getDimension=function(R){return(typeof R=="number"||!isNaN(R)&&!this._dimensionInfos.hasOwnProperty(R))&&(R=this.dimensions[R]),R},S.getDimensionInfo=function(R){return this._dimensionInfos[this.getDimension(R)]},S.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},S.mapDimension=function(R,z){var k=this._dimensionsSummary;if(z==null)return k.encodeFirstDimNotExtra[R];var N=k.encode[R];return z===!0?(N||[]).slice():N&&N[z]},S.initData=function(R,z,k){var N=a.isInstance(R)||e.isArrayLike(R);N&&(R=new s(R,this.dimensions.length)),this._rawData=R,this._storage={},this._indices=null,this._nameList=z||[],this._idList=[],this._nameRepeatCount={},k||(this.hasItemOption=!1),this.defaultDimValueGetter=o[this._rawData.getSource().sourceFormat],this._dimValueGetter=k=k||this.defaultDimValueGetter,this._dimValueGetterArrayRows=o.arrayRows,this._rawExtent={},this._initDataFromProvider(0,R.count()),R.pure&&(this.hasItemOption=!1)},S.getProvider=function(){return this._rawData},S.appendData=function(R){var z=this._rawData,k=this.count();z.appendData(R);var N=z.count();z.persistent||(N+=k),this._initDataFromProvider(k,N)},S.appendValues=function(R,z){for(var k=this._chunkSize,N=this._storage,G=this.dimensions,H=G.length,F=this._rawExtent,$=this.count(),U=$+Math.max(R.length,z?z.length:0),K=this._chunkCount,Q=0;Q<H;Q++){var j=G[Q];F[j]||(F[j]=B()),N[j]||(N[j]=[]),T(N,this._dimensionInfos[j],k,K,U),this._chunkCount=N[j].length}for(var ee=new Array(H),re=$;re<U;re++){for(var te=re-$,oe=Math.floor(re/k),xe=re%k,se=0;se<H;se++){var j=G[se],ge=this._dimValueGetterArrayRows(R[te]||ee,j,te,se);N[j][oe][xe]=ge;var we=F[j];ge<we[0]&&(we[0]=ge),ge>we[1]&&(we[1]=ge)}z&&(this._nameList[re]=z[te])}this._rawCount=this._count=U,this._extent={},C(this)},S._initDataFromProvider=function(R,z){if(!(R>=z)){for(var k=this._chunkSize,N=this._rawData,G=this._storage,H=this.dimensions,F=H.length,$=this._dimensionInfos,U=this._nameList,K=this._idList,Q=this._rawExtent,j=this._nameRepeatCount={},ee,re=this._chunkCount,te=0;te<F;te++){var oe=H[te];Q[oe]||(Q[oe]=B());var xe=$[oe];xe.otherDims.itemName===0&&(ee=this._nameDimIdx=te),xe.otherDims.itemId===0&&(this._idDimIdx=te),G[oe]||(G[oe]=[]),T(G,xe,k,re,z),this._chunkCount=G[oe].length}for(var se=new Array(F),ge=R;ge<z;ge++){se=N.getItem(ge,se);for(var we=Math.floor(ge/k),ie=ge%k,ne=0;ne<F;ne++){var oe=H[ne],de=G[oe][we],Z=this._dimValueGetter(se,oe,ge,ne);de[ie]=Z;var X=Q[oe];Z<X[0]&&(X[0]=Z),Z>X[1]&&(X[1]=Z)}if(!N.pure){var J=U[ge];if(se&&J==null){if(se.name!=null)U[ge]=J=se.name;else if(ee!=null){var ue=H[ee],le=G[ue][we];if(le){J=le[ie];var ve=$[ue].ordinalMeta;ve&&ve.categories.length&&(J=ve.categories[J])}}}var he=se==null?null:se.id;he==null&&J!=null&&(j[J]=j[J]||0,he=J,j[J]>0&&(he+="__ec__"+j[J]),j[J]++),he!=null&&(K[ge]=he)}}!N.persistent&&N.clean&&N.clean(),this._rawCount=this._count=z,this._extent={},C(this)}};function T(R,z,k,N,G){var H=d[z.type],F=N-1,$=z.name,U=R[$][F];if(U&&U.length<k){for(var K=new H(Math.min(G-F*k,k)),Q=0;Q<U.length;Q++)K[Q]=U[Q];R[$][F]=K}for(var j=N*k;j<G;j+=k)R[$].push(new H(Math.min(G-j,k)))}function C(R){var z=R._invertedIndicesMap;e.each(z,function(k,N){var G=R._dimensionInfos[N],H=G.ordinalMeta;if(H){k=z[N]=new c(H.categories.length);for(var F=0;F<k.length;F++)k[F]=l;for(var F=0;F<R._count;F++)k[R.get(N,F)]=F}})}function M(R,z,k){var N;if(z!=null){var G=R._chunkSize,H=Math.floor(k/G),F=k%G,$=R.dimensions[z],U=R._storage[$][H];if(U){N=U[F];var K=R._dimensionInfos[$].ordinalMeta;K&&K.categories.length&&(N=K.categories[N])}}return N}S.count=function(){return this._count},S.getIndices=function(){var R,z=this._indices;if(z){var k=z.constructor,N=this._count;if(k===Array){R=new k(N);for(var G=0;G<N;G++)R[G]=z[G]}else R=new k(z.buffer,0,N)}else for(var k=y(this),R=new k(this.count()),G=0;G<R.length;G++)R[G]=G;return R},S.get=function(R,z){if(!(z>=0&&z<this._count))return NaN;var k=this._storage;if(!k[R])return NaN;z=this.getRawIndex(z);var N=Math.floor(z/this._chunkSize),G=z%this._chunkSize,H=k[R][N],F=H[G];return F},S.getByRawIndex=function(R,z){if(!(z>=0&&z<this._rawCount))return NaN;var k=this._storage[R];if(!k)return NaN;var N=Math.floor(z/this._chunkSize),G=z%this._chunkSize,H=k[N];return H[G]},S._getFast=function(R,z){var k=Math.floor(z/this._chunkSize),N=z%this._chunkSize,G=this._storage[R][k];return G[N]},S.getValues=function(R,z){var k=[];e.isArray(R)||(z=R,R=this.dimensions);for(var N=0,G=R.length;N<G;N++)k.push(this.get(R[N],z));return k},S.hasValue=function(R){for(var z=this._dimensionsSummary.dataDimsOnCoord,k=0,N=z.length;k<N;k++)if(isNaN(this.get(z[k],R)))return!1;return!0},S.getDataExtent=function(R){R=this.getDimension(R);var z=this._storage[R],k=B();if(!z)return k;var N=this.count(),G=!this._indices,H;if(G)return this._rawExtent[R].slice();if(H=this._extent[R],H)return H.slice();H=k;for(var F=H[0],$=H[1],U=0;U<N;U++){var K=this._getFast(R,this.getRawIndex(U));K<F&&(F=K),K>$&&($=K)}return H=[F,$],this._extent[R]=H,H},S.getApproximateExtent=function(R){return R=this.getDimension(R),this._approximateExtent[R]||this.getDataExtent(R)},S.setApproximateExtent=function(R,z){z=this.getDimension(z),this._approximateExtent[z]=R.slice()},S.getCalculationInfo=function(R){return this._calculationInfo[R]},S.setCalculationInfo=function(R,z){u(R)?e.extend(this._calculationInfo,R):this._calculationInfo[R]=z},S.getSum=function(R){var z=this._storage[R],k=0;if(z)for(var N=0,G=this.count();N<G;N++){var H=this.get(R,N);isNaN(H)||(k+=H)}return k},S.getMedian=function(R){var z=[];this.each(R,function(G,H){isNaN(G)||z.push(G)});var k=[].concat(z).sort(function(G,H){return G-H}),N=this.count();return N===0?0:N%2===1?k[(N-1)/2]:(k[N/2]+k[N/2-1])/2},S.rawIndexOf=function(R,z){var k=R&&this._invertedIndicesMap[R],N=k[z];return N==null||isNaN(N)?l:N},S.indexOfName=function(R){for(var z=0,k=this.count();z<k;z++)if(this.getName(z)===R)return z;return-1},S.indexOfRawIndex=function(R){if(R>=this._rawCount||R<0)return-1;if(!this._indices)return R;var z=this._indices,k=z[R];if(k!=null&&k<this._count&&k===R)return R;for(var N=0,G=this._count-1;N<=G;){var H=(N+G)/2|0;if(z[H]<R)N=H+1;else if(z[H]>R)G=H-1;else return H}return-1},S.indicesOfNearest=function(R,z,k){var N=this._storage,G=N[R],H=[];if(!G)return H;k==null&&(k=1/0);for(var F=1/0,$=-1,U=0,K=0,Q=this.count();K<Q;K++){var j=z-this.get(R,K),ee=Math.abs(j);ee<=k&&((ee<F||ee===F&&j>=0&&$<0)&&(F=ee,$=j,U=0),j===$&&(H[U++]=K))}return H.length=U,H},S.getRawIndex=D;function D(R){return R}function L(R){return R<this._count&&R>=0?this._indices[R]:-1}S.getRawDataItem=function(R){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(R));for(var z=[],k=0;k<this.dimensions.length;k++){var N=this.dimensions[k];z.push(this.get(N,R))}return z},S.getName=function(R){var z=this.getRawIndex(R);return this._nameList[z]||M(this,this._nameDimIdx,z)||""},S.getId=function(R){return I(this,this.getRawIndex(R))};function I(R,z){var k=R._idList[z];return k==null&&(k=M(R,R._idDimIdx,z)),k==null&&(k=f+z),k}function P(R){return e.isArray(R)||(R=[R]),R}S.each=function(R,z,k,N){if(this._count){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this,R=e.map(P(R),this.getDimension,this);for(var G=R.length,H=0;H<this.count();H++)switch(G){case 0:z.call(k,H);break;case 1:z.call(k,this.get(R[0],H),H);break;case 2:z.call(k,this.get(R[0],H),this.get(R[1],H),H);break;default:for(var F=0,$=[];F<G;F++)$[F]=this.get(R[F],H);$[F]=H,z.apply(k,$)}}},S.filterSelf=function(R,z,k,N){if(this._count){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this,R=e.map(P(R),this.getDimension,this);for(var G=this.count(),H=y(this),F=new H(G),$=[],U=R.length,K=0,Q=R[0],j=0;j<G;j++){var ee,re=this.getRawIndex(j);if(U===0)ee=z.call(k,j);else if(U===1){var te=this._getFast(Q,re);ee=z.call(k,te,j)}else{for(var oe=0;oe<U;oe++)$[oe]=this._getFast(Q,re);$[oe]=j,ee=z.apply(k,$)}ee&&(F[K++]=re)}return K<G&&(this._indices=F),this._count=K,this._extent={},this.getRawIndex=this._indices?L:D,this}},S.selectRange=function(R){if(this._count){var z=[];for(var k in R)R.hasOwnProperty(k)&&z.push(k);var N=z.length;if(N){var G=this.count(),H=y(this),F=new H(G),$=0,U=z[0],K=R[U][0],Q=R[U][1],j=!1;if(!this._indices){var ee=0;if(N===1){for(var re=this._storage[z[0]],te=0;te<this._chunkCount;te++)for(var oe=re[te],xe=Math.min(this._count-te*this._chunkSize,this._chunkSize),se=0;se<xe;se++){var ge=oe[se];(ge>=K&&ge<=Q||isNaN(ge))&&(F[$++]=ee),ee++}j=!0}else if(N===2){for(var re=this._storage[U],we=this._storage[z[1]],ie=R[z[1]][0],ne=R[z[1]][1],te=0;te<this._chunkCount;te++)for(var oe=re[te],de=we[te],xe=Math.min(this._count-te*this._chunkSize,this._chunkSize),se=0;se<xe;se++){var ge=oe[se],Z=de[se];(ge>=K&&ge<=Q||isNaN(ge))&&(Z>=ie&&Z<=ne||isNaN(Z))&&(F[$++]=ee),ee++}j=!0}}if(!j)if(N===1)for(var se=0;se<G;se++){var X=this.getRawIndex(se),ge=this._getFast(U,X);(ge>=K&&ge<=Q||isNaN(ge))&&(F[$++]=X)}else for(var se=0;se<G;se++){for(var J=!0,X=this.getRawIndex(se),te=0;te<N;te++){var ue=z[te],ge=this._getFast(k,X);(ge<R[ue][0]||ge>R[ue][1])&&(J=!1)}J&&(F[$++]=this.getRawIndex(se))}return $<G&&(this._indices=F),this._count=$,this._extent={},this.getRawIndex=this._indices?L:D,this}}},S.mapArray=function(R,z,k,N){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this;var G=[];return this.each(R,function(){G.push(z&&z.apply(this,arguments))},k),G};function E(R,z){var k=R.dimensions,N=new x(e.map(k,R.getDimensionInfo,R),R.hostModel);w(N,R);for(var G=N._storage={},H=R._storage,F=0;F<k.length;F++){var $=k[F];H[$]&&(e.indexOf(z,$)>=0?(G[$]=O(H[$]),N._rawExtent[$]=B(),N._extent[$]=null):G[$]=H[$])}return N}function O(R){for(var z=new Array(R.length),k=0;k<R.length;k++)z[k]=_(R[k]);return z}function B(){return[1/0,-1/0]}S.map=function(R,z,k,N){k=k||N||this,R=e.map(P(R),this.getDimension,this);var G=E(this,R);G._indices=this._indices,G.getRawIndex=G._indices?L:D;for(var H=G._storage,F=[],$=this._chunkSize,U=R.length,K=this.count(),Q=[],j=G._rawExtent,ee=0;ee<K;ee++){for(var re=0;re<U;re++)Q[re]=this.get(R[re],ee);Q[U]=ee;var te=z&&z.apply(k,Q);if(te!=null){typeof te!="object"&&(F[0]=te,te=F);for(var oe=this.getRawIndex(ee),xe=Math.floor(oe/$),se=oe%$,ge=0;ge<te.length;ge++){var we=R[ge],ie=te[ge],ne=j[we],de=H[we];de&&(de[xe][se]=ie),ie<ne[0]&&(ne[0]=ie),ie>ne[1]&&(ne[1]=ie)}}}return G},S.downSample=function(R,z,k,N){for(var G=E(this,[R]),H=G._storage,F=[],$=Math.floor(1/z),U=H[R],K=this.count(),Q=this._chunkSize,j=G._rawExtent[R],ee=new(y(this))(K),re=0,te=0;te<K;te+=$){$>K-te&&($=K-te,F.length=$);for(var oe=0;oe<$;oe++){var xe=this.getRawIndex(te+oe),se=Math.floor(xe/Q),ge=xe%Q;F[oe]=U[se][ge]}var we=k(F),ie=this.getRawIndex(Math.min(te+N(F,we)||0,K-1)),ne=Math.floor(ie/Q),de=ie%Q;U[ne][de]=we,we<j[0]&&(j[0]=we),we>j[1]&&(j[1]=we),ee[re++]=ie}return G._count=re,G._indices=ee,G.getRawIndex=L,G},S.getItemModel=function(R){var z=this.hostModel;return new t(this.getRawDataItem(R),z,z&&z.ecModel)},S.diff=function(R){var z=this;return new r(R?R.getIndices():[],this.getIndices(),function(k){return I(R,k)},function(k){return I(z,k)})},S.getVisual=function(R){var z=this._visual;return z&&z[R]},S.setVisual=function(R,z){if(u(R)){for(var k in R)R.hasOwnProperty(k)&&this.setVisual(k,R[k]);return}this._visual=this._visual||{},this._visual[R]=z},S.setLayout=function(R,z){if(u(R)){for(var k in R)R.hasOwnProperty(k)&&this.setLayout(k,R[k]);return}this._layout[R]=z},S.getLayout=function(R){return this._layout[R]},S.getItemLayout=function(R){return this._itemLayouts[R]},S.setItemLayout=function(R,z,k){this._itemLayouts[R]=k?e.extend(this._itemLayouts[R]||{},z):z},S.clearItemLayouts=function(){this._itemLayouts.length=0},S.getItemVisual=function(R,z,k){var N=this._itemVisuals[R],G=N&&N[z];return G==null&&!k?this.getVisual(z):G},S.setItemVisual=function(R,z,k){var N=this._itemVisuals[R]||{},G=this.hasItemVisual;if(this._itemVisuals[R]=N,u(z)){for(var H in z)z.hasOwnProperty(H)&&(N[H]=z[H],G[H]=!0);return}N[z]=k,G[z]=!0},S.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var q=function(R){R.seriesIndex=this.seriesIndex,R.dataIndex=this.dataIndex,R.dataType=this.dataType};S.setItemGraphicEl=function(R,z){var k=this.hostModel;z&&(z.dataIndex=R,z.dataType=this.dataType,z.seriesIndex=k&&k.seriesIndex,z.type==="group"&&z.traverse(q,z)),this._graphicEls[R]=z},S.getItemGraphicEl=function(R){return this._graphicEls[R]},S.eachItemGraphicEl=function(R,z){e.each(this._graphicEls,function(k,N){k&&R&&R.call(z,k,N)})},S.cloneShallow=function(R){if(!R){var z=e.map(this.dimensions,this.getDimensionInfo,this);R=new x(z,this.hostModel)}if(R._storage=this._storage,w(R,this),this._indices){var k=this._indices.constructor;R._indices=new k(this._indices)}else R._indices=null;return R.getRawIndex=R._indices?L:D,R},S.wrapMethod=function(R,z){var k=this[R];typeof k=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(R),this[R]=function(){var N=k.apply(this,arguments);return z.apply(this,[N].concat(e.slice(arguments)))})},S.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],S.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=x;return Rl=V,Rl}var El,ty;function mM(){if(ty)return El;ty=1;var e=W,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,o=e.extend,s=e.isObject,p=e.clone,n=Ie,h=n.normalizeToArray,u=St,v=u.guessOrdinal,l=u.BE_ORDINAL,f=Tn,d=Pn(),m=d.OTHER_DIMENSIONS,c=pM();function g(b,w,x){f.isInstance(w)||(w=f.seriesDataToSource(w)),x=x||{},b=(b||[]).slice();for(var S=(x.dimsDef||[]).slice(),T=t(),C=t(),M=[],D=y(w,b,S,x.dimCount),L=0;L<D;L++){var I=S[L]=o({},s(S[L])?S[L]:{name:S[L]}),P=I.name,E=M[L]=new c;P!=null&&T.get(P)==null&&(E.name=E.displayName=P,T.set(P,L)),I.type!=null&&(E.type=I.type),I.displayName!=null&&(E.displayName=I.displayName)}var O=x.encodeDef;!O&&x.encodeDefaulter&&(O=x.encodeDefaulter(w,D)),O=t(O),O.each(function(H,F){if(H=h(H).slice(),H.length===1&&!a(H[0])&&H[0]<0){O.set(F,!1);return}var $=O.set(F,[]);r(H,function(U,K){a(U)&&(U=T.get(U)),U!=null&&U<D&&($[K]=U,q(M[U],F,K))})});var B=0;r(b,function(U,F){var $,U,K,Q;if(a(U))$=U,U={};else{$=U.name;var j=U.ordinalMeta;U.ordinalMeta=null,U=p(U),U.ordinalMeta=j,K=U.dimsDef,Q=U.otherDims,U.name=U.coordDim=U.coordDimIndex=U.dimsDef=U.otherDims=null}var ee=O.get($);if(ee!==!1){var ee=h(ee);if(!ee.length)for(var re=0;re<(K&&K.length||1);re++){for(;B<M.length&&M[B].coordDim!=null;)B++;B<M.length&&ee.push(B++)}r(ee,function(te,oe){var xe=M[te];if(q(i(xe,U),$,oe),xe.name==null&&K){var se=K[oe];!s(se)&&(se={name:se}),xe.name=xe.displayName=se.name,xe.defaultTooltip=se.defaultTooltip}Q&&i(xe.otherDims,Q)})}});function q(H,F,$){m.get(F)!=null?H.otherDims[F]=$:(H.coordDim=F,H.coordDimIndex=$,C.set(F,!0))}var V=x.generateCoord,R=x.generateCoordCount,z=R!=null;R=V?R||1:0;for(var k=V||"value",N=0;N<D;N++){var E=M[N]=M[N]||new c,G=E.coordDim;G==null&&(E.coordDim=_(k,C,z),E.coordDimIndex=0,(!V||R<=0)&&(E.isExtraCoord=!0),R--),E.name==null&&(E.name=_(E.coordDim,T)),E.type==null&&(v(w,N,E.name)===l.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return M}function y(b,w,x,S){var T=Math.max(b.dimensionsDetectCount||1,w.length,x.length,S||0);return r(w,function(C){var M=C.dimsDef;M&&(T=Math.max(T,M.length))}),T}function _(b,w,x){if(x||w.get(b)!=null){for(var S=0;w.get(b+S)!=null;)S++;b+=S}return w.set(b,!0),b}var A=g;return El=A,El}var kl,ry;function bi(){if(ry)return kl;ry=1;var e=mM();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,encodeDefaulter:a.encodeDefaulter,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return kl=t,kl}var Ol={},ay;function jV(){if(ay)return Ol;ay=1;var e=W,t=e.createHashMap;e.retrieve;var r=e.each;function a(p){this.coordSysName=p,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function i(p){var n=p.get("coordinateSystem"),h=new a(n),u=o[n];if(u)return u(p,h,h.axisMap,h.categoryAxisMap),h}var o={cartesian2d:function(p,n,h,u){var v=p.getReferringComponents("xAxis")[0],l=p.getReferringComponents("yAxis")[0];n.coordSysDims=["x","y"],h.set("x",v),h.set("y",l),s(v)&&(u.set("x",v),n.firstCategoryDimIndex=0),s(l)&&(u.set("y",l),n.firstCategoryDimIndex==null&(n.firstCategoryDimIndex=1))},singleAxis:function(p,n,h,u){var v=p.getReferringComponents("singleAxis")[0];n.coordSysDims=["single"],h.set("single",v),s(v)&&(u.set("single",v),n.firstCategoryDimIndex=0)},polar:function(p,n,h,u){var v=p.getReferringComponents("polar")[0],l=v.findAxisModel("radiusAxis"),f=v.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],h.set("radius",l),h.set("angle",f),s(l)&&(u.set("radius",l),n.firstCategoryDimIndex=0),s(f)&&(u.set("angle",f),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(p,n,h,u){n.coordSysDims=["lng","lat"]},parallel:function(p,n,h,u){var v=p.ecModel,l=v.getComponent("parallel",p.get("parallelIndex")),f=n.coordSysDims=l.dimensions.slice();r(l.parallelAxisIndex,function(d,m){var c=v.getComponent("parallelAxis",d),g=f[m];h.set(g,c),s(c)&&n.firstCategoryDimIndex==null&&(u.set(g,c),n.firstCategoryDimIndex=m)})}};function s(p){return p.get("type")==="category"}return Ol.getCoordSysInfoBySeries=i,Ol}var Vi={},iy;function Dr(){if(iy)return Vi;iy=1;var e=W,t=e.each,r=e.isString;function a(s,p,n){n=n||{};var h=n.byIndex,u=n.stackedCoordDimension,v=!!(s&&s.get("stack")),l,f,d,m;if(t(p,function(_,A){r(_)&&(p[A]=_={name:_}),v&&!_.isExtraCoord&&(!h&&!l&&_.ordinalMeta&&(l=_),!f&&_.type!=="ordinal"&&_.type!=="time"&&(!u||u===_.coordDim)&&(f=_))}),f&&!h&&!l&&(h=!0),f){d="__\0ecstackresult",m="__\0ecstackedover",l&&(l.createInvertedIndices=!0);var c=f.coordDim,g=f.type,y=0;t(p,function(_){_.coordDim===c&&y++}),p.push({name:d,coordDim:c,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0}),y++,p.push({name:m,coordDim:m,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:f&&f.name,stackedByDimension:l&&l.name,isStackedByIndex:h,stackedOverDimension:m,stackResultDimension:d}}function i(s,p){return!!p&&p===s.getCalculationInfo("stackedDimension")}function o(s,p){return i(s,p)?s.getCalculationInfo("stackResultDimension"):p}return Vi.enableDataStack=a,Vi.isDimensionStacked=i,Vi.getStackedDimension=o,Vi}var zl,ny;function qr(){if(ny)return zl;ny=1;var e=W,t=Xt(),r=bi(),a=Ht,i=a.SOURCE_FORMAT_ORIGINAL,o=Pn(),s=o.getDimensionTypeByAxis,p=Ie,n=p.getDataItemValue,h=Cr,u=jV(),v=u.getCoordSysInfoBySeries,l=Tn,f=Dr(),d=f.enableDataStack,m=St,c=m.makeSeriesEncodeForAxisCoordSys;function g(b,w,x){x=x||{},l.isInstance(b)||(b=l.seriesDataToSource(b));var S=w.get("coordinateSystem"),T=h.get(S),C=v(w),M;C&&(M=e.map(C.coordSysDims,function(B){var q={name:B},V=C.axisMap.get(B);if(V){var R=V.get("type");q.type=s(R)}return q})),M||(M=T&&(T.getDimensionsInfo?T.getDimensionsInfo():T.dimensions.slice())||["x","y"]);var D=r(b,{coordDimensions:M,generateCoord:x.generateCoord,encodeDefaulter:x.useEncodeDefaulter?e.curry(c,M,w):null}),L,I;C&&e.each(D,function(B,q){var V=B.coordDim,R=C.categoryAxisMap.get(V);R&&(L==null&&(L=q),B.ordinalMeta=R.getOrdinalMeta()),B.otherDims.itemName!=null&&(I=!0)}),!I&&L!=null&&(D[L].otherDims.itemName=0);var P=d(w,D),E=new t(D,w);E.setCalculationInfo(P);var O=L!=null&&y(b)?function(B,q,V,R){return R===L?V:this.defaultDimValueGetter(B,q,V,R)}:null;return E.hasItemOption=!1,E.initData(b,null,O),E}function y(b){if(b.sourceFormat===i){var w=_(b.data||[]);return w!=null&&!e.isArray(n(w))}}function _(b){for(var w=0;w<b.length&&b[w]==null;)w++;return b[w]}var A=g;return zl=A,zl}var Jt={},Bl,oy;function ys(){if(oy)return Bl;oy=1;var e=zt;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var o=this._extent;isNaN(a)||(o[0]=a),isNaN(i)||(o[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return Bl=r,Bl}var Nl,sy;function yM(){if(sy)return Nl;sy=1;var e=W,t=e.createHashMap,r=e.isObject,a=e.map;function i(h){this.categories=h.categories||[],this._needCollect=h.needCollect,this._deduplication=h.deduplication,this._map}i.createByAxisModel=function(h){var u=h.option,v=u.data,l=v&&a(v,p);return new i({categories:l,needCollect:!l,deduplication:u.dedplication!==!1})};var o=i.prototype;o.getOrdinal=function(h){return s(this).get(h)},o.parseAndCollect=function(h){var u,v=this._needCollect;if(typeof h!="string"&&!v)return h;if(v&&!this._deduplication)return u=this.categories.length,this.categories[u]=h,u;var l=s(this);return u=l.get(h),u==null&&(v?(u=this.categories.length,this.categories[u]=h,l.set(h,u)):u=NaN),u};function s(h){return h._map||(h._map=t(h.categories))}function p(h){return r(h)&&h.value!=null?h.value:h+""}var n=i;return Nl=n,Nl}var Vl,ly;function JV(){if(ly)return Vl;ly=1;var e=W,t=ys(),r=yM(),a=t.prototype,i=t.extend({type:"ordinal",init:function(s,p){(!s||e.isArray(s))&&(s=new r({categories:s})),this._ordinalMeta=s,this._extent=p||[0,s.categories.length-1]},parse:function(s){return typeof s=="string"?this._ordinalMeta.getOrdinal(s):Math.round(s)},contain:function(s){return s=this.parse(s),a.contain.call(this,s)&&this._ordinalMeta.categories[s]!=null},normalize:function(s){return a.normalize.call(this,this.parse(s))},scale:function(s){return Math.round(a.scale.call(this,s))},getTicks:function(){for(var s=[],p=this._extent,n=p[0];n<=p[1];)s.push(n),n++;return s},getLabel:function(s){if(!this.isBlank())return this._ordinalMeta.categories[s]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(s,p){this.unionExtent(s.getApproximateExtent(p))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var o=i;return Vl=o,Vl}var Hi={},uy;function _M(){if(uy)return Hi;uy=1;var e=Re(),t=e.round;function r(s,p,n,h){var u={},v=s[1]-s[0],l=u.interval=e.nice(v/p,!0);n!=null&&l<n&&(l=u.interval=n),h!=null&&l>h&&(l=u.interval=h);var f=u.intervalPrecision=a(l),d=u.niceTickExtent=[t(Math.ceil(s[0]/l)*l,f),t(Math.floor(s[1]/l)*l,f)];return o(d,s),u}function a(s){return e.getPrecisionSafe(s)+2}function i(s,p,n){s[p]=Math.max(Math.min(s[p],n[1]),n[0])}function o(s,p){!isFinite(s[0])&&(s[0]=p[0]),!isFinite(s[1])&&(s[1]=p[1]),i(s,0,p),i(s,1,p),s[0]>s[1]&&(s[0]=s[1])}return Hi.intervalScaleNiceTicks=r,Hi.getIntervalPrecision=a,Hi.fixExtent=o,Hi}var Hl,vy;function _s(){if(vy)return Hl;vy=1;var e=Re(),t=Ge(),r=ys(),a=_M(),i=e.round,o=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(p,n){var h=this._extent;isNaN(p)||(h[0]=parseFloat(p)),isNaN(n)||(h[1]=parseFloat(n))},unionExtent:function(p){var n=this._extent;p[0]<n[0]&&(n[0]=p[0]),p[1]>n[1]&&(n[1]=p[1]),o.prototype.setExtent.call(this,n[0],n[1])},getInterval:function(){return this._interval},setInterval:function(p){this._interval=p,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(p)},getTicks:function(p){var n=this._interval,h=this._extent,u=this._niceExtent,v=this._intervalPrecision,l=[];if(!n)return l;var f=1e4;h[0]<u[0]&&(p?l.push(i(u[0]-n,v)):l.push(h[0]));for(var d=u[0];d<=u[1]&&(l.push(d),d=i(d+n,v),d!==l[l.length-1]);)if(l.length>f)return[];var m=l.length?l[l.length-1]:u[1];return h[1]>m&&(p?l.push(i(m+n,v)):l.push(h[1])),l},getMinorTicks:function(p){for(var n=this.getTicks(!0),h=[],u=this.getExtent(),v=1;v<n.length;v++){for(var l=n[v],f=n[v-1],d=0,m=[],c=l-f,g=c/p;d<p-1;){var y=e.round(f+(d+1)*g);y>u[0]&&y<u[1]&&m.push(y),d++}h.push(m)}return h},getLabel:function(p,n){if(p==null)return"";var h=n&&n.precision;return h==null?h=e.getPrecisionSafe(p)||0:h==="auto"&&(h=this._intervalPrecision),p=i(p,h,!0),t.addCommas(p)},niceTicks:function(p,n,h){p=p||5;var u=this._extent,v=u[1]-u[0];if(isFinite(v)){v<0&&(v=-v,u.reverse());var l=a.intervalScaleNiceTicks(u,p,n,h);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},niceExtent:function(p){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var h=n[0];p.fixMax||(n[1]+=h/2),n[0]-=h/2}else n[1]=1;var u=n[1]-n[0];isFinite(u)||(n[0]=0,n[1]=1),this.niceTicks(p.splitNumber,p.minInterval,p.maxInterval);var v=this._interval;p.fixMin||(n[0]=i(Math.floor(n[0]/v)*v)),p.fixMax||(n[1]=i(Math.ceil(n[1]/v)*v))}});o.create=function(){return new o};var s=o;return Hl=s,Hl}var Zr={},hy;function xs(){if(hy)return Zr;hy=1;var e=W,t=Re(),r=t.parsePercent,a=Dr(),i=a.isDimensionStacked,o=xi,s="__ec_stack_",p=.5,n=typeof Float32Array<"u"?Float32Array:Array;function h(w){return w.get("stack")||s+w.seriesIndex}function u(w){return w.dim+w.index}function v(w){var x=[],S=w.axis,T="axis0";if(S.type==="category"){for(var C=S.getBandWidth(),M=0;M<w.count;M++)x.push(e.defaults({bandWidth:C,axisKey:T,stackId:s+M},w));for(var D=m(x),L=[],M=0;M<w.count;M++){var I=D[T][s+M];I.offsetCenter=I.offset+I.width/2,L.push(I)}return L}}function l(w,x){var S=[];return x.eachSeriesByType(w,function(T){_(T)&&!A(T)&&S.push(T)}),S}function f(w){var x={};e.each(w,function(I){var P=I.coordinateSystem,E=P.getBaseAxis();if(!(E.type!=="time"&&E.type!=="value"))for(var O=I.getData(),B=E.dim+"_"+E.index,q=O.mapDimension(E.dim),V=0,R=O.count();V<R;++V){var z=O.get(q,V);x[B]?x[B].push(z):x[B]=[z]}});var S=[];for(var T in x)if(x.hasOwnProperty(T)){var C=x[T];if(C){C.sort(function(I,P){return I-P});for(var M=null,D=1;D<C.length;++D){var L=C[D]-C[D-1];L>0&&(M=M===null?L:Math.min(M,L))}S[T]=M}}return S}function d(w){var x=f(w),S=[];return e.each(w,function(T){var C=T.coordinateSystem,M=C.getBaseAxis(),D=M.getExtent(),L;if(M.type==="category")L=M.getBandWidth();else if(M.type==="value"||M.type==="time"){var I=M.dim+"_"+M.index,P=x[I],E=Math.abs(D[1]-D[0]),O=M.scale.getExtent(),B=Math.abs(O[1]-O[0]);L=P?E/B*P:E}else{var q=T.getData();L=Math.abs(D[1]-D[0])/q.count()}var V=r(T.get("barWidth"),L),R=r(T.get("barMaxWidth"),L),z=r(T.get("barMinWidth")||1,L),k=T.get("barGap"),N=T.get("barCategoryGap");S.push({bandWidth:L,barWidth:V,barMaxWidth:R,barMinWidth:z,barGap:k,barCategoryGap:N,axisKey:u(M),stackId:h(T)})}),m(S)}function m(w){var x={};e.each(w,function(T,C){var M=T.axisKey,D=T.bandWidth,L=x[M]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},I=L.stacks;x[M]=L;var P=T.stackId;I[P]||L.autoWidthCount++,I[P]=I[P]||{width:0,maxWidth:0};var E=T.barWidth;E&&!I[P].width&&(I[P].width=E,E=Math.min(L.remainedWidth,E),L.remainedWidth-=E);var O=T.barMaxWidth;O&&(I[P].maxWidth=O);var B=T.barMinWidth;B&&(I[P].minWidth=B);var q=T.barGap;q!=null&&(L.gap=q);var V=T.barCategoryGap;V!=null&&(L.categoryGap=V)});var S={};return e.each(x,function(T,C){S[C]={};var M=T.stacks,D=T.bandWidth,L=r(T.categoryGap,D),I=r(T.gap,1),P=T.remainedWidth,E=T.autoWidthCount,O=(P-L)/(E+(E-1)*I);O=Math.max(O,0),e.each(M,function(R){var z=R.maxWidth,k=R.minWidth;if(R.width){var N=R.width;z&&(N=Math.min(N,z)),k&&(N=Math.max(N,k)),R.width=N,P-=N+I*N,E--}else{var N=O;z&&z<N&&(N=Math.min(z,P)),k&&k>N&&(N=k),N!==O&&(R.width=N,P-=N+I*N,E--)}}),O=(P-L)/(E+(E-1)*I),O=Math.max(O,0);var B=0,q;e.each(M,function(R,z){R.width||(R.width=O),q=R,B+=R.width*(1+I)}),q&&(B-=q.width*I);var V=-B/2;e.each(M,function(R,z){S[C][z]=S[C][z]||{bandWidth:D,offset:V,width:R.width},V+=R.width*(1+I)})}),S}function c(w,x,S){if(w&&x){var T=w[u(x)];return T!=null&&S!=null&&(T=T[h(S)]),T}}function g(w,x){var S=l(w,x),T=d(S),C={};e.each(S,function(M){var D=M.getData(),L=M.coordinateSystem,I=L.getBaseAxis(),P=h(M),E=T[u(I)][P],O=E.offset,B=E.width,q=L.getOtherAxis(I),V=M.get("barMinHeight")||0;C[P]=C[P]||[],D.setLayout({bandWidth:E.bandWidth,offset:O,size:B});for(var R=D.mapDimension(q.dim),z=D.mapDimension(I.dim),k=i(D,R),N=q.isHorizontal(),G=b(I,q),H=0,F=D.count();H<F;H++){var $=D.get(R,H),U=D.get(z,H),K=$>=0?"p":"n",Q=G;k&&(C[P][U]||(C[P][U]={p:G,n:G}),Q=C[P][U][K]);var j,ee,re,te;if(N){var oe=L.dataToPoint([$,U]);j=Q,ee=oe[1]+O,re=oe[0]-G,te=B,Math.abs(re)<V&&(re=(re<0?-1:1)*V),isNaN(re)||k&&(C[P][U][K]+=re)}else{var oe=L.dataToPoint([U,$]);j=oe[0]+O,ee=Q,re=B,te=oe[1]-G,Math.abs(te)<V&&(te=(te<=0?-1:1)*V),isNaN(te)||k&&(C[P][U][K]+=te)}D.setItemLayout(H,{x:j,y:ee,width:re,height:te})}},this)}var y={seriesType:"bar",plan:o(),reset:function(w){if(!_(w)||!A(w))return;var x=w.getData(),S=w.coordinateSystem,T=S.grid.getRect(),C=S.getBaseAxis(),M=S.getOtherAxis(C),D=x.mapDimension(M.dim),L=x.mapDimension(C.dim),I=M.isHorizontal(),P=I?0:1,E=c(d([w]),C,w).width;return E>p||(E=p),{progress:O};function O(B,q){for(var V=B.count,R=new n(V*2),z=new n(V*2),k=new n(V),N,G=[],H=[],F=0,$=0;(N=B.next())!=null;)H[P]=q.get(D,N),H[1-P]=q.get(L,N),G=S.dataToPoint(H,null,G),z[F]=I?T.x+T.width:G[0],R[F++]=G[0],z[F]=I?G[1]:T.y+T.height,R[F++]=G[1],k[$++]=N;q.setLayout({largePoints:R,largeDataIndices:k,largeBackgroundPoints:z,barWidth:E,valueAxisStart:b(C,M),backgroundStart:I?T.x:T.y,valueAxisHorizontal:I})}}};function _(w){return w.coordinateSystem&&w.coordinateSystem.type==="cartesian2d"}function A(w){return w.pipelineContext&&w.pipelineContext.large}function b(w,x,S){return x.toGlobalCoord(x.dataToCoord(x.type==="log"?1:0))}return Zr.getLayoutOnAxis=v,Zr.prepareLayoutBarSeries=l,Zr.makeColumnLayout=d,Zr.retrieveColumnLayout=c,Zr.layout=g,Zr.largeLayout=y,Zr}var ql,cy;function eH(){if(cy)return ql;cy=1;var e=W,t=Re(),r=Ge(),a=_M(),i=_s(),o=i.prototype,s=Math.ceil,p=Math.floor,n=1e3,h=n*60,u=h*60,v=u*24,l=function(c,g,y,_){for(;y<_;){var A=y+_>>>1;c[A][1]<g?y=A+1:_=A}return y},f=i.extend({type:"time",getLabel:function(c){var g=this._stepLvl,y=new Date(c);return r.formatTime(g[0],y,this.getSetting("useUTC"))},niceExtent:function(c){var g=this._extent;if(g[0]===g[1]&&(g[0]-=v,g[1]+=v),g[1]===-1/0&&g[0]===1/0){var y=new Date;g[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),g[0]=g[1]-v}this.niceTicks(c.splitNumber,c.minInterval,c.maxInterval);var _=this._interval;c.fixMin||(g[0]=t.round(p(g[0]/_)*_)),c.fixMax||(g[1]=t.round(s(g[1]/_)*_))},niceTicks:function(c,g,y){c=c||10;var _=this._extent,A=_[1]-_[0],b=A/c;g!=null&&b<g&&(b=g),y!=null&&b>y&&(b=y);var w=d.length,x=l(d,b,0,w),S=d[Math.min(x,w-1)],T=S[1];if(S[0]==="year"){var C=A/T,M=t.nice(C/c,!0);T*=M}var D=this.getSetting("useUTC")?0:new Date(+_[0]||+_[1]).getTimezoneOffset()*60*1e3,L=[Math.round(s((_[0]-D)/T)*T+D),Math.round(p((_[1]-D)/T)*T+D)];a.fixExtent(L,_),this._stepLvl=S,this._interval=T,this._niceExtent=L},parse:function(c){return+t.parseDate(c)}});e.each(["contain","normalize"],function(c){f.prototype[c]=function(g){return o[c].call(this,this.parse(g))}});var d=[["hh:mm:ss",n],["hh:mm:ss",n*5],["hh:mm:ss",n*10],["hh:mm:ss",n*15],["hh:mm:ss",n*30],[`hh:mm
MM-dd`,h],[`hh:mm
MM-dd`,h*5],[`hh:mm
MM-dd`,h*10],[`hh:mm
MM-dd`,h*15],[`hh:mm
MM-dd`,h*30],[`hh:mm
MM-dd`,u],[`hh:mm
MM-dd`,u*2],[`hh:mm
MM-dd`,u*6],[`hh:mm
MM-dd`,u*12],[`MM-dd
yyyy`,v],[`MM-dd
yyyy`,v*2],[`MM-dd
yyyy`,v*3],[`MM-dd
yyyy`,v*4],[`MM-dd
yyyy`,v*5],[`MM-dd
yyyy`,v*6],["week",v*7],[`MM-dd
yyyy`,v*10],["week",v*14],["week",v*21],["month",v*31],["week",v*42],["month",v*62],["week",v*70],["quarter",v*95],["month",v*31*4],["month",v*31*5],["half-year",v*380/2],["month",v*31*8],["month",v*31*10],["year",v*380]];f.create=function(c){return new f({useUTC:c.ecModel.get("useUTC")})};var m=f;return ql=m,ql}var Gl,fy;function xM(){if(fy)return Gl;fy=1;var e=W,t=ys(),r=Re(),a=_s(),i=t.prototype,o=a.prototype,s=r.getPrecisionSafe,p=r.round,n=Math.floor,h=Math.ceil,u=Math.pow,v=Math.log,l=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(m){var c=this._originalScale,g=this._extent,y=c.getExtent();return e.map(o.getTicks.call(this,m),function(_){var A=r.round(u(this.base,_));return A=_===g[0]&&c.__fixMin?f(A,y[0]):A,A=_===g[1]&&c.__fixMax?f(A,y[1]):A,A},this)},getMinorTicks:o.getMinorTicks,getLabel:o.getLabel,scale:function(m){return m=i.scale.call(this,m),u(this.base,m)},setExtent:function(m,c){var g=this.base;m=v(m)/v(g),c=v(c)/v(g),o.setExtent.call(this,m,c)},getExtent:function(){var m=this.base,c=i.getExtent.call(this);c[0]=u(m,c[0]),c[1]=u(m,c[1]);var g=this._originalScale,y=g.getExtent();return g.__fixMin&&(c[0]=f(c[0],y[0])),g.__fixMax&&(c[1]=f(c[1],y[1])),c},unionExtent:function(m){this._originalScale.unionExtent(m);var c=this.base;m[0]=v(m[0])/v(c),m[1]=v(m[1])/v(c),i.unionExtent.call(this,m)},unionExtentFromData:function(m,c){this.unionExtent(m.getApproximateExtent(c))},niceTicks:function(m){m=m||10;var c=this._extent,g=c[1]-c[0];if(!(g===1/0||g<=0)){var y=r.quantity(g),_=m/g*y;for(_<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var A=[r.round(h(c[0]/y)*y),r.round(n(c[1]/y)*y)];this._interval=y,this._niceExtent=A}},niceExtent:function(m){o.niceExtent.call(this,m);var c=this._originalScale;c.__fixMin=m.fixMin,c.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){l.prototype[m]=function(c){return c=v(c)/v(this.base),i[m].call(this,c)}}),l.create=function(){return new l};function f(m,c){return p(m,s(c))}var d=l;return Gl=d,Gl}var dy;function hr(){if(dy)return Jt;dy=1;var e=W,t=JV(),r=_s(),a=ys(),i=Re(),o=xs(),s=o.prepareLayoutBarSeries,p=o.makeColumnLayout,n=o.retrieveColumnLayout,h=Ke;eH(),xM();function u(b,w){var x=b.type,S=w.getMin(),T=w.getMax(),C=b.getExtent(),M,D,L;x==="ordinal"?M=w.getCategories().length:(D=w.get("boundaryGap"),e.isArray(D)||(D=[D||0,D||0]),typeof D[0]=="boolean"&&(D=[0,0]),D[0]=i.parsePercent(D[0],1),D[1]=i.parsePercent(D[1],1),L=C[1]-C[0]||Math.abs(C[0])),S==="dataMin"?S=C[0]:typeof S=="function"&&(S=S({min:C[0],max:C[1]})),T==="dataMax"?T=C[1]:typeof T=="function"&&(T=T({min:C[0],max:C[1]}));var I=S!=null,P=T!=null;S==null&&(S=x==="ordinal"?M?0:NaN:C[0]-D[0]*L),T==null&&(T=x==="ordinal"?M?M-1:NaN:C[1]+D[1]*L),(S==null||!isFinite(S))&&(S=NaN),(T==null||!isFinite(T))&&(T=NaN),b.setBlank(e.eqNaN(S)||e.eqNaN(T)||x==="ordinal"&&!b.getOrdinalMeta().categories.length),w.getNeedCrossZero()&&(S>0&&T>0&&!I&&(S=0),S<0&&T<0&&!P&&(T=0));var E=w.ecModel;if(E&&x==="time"){var O=s("bar",E),B;if(e.each(O,function(R){B|=R.getBaseAxis()===w.axis}),B){var q=p(O),V=v(S,T,w,q);S=V.min,T=V.max}}return{extent:[S,T],fixMin:I,fixMax:P}}function v(b,w,x,S){var T=x.axis.getExtent(),C=T[1]-T[0],M=n(S,x.axis);if(M===void 0)return{min:b,max:w};var D=1/0;e.each(M,function(B){D=Math.min(B.offset,D)});var L=-1/0;e.each(M,function(B){L=Math.max(B.offset+B.width,L)}),D=Math.abs(D),L=Math.abs(L);var I=D+L,P=w-b,E=1-(D+L)/C,O=P/E-P;return w+=O*(L/I),b-=O*(D/I),{min:b,max:w}}function l(b,w){var x=u(b,w),S=x.extent,T=w.get("splitNumber");b.type==="log"&&(b.base=w.get("logBase"));var C=b.type;b.setExtent(S[0],S[1]),b.niceExtent({splitNumber:T,fixMin:x.fixMin,fixMax:x.fixMax,minInterval:C==="interval"||C==="time"?w.get("minInterval"):null,maxInterval:C==="interval"||C==="time"?w.get("maxInterval"):null});var M=w.get("interval");M!=null&&b.setInterval&&b.setInterval(M)}function f(b,w){if(w=w||b.get("type"),w)switch(w){case"category":return new t(b.getOrdinalMeta?b.getOrdinalMeta():b.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(w)||r).create(b)}}function d(b){var w=b.scale.getExtent(),x=w[0],S=w[1];return!(x>0&&S>0||x<0&&S<0)}function m(b){var w=b.getLabelModel().get("formatter"),x=b.type==="category"?b.scale.getExtent()[0]:null;return typeof w=="string"?(w=function(S){return function(T){return T=b.scale.getLabel(T),S.replace("{value}",T??"")}}(w),w):typeof w=="function"?function(S,T){return x!=null&&(T=S-x),w(c(b,S),T)}:function(S){return b.scale.getLabel(S)}}function c(b,w){return b.type==="category"?b.scale.getLabel(w):w}function g(b){var w=b.model,x=b.scale;if(!(!w.get("axisLabel.show")||x.isBlank())){var S=b.type==="category",T,C,M=x.getExtent();S?C=x.count():(T=x.getTicks(),C=T.length);var D=b.getLabelModel(),L=m(b),I,P=1;C>40&&(P=Math.ceil(C/40));for(var E=0;E<C;E+=P){var O=T?T[E]:M[0]+E,B=L(O),q=D.getTextRect(B),V=y(q,D.get("rotate")||0);I?I.union(V):I=V}return I}}function y(b,w){var x=w*Math.PI/180,S=b.plain(),T=S.width,C=S.height,M=T*Math.abs(Math.cos(x))+Math.abs(C*Math.sin(x)),D=T*Math.abs(Math.sin(x))+Math.abs(C*Math.cos(x)),L=new h(S.x,S.y,M,D);return L}function _(b){var w=b.get("interval");return w??"auto"}function A(b){return b.type==="category"&&_(b.getLabelModel())===0}return Jt.getScaleExtent=u,Jt.niceScaleExtent=l,Jt.createScaleByModel=f,Jt.ifAxisCrossZero=d,Jt.makeLabelFormatter=m,Jt.getAxisRawValue=c,Jt.estimateLabelUnionRect=g,Jt.getOptionCategoryInterval=_,Jt.shouldShowAllLabels=A,Jt}var Fl,gy;function wi(){if(gy)return Fl;gy=1;var e=W,t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return Fl=t,Fl}var $l={},py;function Kt(){if(py)return $l;py=1;var e=W,t=fe,r=Ke,a=Ue,i=a.calculateTextPosition,o=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,c){var g=c.cx,y=c.cy,_=c.width/2,A=c.height/2;m.moveTo(g,y-A),m.lineTo(g+_,y+A),m.lineTo(g-_,y+A),m.closePath()}}),s=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,c){var g=c.cx,y=c.cy,_=c.width/2,A=c.height/2;m.moveTo(g,y-A),m.lineTo(g+_,y),m.lineTo(g,y+A),m.lineTo(g-_,y),m.closePath()}}),p=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,c){var g=c.x,y=c.y,_=c.width/5*3,A=Math.max(_,c.height),b=_/2,w=b*b/(A-b),x=y-A+b+w,S=Math.asin(w/b),T=Math.cos(S)*b,C=Math.sin(S),M=Math.cos(S),D=b*.6,L=b*.7;m.moveTo(g-T,x+w),m.arc(g,x,b,Math.PI-S,Math.PI*2+S),m.bezierCurveTo(g+T-C*D,x+w+M*D,g,y-L,g,y),m.bezierCurveTo(g,y-L,g-T+C*D,x+w+M*D,g-T,x+w),m.closePath()}}),n=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,c){var g=c.height,y=c.width,_=c.x,A=c.y,b=y/3*2;m.moveTo(_,A),m.lineTo(_+b,A+g),m.lineTo(_,A+g/4*3),m.lineTo(_-b,A+g),m.lineTo(_,A),m.closePath()}}),h={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:s,pin:p,arrow:n,triangle:o},u={line:function(m,c,g,y,_){_.x1=m,_.y1=c+y/2,_.x2=m+g,_.y2=c+y/2},rect:function(m,c,g,y,_){_.x=m,_.y=c,_.width=g,_.height=y},roundRect:function(m,c,g,y,_){_.x=m,_.y=c,_.width=g,_.height=y,_.r=Math.min(g,y)/4},square:function(m,c,g,y,_){var A=Math.min(g,y);_.x=m,_.y=c,_.width=A,_.height=A},circle:function(m,c,g,y,_){_.cx=m+g/2,_.cy=c+y/2,_.r=Math.min(g,y)/2},diamond:function(m,c,g,y,_){_.cx=m+g/2,_.cy=c+y/2,_.width=g,_.height=y},pin:function(m,c,g,y,_){_.x=m+g/2,_.y=c+y/2,_.width=g,_.height=y},arrow:function(m,c,g,y,_){_.x=m+g/2,_.y=c+y/2,_.width=g,_.height=y},triangle:function(m,c,g,y,_){_.cx=m+g/2,_.cy=c+y/2,_.width=g,_.height=y}},v={};e.each(h,function(m,c){v[c]=new m});var l=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,c,g){var y=i(m,c,g),_=this.shape;return _&&_.symbolType==="pin"&&c.textPosition==="inside"&&(y.y=g.y+g.height*.4),y},buildPath:function(m,c,g){var y=c.symbolType;if(y!=="none"){var _=v[y];_||(y="rect",_=v[y]),u[y](c.x,c.y,c.width,c.height,_.shape),_.buildPath(m,_.shape,g)}}});function f(m,c){if(this.type!=="image"){var g=this.style,y=this.shape;y&&y.symbolType==="line"?g.stroke=m:this.__isEmptyBrush?(g.stroke=m,g.fill=c||"#fff"):(g.fill&&(g.fill=m),g.stroke&&(g.stroke=m)),this.dirty(!1)}}function d(m,c,g,y,_,A,b){var w=m.indexOf("empty")===0;w&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var x;return m.indexOf("image://")===0?x=t.makeImage(m.slice(8),new r(c,g,y,_),b?"center":"cover"):m.indexOf("path://")===0?x=t.makePath(m.slice(7),{},new r(c,g,y,_),b?"center":"cover"):x=new l({shape:{symbolType:m,x:c,y:g,width:y,height:_}}),x.__isEmptyBrush=w,x.setColor=f,x.setColor(A),x}return $l.createSymbol=d,$l}var my;function tH(){if(my)return mr;my=1;var e=W,t=qr(),r=hr(),a=wi(),i=ot(),o=ze;o.getLayoutRect,mr.getLayoutRect=o.getLayoutRect;var s=Dr(),p=s.enableDataStack,n=s.isDimensionStacked,h=s.getStackedDimension,u=mM();mr.completeDimensions=u;var v=bi();mr.createDimensions=v;var l=Kt();mr.createSymbol=l.createSymbol;function f(g){return t(g.getSource(),g)}var d={isDimensionStacked:n,enableDataStack:p,getStackedDimension:h};function m(g,y){var _=y;i.isInstance(y)||(_=new i(y),e.mixin(_,a));var A=r.createScaleByModel(_);return A.setExtent(g[0],g[1]),r.niceScaleExtent(A,_),A}function c(g){e.mixin(g,a)}return mr.createList=f,mr.dataStack=d,mr.createScale=m,mr.mixinAxisModelCommonMethods=c,mr}var Ul={},yy;function SM(){if(yy)return Ul;yy=1;var e=XT,t=1e-8;function r(i,o){return Math.abs(i-o)<t}function a(i,o,s){var p=0,n=i[0];if(!n)return!1;for(var h=1;h<i.length;h++){var u=i[h];p+=e(n[0],n[1],u[0],u[1],o,s),n=u}var v=i[0];return(!r(n[0],v[0])||!r(n[1],v[1]))&&(p+=e(n[0],n[1],v[0],v[1],o,s)),p!==0}return Ul.contain=a,Ul}var Wl,_y;function bM(){if(_y)return Wl;_y=1;var e=Ke,t=bn(),r=Ye(),a=SM();function i(s,p,n){if(this.name=s,this.geometries=p,n)n=[n[0],n[1]];else{var h=this.getBoundingRect();n=[h.x+h.width/2,h.y+h.height/2]}this.center=n}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var s=this._rect;if(s)return s;for(var p=Number.MAX_VALUE,n=[p,p],h=[-p,-p],u=[],v=[],l=this.geometries,f=0;f<l.length;f++)if(l[f].type==="polygon"){var d=l[f].exterior;t.fromPoints(d,u,v),r.min(n,n,u),r.max(h,h,v)}return f===0&&(n[0]=n[1]=h[0]=h[1]=0),this._rect=new e(n[0],n[1],h[0]-n[0],h[1]-n[1])},contain:function(s){var p=this.getBoundingRect(),n=this.geometries;if(!p.contain(s[0],s[1]))return!1;e:for(var h=0,u=n.length;h<u;h++)if(n[h].type==="polygon"){var v=n[h].exterior,l=n[h].interiors;if(a.contain(v,s[0],s[1])){for(var f=0;f<(l?l.length:0);f++)if(a.contain(l[f]))continue e;return!0}}return!1},transformTo:function(s,p,n,h){var u=this.getBoundingRect(),v=u.width/u.height;n?h||(h=n/v):n=v*h;for(var l=new e(s,p,n,h),f=u.calculateTransform(l),d=this.geometries,m=0;m<d.length;m++)if(d[m].type==="polygon"){for(var c=d[m].exterior,g=d[m].interiors,y=0;y<c.length;y++)r.applyTransform(c[y],c[y],f);for(var _=0;_<(g?g.length:0);_++)for(var y=0;y<g[_].length;y++)r.applyTransform(g[_][y],g[_][y],f)}u=this._rect,u.copy(l),this.center=[u.x+u.width/2,u.y+u.height/2]},cloneShallow:function(s){s==null&&(s=this.name);var p=new i(s,this.geometries,this.center);return p._rect=this._rect,p.transformTo=null,p}};var o=i;return Wl=o,Wl}var Zl,xy;function wM(){if(xy)return Zl;xy=1;var e=W,t=bM();function r(o){if(!o.UTF8Encoding)return o;var s=o.UTF8Scale;s==null&&(s=1024);for(var p=o.features,n=0;n<p.length;n++)for(var h=p[n],u=h.geometry,v=u.coordinates,l=u.encodeOffsets,f=0;f<v.length;f++){var d=v[f];if(u.type==="Polygon")v[f]=a(d,l[f],s);else if(u.type==="MultiPolygon")for(var m=0;m<d.length;m++){var c=d[m];d[m]=a(c,l[f][m],s)}}return o.UTF8Encoding=!1,o}function a(o,s,p){for(var n=[],h=s[0],u=s[1],v=0;v<o.length;v+=2){var l=o.charCodeAt(v)-64,f=o.charCodeAt(v+1)-64;l=l>>1^-(l&1),f=f>>1^-(f&1),l+=h,f+=u,h=l,u=f,n.push([l/p,f/p])}return n}function i(o,s){return r(o),e.map(e.filter(o.features,function(p){return p.geometry&&p.properties&&p.geometry.coordinates.length>0}),function(p){var n=p.properties,h=p.geometry,u=h.coordinates,v=[];h.type==="Polygon"&&v.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),h.type==="MultiPolygon"&&e.each(u,function(f){f[0]&&v.push({type:"polygon",exterior:f[0],interiors:f.slice(1)})});var l=new t(n[s||"name"],v,n.cp);return l.properties=n,l})}return Zl=i,Zl}var qi={},Sy;function rH(){if(Sy)return qi;Sy=1;var e=W,t=Ue,r=Ie,a=r.makeInner,i=hr(),o=i.makeLabelFormatter,s=i.getOptionCategoryInterval,p=i.shouldShowAllLabels,n=a();function h(x){return x.type==="category"?v(x):d(x)}function u(x,S){return x.type==="category"?f(x,S):{ticks:x.scale.getTicks()}}function v(x){var S=x.getLabelModel(),T=l(x,S);return!S.get("show")||x.scale.isBlank()?{labels:[],labelCategoryInterval:T.labelCategoryInterval}:T}function l(x,S){var T=m(x,"labels"),C=s(S),M=c(T,C);if(M)return M;var D,L;return e.isFunction(C)?D=w(x,C):(L=C==="auto"?y(x):C,D=b(x,L)),g(T,C,{labels:D,labelCategoryInterval:L})}function f(x,S){var T=m(x,"ticks"),C=s(S),M=c(T,C);if(M)return M;var D,L;if((!S.get("show")||x.scale.isBlank())&&(D=[]),e.isFunction(C))D=w(x,C,!0);else if(C==="auto"){var I=l(x,x.getLabelModel());L=I.labelCategoryInterval,D=e.map(I.labels,function(P){return P.tickValue})}else L=C,D=b(x,L,!0);return g(T,C,{ticks:D,tickCategoryInterval:L})}function d(x){var S=x.scale.getTicks(),T=o(x);return{labels:e.map(S,function(C,M){return{formattedLabel:T(C,M),rawLabel:x.scale.getLabel(C),tickValue:C}})}}function m(x,S){return n(x)[S]||(n(x)[S]=[])}function c(x,S){for(var T=0;T<x.length;T++)if(x[T].key===S)return x[T].value}function g(x,S,T){return x.push({key:S,value:T}),T}function y(x){var S=n(x).autoInterval;return S??(n(x).autoInterval=x.calculateCategoryInterval())}function _(x){var S=A(x),T=o(x),C=(S.axisRotate-S.labelRotate)/180*Math.PI,M=x.scale,D=M.getExtent(),L=M.count();if(D[1]-D[0]<1)return 0;var I=1;L>40&&(I=Math.max(1,Math.floor(L/40)));for(var P=D[0],E=x.dataToCoord(P+1)-x.dataToCoord(P),O=Math.abs(E*Math.cos(C)),B=Math.abs(E*Math.sin(C)),q=0,V=0;P<=D[1];P+=I){var R=0,z=0,k=t.getBoundingRect(T(P),S.font,"center","top");R=k.width*1.3,z=k.height*1.3,q=Math.max(q,R,7),V=Math.max(V,z,7)}var N=q/O,G=V/B;isNaN(N)&&(N=1/0),isNaN(G)&&(G=1/0);var H=Math.max(0,Math.floor(Math.min(N,G))),F=n(x.model),$=x.getExtent(),U=F.lastAutoInterval,K=F.lastTickCount;return U!=null&&K!=null&&Math.abs(U-H)<=1&&Math.abs(K-L)<=1&&U>H&&F.axisExtend0===$[0]&&F.axisExtend1===$[1]?H=U:(F.lastTickCount=L,F.lastAutoInterval=H,F.axisExtend0=$[0],F.axisExtend1=$[1]),H}function A(x){var S=x.getLabelModel();return{axisRotate:x.getRotate?x.getRotate():x.isHorizontal&&!x.isHorizontal()?90:0,labelRotate:S.get("rotate")||0,font:S.getFont()}}function b(x,S,T){var C=o(x),M=x.scale,D=M.getExtent(),L=x.getLabelModel(),I=[],P=Math.max((S||0)+1,1),E=D[0],O=M.count();E!==0&&P>1&&O/P>2&&(E=Math.round(Math.ceil(E/P)*P));var B=p(x),q=L.get("showMinLabel")||B,V=L.get("showMaxLabel")||B;q&&E!==D[0]&&z(D[0]);for(var R=E;R<=D[1];R+=P)z(R);V&&R-P!==D[1]&&z(D[1]);function z(k){I.push(T?k:{formattedLabel:C(k),rawLabel:M.getLabel(k),tickValue:k})}return I}function w(x,S,T){var C=x.scale,M=o(x),D=[];return e.each(C.getTicks(),function(L){var I=C.getLabel(L);S(L,I)&&D.push(T?L:{formattedLabel:M(L),rawLabel:I,tickValue:L})}),D}return qi.createAxisLabels=h,qi.createAxisTicks=u,qi.calculateCategoryInterval=_,qi}var Yl,by;function sa(){if(by)return Yl;by=1;var e=W,t=e.each,r=e.map,a=Re(),i=a.linearMap,o=a.getPixelPrecision,s=a.round,p=rH(),n=p.createAxisTicks,h=p.createAxisLabels,u=p.calculateCategoryInterval,v=[0,1],l=function(c,g,y){this.dim=c,this.scale=g,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(c){var g=this._extent,y=Math.min(g[0],g[1]),_=Math.max(g[0],g[1]);return c>=y&&c<=_},containData:function(c){return this.scale.contain(c)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(c){return o(c||this.scale.getExtent(),this._extent)},setExtent:function(c,g){var y=this._extent;y[0]=c,y[1]=g},dataToCoord:function(c,g){var y=this._extent,_=this.scale;return c=_.normalize(c),this.onBand&&_.type==="ordinal"&&(y=y.slice(),f(y,_.count())),i(c,v,y,g)},coordToData:function(c,g){var y=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(y=y.slice(),f(y,_.count()));var A=i(c,y,v,g);return this.scale.scale(A)},pointToData:function(c,g){},getTicksCoords:function(c){c=c||{};var g=c.tickModel||this.getTickModel(),y=n(this,g),_=y.ticks,A=r(_,function(w){return{coord:this.dataToCoord(w),tickValue:w}},this),b=g.get("alignWithLabel");return d(this,A,b,c.clamp),A},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var c=this.model.getModel("minorTick"),g=c.get("splitNumber");g>0&&g<100||(g=5);var y=this.scale.getMinorTicks(g),_=r(y,function(A){return r(A,function(b){return{coord:this.dataToCoord(b),tickValue:b}},this)},this);return _},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var c=this._extent,g=this.scale.getExtent(),y=g[1]-g[0]+(this.onBand?1:0);y===0&&(y=1);var _=Math.abs(c[1]-c[0]);return Math.abs(_)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return u(this)}};function f(c,g){var y=c[1]-c[0],_=g,A=y/_/2;c[0]+=A,c[1]-=A}function d(c,g,y,_){var A=g.length;if(!c.onBand||y||!A)return;var b=c.getExtent(),w,x;if(A===1)g[0].coord=b[0],w=g[1]={coord:b[0]};else{var S=g[A-1].tickValue-g[0].tickValue,T=(g[A-1].coord-g[0].coord)/S;t(g,function(L){L.coord-=T/2});var C=c.scale.getExtent();x=1+C[1]-g[A-1].tickValue,w={coord:g[A-1].coord+T*x},g.push(w)}var M=b[0]>b[1];D(g[0].coord,b[0])&&(_?g[0].coord=b[0]:g.shift()),_&&D(b[0],g[0].coord)&&g.unshift({coord:b[0]}),D(b[1],w.coord)&&(_?w.coord=b[1]:g.pop()),_&&D(w.coord,b[1])&&g.push({coord:b[1]});function D(L,I){return L=s(L),I=s(I),M?L>I:L<I}}var m=l;return Yl=m,Yl}var wy;function AM(){if(wy)return pt;wy=1;var e=Hr;pt.zrender=e;var t=Rt();pt.matrix=t;var r=Ye();pt.vector=r;var a=W,i=ut;pt.color=i;var o=fe,s=Re();pt.number=s;var p=Ge();pt.format=p;var n=vr;n.throttle,pt.throttle=n.throttle;var h=tH();pt.helper=h;var u=wM();pt.parseGeoJSON=u;var v=Xt();pt.List=v;var l=ot();pt.Model=l;var f=sa();pt.Axis=f;var d=nt;pt.env=d;var m=u,c={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){c[y]=a[y]});var g={};return a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){g[y]=o[y]}),pt.parseGeoJson=m,pt.util=c,pt.graphic=g,pt}(function(e){var t=Hr,r=W,a=ut,i=nt,o=pd,s=Aa,p=UC,n=WC,h=Cr,u=eB,v=dB,l=_B,f=ct,d=ft,m=ds,c=Mr,g=fe,y=Ie,_=vr,A=_.throttle,b=DN,w=kN,x=NN,S=sV,T=uV,C=hV,M=vg,D=r.assert,L=r.each,I=r.isFunction,P=r.isObject,E=f.parseClassType,O="4.9.0",B={zrender:"4.3.2"},q=1,V=1e3,R=800,z=900,k=5e3,N=1e3,G=1100,H=2e3,F=3e3,$=3500,U=4e3,K=5e3,Q={PROCESSOR:{FILTER:V,SERIES_FILTER:R,STATISTIC:k},VISUAL:{LAYOUT:N,PROGRESSIVE_LAYOUT:G,GLOBAL:H,CHART:F,POST_CHART_LAYOUT:$,COMPONENT:U,BRUSH:K}},j="__flagInMainProcess",ee="__optionUpdated",re=/^[a-zA-Z0-9_]+$/;function te(Y,ae){return function(ce,me,Se){if(!ae&&this._disposed){this.id;return}ce=ce&&ce.toLowerCase(),s.prototype[Y].call(this,ce,me,Se)}}function oe(){s.call(this)}oe.prototype.on=te("on",!0),oe.prototype.off=te("off",!0),oe.prototype.one=te("one",!0),r.mixin(oe,s);function xe(Y,be,ce){ce=ce||{},typeof be=="string"&&(be=et[be]),this.id,this.group,this._dom=Y;var me="canvas",Se=this._zr=t.init(Y,{renderer:ce.renderer||me,devicePixelRatio:ce.devicePixelRatio,width:ce.width,height:ce.height});this._throttledZrFlush=A(r.bind(Se.flush,Se),17);var be=r.clone(be);be&&v(be,!0),this._theme=be,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new h;var Te=this._api=He(this);function Le(De,Ee){return De.__prio-Ee.__prio}o(Fe,Le),o(qe,Le),this._scheduler=new S(this,Te,qe,Fe),s.call(this,this._ecEventProcessor=new Ze),this._messageCenter=new oe,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],Se.animation.on("frame",this._onframe,this),ue(Se,this),r.setAsPrimitive(this)}var se=xe.prototype;se._onframe=function(){if(!this._disposed){var Y=this._scheduler;if(this[ee]){var ae=this[ee].silent;this[j]=!0,ie(this),we.update.call(this),this[j]=!1,this[ee]=!1,X.call(this,ae),J.call(this,ae)}else if(Y.unfinished){var ce=q,me=this._model,Se=this._api;Y.unfinished=!1;do{var be=+new Date;Y.performSeriesTasks(me),Y.performDataProcessorTasks(me),de(this,me),Y.performVisualTasks(me),_e(this,this._model,Se,"remain"),ce-=+new Date-be}while(ce>0&&Y.unfinished);Y.unfinished||this._zr.flush()}}},se.getDom=function(){return this._dom},se.getZr=function(){return this._zr},se.setOption=function(Y,ae,ce){if(this._disposed){this.id;return}var me;if(P(ae)&&(ce=ae.lazyUpdate,me=ae.silent,ae=ae.notMerge),this[j]=!0,!this._model||ae){var Se=new u(this._api),be=this._theme,Te=this._model=new p;Te.scheduler=this._scheduler,Te.init(null,null,be,Se)}this._model.setOption(Y,Ne),ce?(this[ee]={silent:me},this[j]=!1):(ie(this),we.update.call(this),this._zr.flush(),this[ee]=!1,this[j]=!1,X.call(this,me),J.call(this,me))},se.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},se.getModel=function(){return this._model},se.getOption=function(){return this._model&&this._model.getOption()},se.getWidth=function(){return this._zr.getWidth()},se.getHeight=function(){return this._zr.getHeight()},se.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},se.getRenderedCanvas=function(Y){if(i.canvasSupported){Y=Y||{},Y.pixelRatio=Y.pixelRatio||1,Y.backgroundColor=Y.backgroundColor||this._model.get("backgroundColor");var ae=this._zr;return ae.painter.getRenderedCanvas(Y)}},se.getSvgDataURL=function(){if(i.svgSupported){var Y=this._zr,ae=Y.storage.getDisplayList();return r.each(ae,function(ce){ce.stopAnimation(!0)}),Y.painter.toDataURL()}},se.getDataURL=function(Y){if(this._disposed){this.id;return}Y=Y||{};var ae=Y.excludeComponents,ce=this._model,me=[],Se=this;L(ae,function(Te){ce.eachComponent({mainType:Te},function(Le){var De=Se._componentsMap[Le.__viewId];De.group.ignore||(me.push(De),De.group.ignore=!0)})});var be=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(Y).toDataURL("image/"+(Y&&Y.type||"png"));return L(me,function(Te){Te.group.ignore=!1}),be},se.getConnectedDataURL=function(Y){if(this._disposed){this.id;return}if(i.canvasSupported){var ae=Y.type==="svg",ce=this.group,me=Math.min,Se=Math.max,be=1/0;if(Bt[ce]){var Te=be,Le=be,De=-be,Ee=-be,ke=[],Oe=Y&&Y.pixelRatio||1;r.each(bt,function(Ft,qn){if(Ft.group===ce){var ks=ae?Ft.getZr().painter.getSvgDom().innerHTML:Ft.getRenderedCanvas(r.clone(Y)),Oa=Ft.getDom().getBoundingClientRect();Te=me(Oa.left,Te),Le=me(Oa.top,Le),De=Se(Oa.right,De),Ee=Se(Oa.bottom,Ee),ke.push({dom:ks,left:Oa.left,top:Oa.top})}}),Te*=Oe,Le*=Oe,De*=Oe,Ee*=Oe;var tt=De-Te,Xe=Ee-Le,At=r.createCanvas(),Gt=t.init(At,{renderer:ae?"svg":"canvas"});if(Gt.resize({width:tt,height:Xe}),ae){var Hn="";return L(ke,function(Ft){var qn=Ft.left-Te,ks=Ft.top-Le;Hn+='<g transform="translate('+qn+","+ks+')">'+Ft.dom+"</g>"}),Gt.painter.getSvgRoot().innerHTML=Hn,Y.connectedBackgroundColor&&Gt.painter.setBackgroundColor(Y.connectedBackgroundColor),Gt.refreshImmediately(),Gt.painter.toDataURL()}else return Y.connectedBackgroundColor&&Gt.add(new g.Rect({shape:{x:0,y:0,width:tt,height:Xe},style:{fill:Y.connectedBackgroundColor}})),L(ke,function(Ft){var qn=new g.Image({style:{x:Ft.left*Oe-Te,y:Ft.top*Oe-Le,image:Ft.dom}});Gt.add(qn)}),Gt.refreshImmediately(),At.toDataURL("image/"+(Y&&Y.type||"png"))}else return this.getDataURL(Y)}},se.convertToPixel=r.curry(ge,"convertToPixel"),se.convertFromPixel=r.curry(ge,"convertFromPixel");function ge(Y,ae,ce){if(this._disposed){this.id;return}var me=this._model,Se=this._coordSysMgr.getCoordinateSystems(),be;ae=y.parseFinder(me,ae);for(var Te=0;Te<Se.length;Te++){var Le=Se[Te];if(Le[Y]&&(be=Le[Y](me,ae,ce))!=null)return be}}se.containPixel=function(Y,ae){if(this._disposed){this.id;return}var ce=this._model,me;return Y=y.parseFinder(ce,Y),r.each(Y,function(Se,be){be.indexOf("Models")>=0&&r.each(Se,function(Te){var Le=Te.coordinateSystem;if(Le&&Le.containPoint)me|=!!Le.containPoint(ae);else if(be==="seriesModels"){var De=this._chartsMap[Te.__viewId];De&&De.containPoint&&(me|=De.containPoint(ae,Te))}},this)},this),!!me},se.getVisual=function(Y,ae){var ce=this._model;Y=y.parseFinder(ce,Y,{defaultMainType:"series"});var me=Y.seriesModel,Se=me.getData(),be=Y.hasOwnProperty("dataIndexInside")?Y.dataIndexInside:Y.hasOwnProperty("dataIndex")?Se.indexOfRawIndex(Y.dataIndex):null;return be!=null?Se.getItemVisual(be,ae):Se.getVisual(ae)},se.getViewOfComponentModel=function(Y){return this._componentsMap[Y.__viewId]},se.getViewOfSeriesModel=function(Y){return this._chartsMap[Y.__viewId]};var we={prepareAndUpdate:function(Y){ie(this),we.update.call(this,Y)},update:function(Y){var ae=this._model,ce=this._api,me=this._zr,Se=this._coordSysMgr,be=this._scheduler;if(ae){be.restoreData(ae,Y),be.performSeriesTasks(ae),Se.create(ae,ce),be.performDataProcessorTasks(ae,Y),de(this,ae),Se.update(ae,ce),ve(ae),be.performVisualTasks(ae,Y),he(this,ae,ce,Y);var Te=ae.get("backgroundColor")||"transparent";if(i.canvasSupported)me.setBackgroundColor(Te);else{var Le=a.parse(Te);Te=a.stringify(Le,"rgb"),Le[3]===0&&(Te="transparent")}Ce(ae,ce)}},updateTransform:function(Y){var ae=this._model,ce=this,me=this._api;if(ae){var Se=[];ae.eachComponent(function(Te,Le){var De=ce.getViewOfComponentModel(Le);if(De&&De.__alive)if(De.updateTransform){var Ee=De.updateTransform(Le,ae,me,Y);Ee&&Ee.update&&Se.push(De)}else Se.push(De)});var be=r.createHashMap();ae.eachSeries(function(Te){var Le=ce._chartsMap[Te.__viewId];if(Le.updateTransform){var De=Le.updateTransform(Te,ae,me,Y);De&&De.update&&be.set(Te.uid,1)}else be.set(Te.uid,1)}),ve(ae),this._scheduler.performVisualTasks(ae,Y,{setDirty:!0,dirtyMap:be}),_e(ce,ae,me,Y,be),Ce(ae,this._api)}},updateView:function(Y){var ae=this._model;ae&&(c.markUpdateMethod(Y,"updateView"),ve(ae),this._scheduler.performVisualTasks(ae,Y,{setDirty:!0}),he(this,this._model,this._api,Y),Ce(ae,this._api))},updateVisual:function(Y){we.update.call(this,Y)},updateLayout:function(Y){we.update.call(this,Y)}};function ie(Y){var ae=Y._model,ce=Y._scheduler;ce.restorePipelines(ae),ce.prepareStageTasks(),le(Y,"component",ae,ce),le(Y,"chart",ae,ce),ce.plan()}function ne(Y,ae,ce,me,Se){var be=Y._model;if(!me){L(Y._componentsViews.concat(Y._chartsViews),Ee);return}var Te={};Te[me+"Id"]=ce[me+"Id"],Te[me+"Index"]=ce[me+"Index"],Te[me+"Name"]=ce[me+"Name"];var Le={mainType:me,query:Te};Se&&(Le.subType=Se);var De=ce.excludeSeriesId;De!=null&&(De=r.createHashMap(y.normalizeToArray(De))),be&&be.eachComponent(Le,function(ke){(!De||De.get(ke.id)==null)&&Ee(Y[me==="series"?"_chartsMap":"_componentsMap"][ke.__viewId])},Y);function Ee(ke){ke&&ke.__alive&&ke[ae]&&ke[ae](ke.__model,be,Y._api,ce)}}se.resize=function(Y){if(this._disposed){this.id;return}this._zr.resize(Y);var ae=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!ae){var ce=ae.resetOption("media"),me=Y&&Y.silent;this[j]=!0,ce&&ie(this),we.update.call(this),this[j]=!1,X.call(this,me),J.call(this,me)}};function de(Y,ae){var ce=Y._chartsMap,me=Y._scheduler;ae.eachSeries(function(Se){me.updateStreamModes(Se,ce[Se.__viewId])})}se.showLoading=function(Y,ae){if(this._disposed){this.id;return}if(P(Y)&&(ae=Y,Y=""),Y=Y||"default",this.hideLoading(),!!mt[Y]){var ce=mt[Y](this._api,ae),me=this._zr;this._loadingFX=ce,me.add(ce)}},se.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},se.makeActionFromEvent=function(Y){var ae=r.extend({},Y);return ae.type=Pe[Y.type],ae},se.dispatchAction=function(Y,ae){if(this._disposed){this.id;return}if(P(ae)||(ae={silent:!!ae}),!!Qe[Y.type]&&this._model){if(this[j]){this._pendingActions.push(Y);return}Z.call(this,Y,ae.silent),ae.flush?this._zr.flush(!0):ae.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),X.call(this,ae.silent),J.call(this,ae.silent)}};function Z(Y,ae){var ce=Y.type,me=Y.escapeConnect,Se=Qe[ce],be=Se.actionInfo,Te=(be.update||"update").split(":"),Le=Te.pop();Te=Te[0]!=null&&E(Te[0]),this[j]=!0;var De=[Y],Ee=!1;Y.batch&&(Ee=!0,De=r.map(Y.batch,function(Xe){return Xe=r.defaults(r.extend({},Xe),Y),Xe.batch=null,Xe}));var ke=[],Oe,tt=ce==="highlight"||ce==="downplay";L(De,function(Xe){Oe=Se.action(Xe,this._model,this._api),Oe=Oe||r.extend({},Xe),Oe.type=be.event||Oe.type,ke.push(Oe),tt?ne(this,Le,Xe,"series"):Te&&ne(this,Le,Xe,Te.main,Te.sub)},this),Le!=="none"&&!tt&&!Te&&(this[ee]?(ie(this),we.update.call(this,Y),this[ee]=!1):we[Le].call(this,Y)),Ee?Oe={type:be.event||ce,escapeConnect:me,batch:ke}:Oe=ke[0],this[j]=!1,!ae&&this._messageCenter.trigger(Oe.type,Oe)}function X(Y){for(var ae=this._pendingActions;ae.length;){var ce=ae.shift();Z.call(this,ce,Y)}}function J(Y){!Y&&this.trigger("updated")}function ue(Y,ae){Y.on("rendered",function(){ae.trigger("rendered"),Y.animation.isFinished()&&!ae[ee]&&!ae._scheduler.unfinished&&!ae._pendingActions.length&&ae.trigger("finished")})}se.appendData=function(Y){if(this._disposed){this.id;return}var ae=Y.seriesIndex,ce=this.getModel(),me=ce.getSeriesByIndex(ae);me.appendData(Y),this._scheduler.unfinished=!0},se.on=te("on",!1),se.off=te("off",!1),se.one=te("one",!1);function le(Y,ae,ce,me){for(var Se=ae==="component",be=Se?Y._componentsViews:Y._chartsViews,Te=Se?Y._componentsMap:Y._chartsMap,Le=Y._zr,De=Y._api,Ee=0;Ee<be.length;Ee++)be[Ee].__alive=!1;Se?ce.eachComponent(function(tt,Xe){tt!=="series"&&ke(Xe)}):ce.eachSeries(ke);function ke(tt){var Xe="_ec_"+tt.id+"_"+tt.type,At=Te[Xe];if(!At){var Gt=E(tt.type),Hn=Se?m.getClass(Gt.main,Gt.sub):c.getClass(Gt.sub);At=new Hn,At.init(ce,De),Te[Xe]=At,be.push(At),Le.add(At.group)}tt.__viewId=At.__id=Xe,At.__alive=!0,At.__model=tt,At.group.__ecComponentInfo={mainType:tt.mainType,index:tt.componentIndex},!Se&&me.prepareView(At,tt,ce,De)}for(var Ee=0;Ee<be.length;){var Oe=be[Ee];Oe.__alive?Ee++:(!Se&&Oe.renderTask.dispose(),Le.remove(Oe.group),Oe.dispose(ce,De),be.splice(Ee,1),delete Te[Oe.__id],Oe.__id=Oe.group.__ecComponentInfo=null)}}function ve(Y){Y.clearColorPalette(),Y.eachSeries(function(ae){ae.clearColorPalette()})}function he(Y,ae,ce,me){pe(Y,ae,ce,me),L(Y._chartsViews,function(Se){Se.__alive=!1}),_e(Y,ae,ce,me),L(Y._chartsViews,function(Se){Se.__alive||Se.remove(ae,ce)})}function pe(Y,ae,ce,me,Se){L(Se||Y._componentsViews,function(be){var Te=be.__model;be.render(Te,ae,ce,me),We(Te,be)})}function _e(Y,ae,ce,me,Se){var be=Y._scheduler,Te;ae.eachSeries(function(Le){var De=Y._chartsMap[Le.__viewId];De.__alive=!0;var Ee=De.renderTask;be.updatePayload(Ee,me),Se&&Se.get(Le.uid)&&Ee.dirty(),Te|=Ee.perform(be.getPerformArgs(Ee)),De.group.silent=!!Le.get("silent"),We(Le,De),Ve(Le,De)}),be.unfinished|=Te,Be(Y,ae),w(Y._zr.dom,ae)}function Ce(Y,ae){L(je,function(ce){ce(Y,ae)})}var Me=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];se._initEvents=function(){L(Me,function(Y){var ae=function(ce){var me=this.getModel(),Se=ce.target,be,Te=Y==="globalout";if(Te)be={};else if(Se&&Se.dataIndex!=null){var Le=Se.dataModel||me.getSeriesByIndex(Se.seriesIndex);be=Le&&Le.getDataParams(Se.dataIndex,Se.dataType,Se)||{}}else Se&&Se.eventData&&(be=r.extend({},Se.eventData));if(be){var De=be.componentType,Ee=be.componentIndex;(De==="markLine"||De==="markPoint"||De==="markArea")&&(De="series",Ee=be.seriesIndex);var ke=De&&Ee!=null&&me.getComponent(De,Ee),Oe=ke&&this[ke.mainType==="series"?"_chartsMap":"_componentsMap"][ke.__viewId];be.event=ce,be.type=Y,this._ecEventProcessor.eventInfo={targetEl:Se,packedEvent:be,model:ke,view:Oe},this.trigger(Y,be)}};ae.zrEventfulCallAtLast=!0,this._zr.on(Y,ae,this)},this),L(Pe,function(Y,ae){this._messageCenter.on(ae,function(ce){this.trigger(ae,ce)},this)},this)},se.isDisposed=function(){return this._disposed},se.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},se.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),Je,"");var Y=this._api,ae=this._model;L(this._componentsViews,function(ce){ce.dispose(ae,Y)}),L(this._chartsViews,function(ce){ce.dispose(ae,Y)}),this._zr.dispose(),delete bt[this.id]},r.mixin(xe,s);function Ae(Y){}function Be(Y,ae){var ce=Y._zr,me=ce.storage,Se=0;me.traverse(function(be){Se++}),Se>ae.get("hoverLayerThreshold")&&!i.node&&ae.eachSeries(function(be){if(!be.preventUsingHoverLayer){var Te=Y._chartsMap[be.__viewId];Te.__alive&&Te.group.traverse(function(Le){Le.useHoverLayer=!0})}})}function Ve(Y,ae){var ce=Y.get("blendMode")||null;ae.group.traverse(function(me){me.isGroup||me.style.blend!==ce&&me.setStyle("blend",ce),me.eachPendingDisplayable&&me.eachPendingDisplayable(function(Se){Se.setStyle("blend",ce)})})}function We(Y,ae){var ce=Y.get("z"),me=Y.get("zlevel");ae.group.traverse(function(Se){Se.type!=="group"&&(ce!=null&&(Se.z=ce),me!=null&&(Se.zlevel=me))})}function He(Y){var ae=Y._coordSysMgr;return r.extend(new n(Y),{getCoordinateSystems:r.bind(ae.getCoordinateSystems,ae),getComponentByElement:function(ce){for(;ce;){var me=ce.__ecComponentInfo;if(me!=null)return Y._model.getComponent(me.mainType,me.index);ce=ce.parent}}})}function Ze(){this.eventInfo}Ze.prototype={constructor:Ze,normalizeQuery:function(Y){var ae={},ce={},me={};if(r.isString(Y)){var Se=E(Y);ae.mainType=Se.main||null,ae.subType=Se.sub||null}else{var be=["Index","Name","Id"],Te={name:1,dataIndex:1,dataType:1};r.each(Y,function(Le,De){for(var Ee=!1,ke=0;ke<be.length;ke++){var Oe=be[ke],tt=De.lastIndexOf(Oe);if(tt>0&&tt===De.length-Oe.length){var Xe=De.slice(0,tt);Xe!=="data"&&(ae.mainType=Xe,ae[Oe.toLowerCase()]=Le,Ee=!0)}}Te.hasOwnProperty(De)&&(ce[De]=Le,Ee=!0),Ee||(me[De]=Le)})}return{cptQuery:ae,dataQuery:ce,otherQuery:me}},filter:function(Y,ae,ce){var me=this.eventInfo;if(!me)return!0;var Se=me.targetEl,be=me.packedEvent,Te=me.model,Le=me.view;if(!Te||!Le)return!0;var De=ae.cptQuery,Ee=ae.dataQuery;return ke(De,Te,"mainType")&&ke(De,Te,"subType")&&ke(De,Te,"index","componentIndex")&&ke(De,Te,"name")&&ke(De,Te,"id")&&ke(Ee,be,"name")&&ke(Ee,be,"dataIndex")&&ke(Ee,be,"dataType")&&(!Le.filterForExposedEvent||Le.filterForExposedEvent(Y,ae.otherQuery,Se,be));function ke(Oe,tt,Xe,At){return Oe[Xe]==null||tt[At||Xe]===Oe[Xe]}},afterTrigger:function(){this.eventInfo=null}};var Qe={},Pe={},qe=[],Ne=[],je=[],Fe=[],et={},mt={},bt={},Bt={},cr=new Date-0,dt=new Date-0,Je="_echarts_instance_";function wt(Y){var ae=0,ce=1,me=2,Se="__connectUpdateStatus";function be(Te,Le){for(var De=0;De<Te.length;De++){var Ee=Te[De];Ee[Se]=Le}}L(Pe,function(Te,Le){Y._messageCenter.on(Le,function(De){if(Bt[Y.group]&&Y[Se]!==ae){if(De&&De.escapeConnect)return;var Ee=Y.makeActionFromEvent(De),ke=[];L(bt,function(Oe){Oe!==Y&&Oe.group===Y.group&&ke.push(Oe)}),be(ke,ae),L(ke,function(Oe){Oe[Se]!==ce&&Oe.dispatchAction(Ee)}),be(ke,me)}})})}function gt(Y,ae,ce){var me=Fr(Y);if(me)return me;var Se=new xe(Y,ae,ce);return Se.id="ec_"+cr++,bt[Se.id]=Se,y.setAttribute(Y,Je,Se.id),wt(Se),Se}function Mt(Y){if(r.isArray(Y)){var ae=Y;Y=null,L(ae,function(ce){ce.group!=null&&(Y=ce.group)}),Y=Y||"g_"+dt++,L(ae,function(ce){ce.group=Y})}return Bt[Y]=!0,Y}function Gr(Y){Bt[Y]=!1}var st=Gr;function yt(Y){typeof Y=="string"?Y=bt[Y]:Y instanceof xe||(Y=Fr(Y)),Y instanceof xe&&!Y.isDisposed()&&Y.dispose()}function Fr(Y){return bt[y.getAttribute(Y,Je)]}function ka(Y){return bt[Y]}function Is(Y,ae){et[Y]=ae}function Og(Y){Ne.push(Y)}function zg(Y,ae){Rs(qe,Y,ae,V)}function SD(Y){je.push(Y)}function Ps(Y,ae,ce){typeof ae=="function"&&(ce=ae,ae="");var me=P(Y)?Y.type:[Y,Y={event:ae}][0];Y.event=(Y.event||me).toLowerCase(),ae=Y.event,D(re.test(me)&&re.test(ae)),Qe[me]||(Qe[me]={action:ce,actionInfo:Y}),Pe[ae]=me}function bD(Y,ae){h.register(Y,ae)}function wD(Y){var ae=h.get(Y);if(ae)return ae.getDimensionsInfo?ae.getDimensionsInfo():ae.dimensions.slice()}function AD(Y,ae){Rs(Fe,Y,ae,N,"layout")}function Bg(Y,ae){Rs(Fe,Y,ae,F,"visual")}function Rs(Y,ae,ce,me,Se){(I(ae)||P(ae))&&(ce=ae,ae=me);var be=S.wrapStageHandler(ce,Se);return be.__prio=ae,be.__raw=ce,Y.push(be),be}function Ng(Y,ae){mt[Y]=ae}function TD(Y){return f.extend(Y)}function CD(Y){return m.extend(Y)}function MD(Y){return d.extend(Y)}function DD(Y){return c.extend(Y)}function LD(Y){r.$override("createCanvas",Y)}function ID(Y,ae,ce){M.registerMap(Y,ae,ce)}function PD(Y){var ae=M.retrieveMap(Y);return ae&&ae[0]&&{geoJson:ae[0].geoJSON,specialAreas:ae[0].specialAreas}}Bg(H,b),Og(v),zg(z,l),Ng("default",x),Ps({type:"highlight",event:"highlight",update:"highlight"},r.noop),Ps({type:"downplay",event:"downplay",update:"downplay"},r.noop),Is("light",T),Is("dark",C);var RD={};e.version=O,e.dependencies=B,e.PRIORITY=Q,e.init=gt,e.connect=Mt,e.disConnect=Gr,e.disconnect=st,e.dispose=yt,e.getInstanceByDom=Fr,e.getInstanceById=ka,e.registerTheme=Is,e.registerPreprocessor=Og,e.registerProcessor=zg,e.registerPostUpdate=SD,e.registerAction=Ps,e.registerCoordinateSystem=bD,e.getCoordinateSystemDimensions=wD,e.registerLayout=AD,e.registerVisual=Bg,e.registerLoading=Ng,e.extendComponentModel=TD,e.extendComponentView=CD,e.extendSeriesModel=MD,e.extendChartView=DD,e.setCanvasCreator=LD,e.registerMap=ID,e.getMap=PD,e.dataTool=RD;var Es=AM();(function(){for(var Y in Es)Es.hasOwnProperty(Y)&&(e[Y]=Es[Y])})()})(ye);var Ay={},Xl,Ty;function aH(){if(Ty)return Xl;Ty=1;var e=qr(),t=ft,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return Xl=r,Xl}var Kl={},Cy;function hg(){if(Cy)return Kl;Cy=1;var e=ur,t=e.retrieveRawValue;function r(a,i){var o=a.mapDimension("defaultedLabel",!0),s=o.length;if(s===1)return t(a,i,o[0]);if(s){for(var p=[],n=0;n<o.length;n++){var h=t(a,i,o[n]);p.push(h)}return p.join(" ")}}return Kl.getDefaultLabel=r,Kl}var Ql,My;function Ss(){if(My)return Ql;My=1;var e=W,t=Kt(),r=t.createSymbol,a=fe,i=Re(),o=i.parsePercent,s=hg(),p=s.getDefaultLabel;function n(_,A,b){a.Group.call(this),this.updateData(_,A,b)}var h=n.prototype,u=n.getSymbolSize=function(_,A){var b=_.getItemVisual(A,"symbolSize");return b instanceof Array?b.slice():[+b,+b]};function v(_){return[_[0]/2,_[1]/2]}function l(_,A){this.parent.drift(_,A)}h._createSymbol=function(_,A,b,w,x){this.removeAll();var S=A.getItemVisual(b,"color"),T=r(_,-1,-1,2,2,S,x);T.attr({z2:100,culling:!0,scale:v(w)}),T.drift=l,this._symbolType=_,this.add(T)},h.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(_,A){var b=this.childAt(0);b.zlevel=_,b.z=A},h.setDraggable=function(_){var A=this.childAt(0);A.draggable=_,A.cursor=_?"move":A.cursor},h.updateData=function(_,A,b){this.silent=!1;var w=_.getItemVisual(A,"symbol")||"circle",x=_.hostModel,S=u(_,A),T=w!==this._symbolType;if(T){var C=_.getItemVisual(A,"symbolKeepAspect");this._createSymbol(w,_,A,S,C)}else{var M=this.childAt(0);M.silent=!1,a.updateProps(M,{scale:v(S)},x,A)}if(this._updateCommon(_,A,S,b),T){var M=this.childAt(0),D=b&&b.fadeIn,L={scale:M.scale.slice()};D&&(L.style={opacity:M.style.opacity}),M.scale=[0,0],D&&(M.style.opacity=0),a.initProps(M,L,x,A)}this._seriesModel=x};var f=["itemStyle"],d=["emphasis","itemStyle"],m=["label"],c=["emphasis","label"];h._updateCommon=function(_,A,b,w){var x=this.childAt(0),S=_.hostModel,T=_.getItemVisual(A,"color");x.type!=="image"?x.useStyle({strokeNoScale:!0}):x.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var C=w&&w.itemStyle,M=w&&w.hoverItemStyle,D=w&&w.symbolOffset,L=w&&w.labelModel,I=w&&w.hoverLabelModel,P=w&&w.hoverAnimation,E=w&&w.cursorStyle;if(!w||_.hasItemOption){var O=w&&w.itemModel?w.itemModel:_.getItemModel(A);C=O.getModel(f).getItemStyle(["color"]),M=O.getModel(d).getItemStyle(),D=O.getShallow("symbolOffset"),L=O.getModel(m),I=O.getModel(c),P=O.getShallow("hoverAnimation"),E=O.getShallow("cursor")}else M=e.extend({},M);var B=x.style,q=_.getItemVisual(A,"symbolRotate");x.attr("rotation",(q||0)*Math.PI/180||0),D&&x.attr("position",[o(D[0],b[0]),o(D[1],b[1])]),E&&x.attr("cursor",E),x.setColor(T,w&&w.symbolInnerColor),x.setStyle(C);var V=_.getItemVisual(A,"opacity");V!=null&&(B.opacity=V);var R=_.getItemVisual(A,"liftZ"),z=x.__z2Origin;R!=null?z==null&&(x.__z2Origin=x.z2,x.z2+=R):z!=null&&(x.z2=z,x.__z2Origin=null);var k=w&&w.useNameLabel;a.setLabelStyle(B,M,L,I,{labelFetcher:S,labelDataIndex:A,defaultText:N,isRectText:!0,autoColor:T});function N(G,H){return k?_.getName(G):p(_,G)}x.__symbolOriginalScale=v(b),x.hoverStyle=M,x.highDownOnUpdate=P&&S.isAnimationEnabled()?g:null,a.setHoverStyle(x)};function g(_,A){if(!(this.incremental||this.useHoverLayer))if(A==="emphasis"){var b=this.__symbolOriginalScale,w=b[1]/b[0],x={scale:[Math.max(b[0]*1.1,b[0]+3),Math.max(b[1]*1.1,b[1]+3*w)]};this.animateTo(x,400,"elasticOut")}else A==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h.fadeOut=function(_,A){var b=this.childAt(0);this.silent=b.silent=!0,!(A&&A.keepLabel)&&(b.style.text=null),a.updateProps(b,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(n,a.Group);var y=n;return Ql=y,Ql}var jl,Dy;function Rn(){if(Dy)return jl;Dy=1;var e=fe,t=Ss(),r=W,a=r.isObject;function i(u){this.group=new e.Group,this._symbolCtor=u||t}var o=i.prototype;function s(u,v,l,f){return v&&!isNaN(v[0])&&!isNaN(v[1])&&!(f.isIgnore&&f.isIgnore(l))&&!(f.clipShape&&!f.clipShape.contain(v[0],v[1]))&&u.getItemVisual(l,"symbol")!=="none"}o.updateData=function(u,v){v=p(v);var l=this.group,f=u.hostModel,d=this._data,m=this._symbolCtor,c=n(u);d||l.removeAll(),u.diff(d).add(function(g){var y=u.getItemLayout(g);if(s(u,y,g,v)){var _=new m(u,g,c);_.attr("position",y),u.setItemGraphicEl(g,_),l.add(_)}}).update(function(g,y){var _=d.getItemGraphicEl(y),A=u.getItemLayout(g);if(!s(u,A,g,v)){l.remove(_);return}_?(_.updateData(u,g,c),e.updateProps(_,{position:A},f)):(_=new m(u,g),_.attr("position",A)),l.add(_),u.setItemGraphicEl(g,_)}).remove(function(g){var y=d.getItemGraphicEl(g);y&&y.fadeOut(function(){l.remove(y)})}).execute(),this._data=u},o.isPersistent=function(){return!0},o.updateLayout=function(){var u=this._data;u&&u.eachItemGraphicEl(function(v,l){var f=u.getItemLayout(l);v.attr("position",f)})},o.incrementalPrepareUpdate=function(u){this._seriesScope=n(u),this._data=null,this.group.removeAll()},o.incrementalUpdate=function(u,v,l){l=p(l);function f(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var d=u.start;d<u.end;d++){var m=v.getItemLayout(d);if(s(v,m,d,l)){var c=new this._symbolCtor(v,d,this._seriesScope);c.traverse(f),c.attr("position",m),this.group.add(c),v.setItemGraphicEl(d,c)}}};function p(u){return u!=null&&!a(u)&&(u={isIgnore:u}),u||{}}o.remove=function(u){var v=this.group,l=this._data;l&&u?l.eachItemGraphicEl(function(f){f.fadeOut(function(){v.remove(f)})}):v.removeAll()};function n(u){var v=u.hostModel;return{itemStyle:v.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:v.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:v.get("symbolRotate"),symbolOffset:v.get("symbolOffset"),hoverAnimation:v.get("hoverAnimation"),labelModel:v.getModel("label"),hoverLabelModel:v.getModel("emphasis.label"),cursorStyle:v.get("cursor")}}var h=i;return jl=h,jl}var co={},Ly;function TM(){if(Ly)return co;Ly=1;var e=Dr(),t=e.isDimensionStacked,r=W,a=r.map;function i(p,n,h){var u=p.getBaseAxis(),v=p.getOtherAxis(u),l=o(v,h),f=u.dim,d=v.dim,m=n.mapDimension(d),c=n.mapDimension(f),g=d==="x"||d==="radius"?1:0,y=a(p.dimensions,function(b){return n.mapDimension(b)}),_,A=n.getCalculationInfo("stackResultDimension");return(_|=t(n,y[0]))&&(y[0]=A),(_|=t(n,y[1]))&&(y[1]=A),{dataDimsForPoint:y,valueStart:l,valueAxisDim:d,baseAxisDim:f,stacked:!!_,valueDim:m,baseDim:c,baseDataOffset:g,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function o(p,n){var h=0,u=p.scale.getExtent();return n==="start"?h=u[0]:n==="end"?h=u[1]:u[0]>0?h=u[0]:u[1]<0&&(h=u[1]),h}function s(p,n,h,u){var v=NaN;p.stacked&&(v=h.get(h.getCalculationInfo("stackedOverDimension"),u)),isNaN(v)&&(v=p.valueStart);var l=p.baseDataOffset,f=[];return f[l]=h.get(p.baseDim,u),f[1-l]=v,n.dataToPoint(f)}return co.prepareDataCoordInfo=i,co.getStackedOnPoint=s,co}var Jl,Iy;function iH(){if(Iy)return Jl;Iy=1;var e=TM(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(o,s){var p=[];return s.diff(o).add(function(n){p.push({cmd:"+",idx:n})}).update(function(n,h){p.push({cmd:"=",idx:h,idx1:n})}).remove(function(n){p.push({cmd:"-",idx:n})}).execute(),p}function i(o,s,p,n,h,u,v,l){for(var f=a(o,s),d=[],m=[],c=[],g=[],y=[],_=[],A=[],b=t(h,s,v),w=t(u,o,l),x=0;x<f.length;x++){var S=f[x],T=!0;switch(S.cmd){case"=":var C=o.getItemLayout(S.idx),M=s.getItemLayout(S.idx1);(isNaN(C[0])||isNaN(C[1]))&&(C=M.slice()),d.push(C),m.push(M),c.push(p[S.idx]),g.push(n[S.idx1]),A.push(s.getRawIndex(S.idx1));break;case"+":var D=S.idx;d.push(h.dataToPoint([s.get(b.dataDimsForPoint[0],D),s.get(b.dataDimsForPoint[1],D)])),m.push(s.getItemLayout(D).slice()),c.push(r(b,h,s,D)),g.push(n[D]),A.push(s.getRawIndex(D));break;case"-":var D=S.idx,L=o.getRawIndex(D);L!==D?(d.push(o.getItemLayout(D)),m.push(u.dataToPoint([o.get(w.dataDimsForPoint[0],D),o.get(w.dataDimsForPoint[1],D)])),c.push(p[D]),g.push(r(w,u,o,D)),A.push(L)):T=!1}T&&(y.push(S),_.push(_.length))}_.sort(function(q,V){return A[q]-A[V]});for(var I=[],P=[],E=[],O=[],B=[],x=0;x<_.length;x++){var D=_[x];I[x]=d[D],P[x]=m[D],E[x]=c[D],O[x]=g[D],B[x]=y[D]}return{current:I,next:P,stackedOnCurrent:E,stackedOnNext:O,status:B}}return Jl=i,Jl}var fo={},Py;function CM(){if(Py)return fo;Py=1;var e=at,t=Ye(),r=eC,a=t.min,i=t.max,o=t.scaleAndAdd,s=t.copy,p=[],n=[],h=[];function u(g){return isNaN(g[0])||isNaN(g[1])}function v(g,y,_,A,b,w,x,S,T,C,M){return C==="none"||!C?f.apply(this,arguments):l.apply(this,arguments)}function l(g,y,_,A,b,w,x,S,T,C,M){for(var D=0,L=_,I=0;I<A;I++){var P=y[L];if(L>=b||L<0)break;if(u(P)){if(M){L+=w;continue}break}if(L===_)g[w>0?"moveTo":"lineTo"](P[0],P[1]);else if(T>0){var E=y[D],O=C==="y"?1:0,B=(P[O]-E[O])*T;s(n,E),n[O]=E[O]+B,s(h,P),h[O]=P[O]-B,g.bezierCurveTo(n[0],n[1],h[0],h[1],P[0],P[1])}else g.lineTo(P[0],P[1]);D=L,L+=w}return I}function f(g,y,_,A,b,w,x,S,T,C,M){for(var D=0,L=_,I=0;I<A;I++){var P=y[L];if(L>=b||L<0)break;if(u(P)){if(M){L+=w;continue}break}if(L===_)g[w>0?"moveTo":"lineTo"](P[0],P[1]),s(n,P);else if(T>0){var E=L+w,q=y[E];if(M)for(;q&&u(y[E]);)E+=w,q=y[E];var O=.5,B=y[D],q=y[E];if(!q||u(q))s(h,P);else{u(q)&&!M&&(q=P),t.sub(p,q,B);var V,R;if(C==="x"||C==="y"){var z=C==="x"?0:1;V=Math.abs(P[z]-B[z]),R=Math.abs(P[z]-q[z])}else V=t.dist(P,B),R=t.dist(P,q);O=R/(R+V),o(h,P,p,-T*(1-O))}a(n,n,S),i(n,n,x),a(h,h,S),i(h,h,x),g.bezierCurveTo(n[0],n[1],h[0],h[1],P[0],P[1]),o(n,P,p,T*O)}else g.lineTo(P[0],P[1]);D=L,L+=w}return I}function d(g,y){var _=[1/0,1/0],A=[-1/0,-1/0];if(y)for(var b=0;b<g.length;b++){var w=g[b];w[0]<_[0]&&(_[0]=w[0]),w[1]<_[1]&&(_[1]=w[1]),w[0]>A[0]&&(A[0]=w[0]),w[1]>A[1]&&(A[1]=w[1])}return{min:y?_:A,max:y?A:_}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(g,y){var _=y.points,A=0,b=_.length,w=d(_,y.smoothConstraint);if(y.connectNulls){for(;b>0&&u(_[b-1]);b--);for(;A<b&&u(_[A]);A++);}for(;A<b;)A+=v(g,_,A,b,b,1,w.min,w.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),c=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(g,y){var _=y.points,A=y.stackedOnPoints,b=0,w=_.length,x=y.smoothMonotone,S=d(_,y.smoothConstraint),T=d(A,y.smoothConstraint);if(y.connectNulls){for(;w>0&&u(_[w-1]);w--);for(;b<w&&u(_[b]);b++);}for(;b<w;){var C=v(g,_,b,w,w,1,S.min,S.max,y.smooth,x,y.connectNulls);v(g,A,b+C-1,C,w,-1,T.min,T.max,y.stackedOnSmooth,x,y.connectNulls),b+=C+1,g.closePath()}}});return fo.Polyline=m,fo.Polygon=c,fo}var Gi={},Ry;function En(){if(Ry)return Gi;Ry=1;var e=fe,t=Re(),r=t.round;function a(s,p,n){var h=s.getArea(),u=s.getBaseAxis().isHorizontal(),v=h.x,l=h.y,f=h.width,d=h.height,m=n.get("lineStyle.width")||2;v-=m/2,l-=m/2,f+=m,d+=m,v=Math.floor(v),f=Math.round(f);var c=new e.Rect({shape:{x:v,y:l,width:f,height:d}});return p&&(c.shape[u?"width":"height"]=0,e.initProps(c,{shape:{width:f,height:d}},n)),c}function i(s,p,n){var h=s.getArea(),u=new e.Sector({shape:{cx:r(s.cx,1),cy:r(s.cy,1),r0:r(h.r0,1),r:r(h.r,1),startAngle:h.startAngle,endAngle:h.endAngle,clockwise:h.clockwise}});return p&&(u.shape.endAngle=h.startAngle,e.initProps(u,{shape:{endAngle:h.endAngle}},n)),u}function o(s,p,n){if(s){if(s.type==="polar")return i(s,p,n);if(s.type==="cartesian2d")return a(s,p,n)}else return null;return null}return Gi.createGridClipPath=a,Gi.createPolarClipPath=i,Gi.createClipPath=o,Gi}var eu,Ey;function nH(){if(Ey)return eu;Ey=1;var e=W,t=bn(),r=t.fromPoints,a=Rn(),i=Ss(),o=iH(),s=fe,p=Ie,n=CM(),h=n.Polyline,u=n.Polygon,v=Mr,l=TM(),f=l.prepareDataCoordInfo,d=l.getStackedOnPoint,m=En(),c=m.createGridClipPath,g=m.createPolarClipPath;function y(D,L){if(D.length===L.length){for(var I=0;I<D.length;I++){var P=D[I],E=L[I];if(P[0]!==E[0]||P[1]!==E[1])return}return!0}}function _(D,L){var I=[],P=[],E=[],O=[];return r(D,I,P),r(L,E,O),Math.max(Math.abs(I[0]-E[0]),Math.abs(I[1]-E[1]),Math.abs(P[0]-O[0]),Math.abs(P[1]-O[1]))}function A(D){return typeof D=="number"?D:D?.5:0}function b(D,L,I){if(!I.valueDim)return[];for(var P=[],E=0,O=L.count();E<O;E++)P.push(d(I,D,L,E));return P}function w(D,L,I){for(var P=L.getBaseAxis(),E=P.dim==="x"||P.dim==="radius"?0:1,O=[],B=0;B<D.length-1;B++){var q=D[B+1],V=D[B];O.push(V);var R=[];switch(I){case"end":R[E]=q[E],R[1-E]=V[1-E],O.push(R);break;case"middle":var z=(V[E]+q[E])/2,k=[];R[E]=k[E]=z,R[1-E]=V[1-E],k[1-E]=q[1-E],O.push(R),O.push(k);break;default:R[E]=V[E],R[1-E]=q[1-E],O.push(R)}}return D[B]&&O.push(D[B]),O}function x(D,L){var I=D.getVisual("visualMeta");if(!(!I||!I.length||!D.count())&&L.type==="cartesian2d"){for(var P,E,O=I.length-1;O>=0;O--){var B=I[O].dimension,q=D.dimensions[B],V=D.getDimensionInfo(q);if(P=V&&V.coordDim,P==="x"||P==="y"){E=I[O];break}}if(E){var R=L.getAxis(P),z=e.map(E.stops,function(K){return{coord:R.toGlobalCoord(R.dataToCoord(K.value)),color:K.color}}),k=z.length,N=E.outerColors.slice();k&&z[0].coord>z[k-1].coord&&(z.reverse(),N.reverse());var G=10,H=z[0].coord-G,F=z[k-1].coord+G,$=F-H;if($<.001)return"transparent";e.each(z,function(K){K.offset=(K.coord-H)/$}),z.push({offset:k?z[k-1].offset:.5,color:N[1]||"transparent"}),z.unshift({offset:k?z[0].offset:.5,color:N[0]||"transparent"});var U=new s.LinearGradient(0,0,0,0,z,!0);return U[P]=H,U[P+"2"]=F,U}}}function S(D,L,I){var P=D.get("showAllSymbol"),E=P==="auto";if(!(P&&!E)){var O=I.getAxesByScale("ordinal")[0];if(O&&!(E&&T(O,L))){var B=L.mapDimension(O.dim),q={};return e.each(O.getViewLabels(),function(V){q[V.tickValue]=1}),function(V){return!q.hasOwnProperty(L.get(B,V))}}}}function T(D,L){var I=D.getExtent(),P=Math.abs(I[1]-I[0])/D.scale.count();isNaN(P)&&(P=0);for(var E=L.count(),O=Math.max(1,Math.round(E/5)),B=0;B<E;B+=O)if(i.getSymbolSize(L,B)[D.isHorizontal()?1:0]*1.5>P)return!1;return!0}function C(D,L,I){if(D.type==="cartesian2d"){var P=D.getBaseAxis().isHorizontal(),E=c(D,L,I);if(!I.get("clip",!0)){var O=E.shape,B=Math.max(O.width,O.height);P?(O.y-=B,O.height+=B*2):(O.x-=B,O.width+=B*2)}return E}else return g(D,L,I)}var M=v.extend({type:"line",init:function(){var D=new s.Group,L=new a;this.group.add(L.group),this._symbolDraw=L,this._lineGroup=D},render:function(D,L,I){var P=D.coordinateSystem,E=this.group,O=D.getData(),B=D.getModel("lineStyle"),q=D.getModel("areaStyle"),V=O.mapArray(O.getItemLayout),R=P.type==="polar",z=this._coordSys,k=this._symbolDraw,N=this._polyline,G=this._polygon,H=this._lineGroup,F=D.get("animation"),$=!q.isEmpty(),U=q.get("origin"),K=f(P,O,U),Q=b(P,O,K),j=D.get("showSymbol"),ee=j&&!R&&S(D,O,P),re=this._data;re&&re.eachItemGraphicEl(function(ie,ne){ie.__temp&&(E.remove(ie),re.setItemGraphicEl(ne,null))}),j||k.remove(),E.add(H);var te=!R&&D.get("step"),oe;P&&P.getArea&&D.get("clip",!0)&&(oe=P.getArea(),oe.width!=null?(oe.x-=.1,oe.y-=.1,oe.width+=.2,oe.height+=.2):oe.r0&&(oe.r0-=.5,oe.r1+=.5)),this._clipShapeForSymbol=oe,N&&z.type===P.type&&te===this._step?($&&!G?G=this._newPolygon(V,Q,P,F):G&&!$&&(H.remove(G),G=this._polygon=null),H.setClipPath(C(P,!1,D)),j&&k.updateData(O,{isIgnore:ee,clipShape:oe}),O.eachItemGraphicEl(function(ie){ie.stopAnimation(!0)}),(!y(this._stackedOnPoints,Q)||!y(this._points,V))&&(F?this._updateAnimation(O,Q,P,I,te,U):(te&&(V=w(V,P,te),Q=w(Q,P,te)),N.setShape({points:V}),G&&G.setShape({points:V,stackedOnPoints:Q})))):(j&&k.updateData(O,{isIgnore:ee,clipShape:oe}),te&&(V=w(V,P,te),Q=w(Q,P,te)),N=this._newPolyline(V,P,F),$&&(G=this._newPolygon(V,Q,P,F)),H.setClipPath(C(P,!0,D)));var xe=x(O,P)||O.getVisual("color");N.useStyle(e.defaults(B.getLineStyle(),{fill:"none",stroke:xe,lineJoin:"bevel"}));var se=D.get("smooth");if(se=A(D.get("smooth")),N.setShape({smooth:se,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")}),G){var ge=O.getCalculationInfo("stackedOnSeries"),we=0;G.useStyle(e.defaults(q.getAreaStyle(),{fill:xe,opacity:.7,lineJoin:"bevel"})),ge&&(we=A(ge.get("smooth"))),G.setShape({smooth:se,stackedOnSmooth:we,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")})}this._data=O,this._coordSys=P,this._stackedOnPoints=Q,this._points=V,this._step=te,this._valueOrigin=U},dispose:function(){},highlight:function(D,L,I,P){var E=D.getData(),O=p.queryDataIndex(E,P);if(!(O instanceof Array)&&O!=null&&O>=0){var B=E.getItemGraphicEl(O);if(!B){var q=E.getItemLayout(O);if(!q||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(q[0],q[1]))return;B=new i(E,O),B.position=q,B.setZ(D.get("zlevel"),D.get("z")),B.ignore=isNaN(q[0])||isNaN(q[1]),B.__temp=!0,E.setItemGraphicEl(O,B),B.stopSymbolAnimation(!0),this.group.add(B)}B.highlight()}else v.prototype.highlight.call(this,D,L,I,P)},downplay:function(D,L,I,P){var E=D.getData(),O=p.queryDataIndex(E,P);if(O!=null&&O>=0){var B=E.getItemGraphicEl(O);B&&(B.__temp?(E.setItemGraphicEl(O,null),this.group.remove(B)):B.downplay())}else v.prototype.downplay.call(this,D,L,I,P)},_newPolyline:function(D){var L=this._polyline;return L&&this._lineGroup.remove(L),L=new h({shape:{points:D},silent:!0,z2:10}),this._lineGroup.add(L),this._polyline=L,L},_newPolygon:function(D,L){var I=this._polygon;return I&&this._lineGroup.remove(I),I=new u({shape:{points:D,stackedOnPoints:L},silent:!0}),this._lineGroup.add(I),this._polygon=I,I},_updateAnimation:function(D,L,I,P,E,O){var B=this._polyline,q=this._polygon,V=D.hostModel,R=o(this._data,D,this._stackedOnPoints,L,this._coordSys,I,this._valueOrigin,O),z=R.current,k=R.stackedOnCurrent,N=R.next,G=R.stackedOnNext;if(E&&(z=w(R.current,I,E),k=w(R.stackedOnCurrent,I,E),N=w(R.next,I,E),G=w(R.stackedOnNext,I,E)),_(z,N)>3e3||q&&_(k,G)>3e3){B.setShape({points:N}),q&&q.setShape({points:N,stackedOnPoints:G});return}B.shape.__points=R.current,B.shape.points=z,s.updateProps(B,{shape:{points:N}},V),q&&(q.setShape({points:z,stackedOnPoints:k}),s.updateProps(q,{shape:{points:N,stackedOnPoints:G}},V));for(var H=[],F=R.status,$=0;$<F.length;$++){var U=F[$].cmd;if(U==="="){var K=D.getItemGraphicEl(F[$].idx1);K&&H.push({el:K,ptIdx:$})}}B.animators&&B.animators.length&&B.animators[0].during(function(){for(var Q=0;Q<H.length;Q++){var j=H[Q].el;j.attr("position",B.shape.__points[H[Q].ptIdx])}})},remove:function(D){var L=this.group,I=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),I&&I.eachItemGraphicEl(function(P,E){P.__temp&&(L.remove(P),I.setItemGraphicEl(E,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return eu=M,eu}var tu,ky;function Ia(){if(ky)return tu;ky=1;var e=W,t=e.isFunction;function r(a,i,o){return{seriesType:a,performRawSeries:!0,reset:function(s,p,n){var h=s.getData(),u=s.get("symbol"),v=s.get("symbolSize"),l=s.get("symbolKeepAspect"),f=s.get("symbolRotate"),d=t(u),m=t(v),c=t(f),g=d||m||c,y=!d&&u?u:i,_=m?null:v;if(h.setVisual({legendSymbol:o||y,symbol:y,symbolSize:_,symbolKeepAspect:l,symbolRotate:f}),p.isSeriesFiltered(s))return;function A(b,w){if(g){var x=s.getRawValue(w),S=s.getDataParams(w);d&&b.setItemVisual(w,"symbol",u(x,S)),m&&b.setItemVisual(w,"symbolSize",v(x,S)),c&&b.setItemVisual(w,"symbolRotate",f(x,S))}if(b.hasItemOption){var T=b.getItemModel(w),C=T.getShallow("symbol",!0),M=T.getShallow("symbolSize",!0),D=T.getShallow("symbolRotate",!0),L=T.getShallow("symbolKeepAspect",!0);C!=null&&b.setItemVisual(w,"symbol",C),M!=null&&b.setItemVisual(w,"symbolSize",M),D!=null&&b.setItemVisual(w,"symbolRotate",D),L!=null&&b.setItemVisual(w,"symbolKeepAspect",L)}}return{dataEach:h.hasItemOption||g?A:null}}}}return tu=r,tu}var ru,Oy;function kn(){if(Oy)return ru;Oy=1;var e=W,t=e.map,r=xi,a=Dr(),i=a.isDimensionStacked;function o(s){return{seriesType:s,plan:r(),reset:function(p){var n=p.getData(),h=p.coordinateSystem,u=p.pipelineContext,v=u.large;if(!h)return;var l=t(h.dimensions,function(c){return n.mapDimension(c)}).slice(0,2),f=l.length,d=n.getCalculationInfo("stackResultDimension");i(n,l[0])&&(l[0]=d),i(n,l[1])&&(l[1]=d);function m(c,g){for(var y=c.end-c.start,_=v&&new Float32Array(y*f),A=c.start,b=0,w=[],x=[];A<c.end;A++){var S;if(f===1){var T=g.get(l[0],A);S=!isNaN(T)&&h.dataToPoint(T,null,x)}else{var T=w[0]=g.get(l[0],A),C=w[1]=g.get(l[1],A);S=!isNaN(T)&&!isNaN(C)&&h.dataToPoint(w,null,x)}v?(_[b++]=S?S[0]:NaN,_[b++]=S?S[1]:NaN):g.setItemLayout(A,S&&S.slice()||[NaN,NaN])}v&&g.setLayout("symbolPoints",_)}return f&&{progress:m}}}}return ru=o,ru}var au,zy;function oH(){if(zy)return au;zy=1;var e={average:function(a){for(var i=0,o=0,s=0;s<a.length;s++)isNaN(a[s])||(i+=a[s],o++);return o===0?NaN:i/o},sum:function(a){for(var i=0,o=0;o<a.length;o++)i+=a[o]||0;return i},max:function(a){for(var i=-1/0,o=0;o<a.length;o++)a[o]>i&&(i=a[o]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,o=0;o<a.length;o++)a[o]<i&&(i=a[o]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,o,s){var p=i.getData(),n=i.get("sampling"),h=i.coordinateSystem;if(h.type==="cartesian2d"&&n){var u=h.getBaseAxis(),v=h.getOtherAxis(u),l=u.getExtent(),f=Math.abs(l[1]-l[0]),d=Math.round(p.count()/f);if(d>1){var m;typeof n=="string"?m=e[n]:typeof n=="function"&&(m=n),m&&i.setData(p.downSample(p.mapDimension(v.dim),1/d,m,t))}}}}}return au=r,au}var By={},iu,Ny;function sH(){if(Ny)return iu;Ny=1;var e=W;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(o){return o.scale.type===i})},addAxis:function(i){var o=i.dim;this._axes[o]=i,this._dimList.push(o)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,o){for(var s=this._dimList,p=i instanceof Array?[]:{},n=0;n<s.length;n++){var h=s[n],u=this._axes[h];p[h]=u[o](i[h])}return p}};var a=r;return iu=a,iu}var nu,Vy;function lH(){if(Vy)return nu;Vy=1;var e=W,t=Ke,r=sH();function a(o){r.call(this,o)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(o){var s=this.getAxis("x"),p=this.getAxis("y");return s.contain(s.toLocalCoord(o[0]))&&p.contain(p.toLocalCoord(o[1]))},containData:function(o){return this.getAxis("x").containData(o[0])&&this.getAxis("y").containData(o[1])},dataToPoint:function(o,s,p){var n=this.getAxis("x"),h=this.getAxis("y");return p=p||[],p[0]=n.toGlobalCoord(n.dataToCoord(o[0])),p[1]=h.toGlobalCoord(h.dataToCoord(o[1])),p},clampData:function(o,s){var p=this.getAxis("x").scale,n=this.getAxis("y").scale,h=p.getExtent(),u=n.getExtent(),v=p.parse(o[0]),l=n.parse(o[1]);return s=s||[],s[0]=Math.min(Math.max(Math.min(h[0],h[1]),v),Math.max(h[0],h[1])),s[1]=Math.min(Math.max(Math.min(u[0],u[1]),l),Math.max(u[0],u[1])),s},pointToData:function(o,s){var p=this.getAxis("x"),n=this.getAxis("y");return s=s||[],s[0]=p.coordToData(p.toLocalCoord(o[0])),s[1]=n.coordToData(n.toLocalCoord(o[1])),s},getOtherAxis:function(o){return this.getAxis(o.dim==="x"?"y":"x")},getArea:function(){var o=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),p=Math.min(o[0],o[1]),n=Math.min(s[0],s[1]),h=Math.max(o[0],o[1])-p,u=Math.max(s[0],s[1])-n,v=new t(p,n,h,u);return v}},e.inherits(a,r);var i=a;return nu=i,nu}var ou,Hy;function uH(){if(Hy)return ou;Hy=1;var e=W,t=sa(),r=function(i,o,s,p,n){t.call(this,i,o,s),this.type=p||"value",this.position=n||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),i&&o[0]>o[1]&&o.reverse(),o},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,o){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),o)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return ou=a,ou}var su,qy;function MM(){if(qy)return su;qy=1;var e=W,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return su=a,su}var lu,Gy;function bs(){if(Gy)return lu;Gy=1;var e=W,t=MM(),r=ct,a=ze,i=a.getLayoutParams,o=a.mergeLayoutParam,s=yM(),p=["value","category","time","log"];function n(h,u,v,l){e.each(p,function(f){u.extend({type:h+"Axis."+f,mergeDefaultAndTheme:function(d,m){var c=this.layoutMode,g=c?i(d):{},y=m.getTheme();e.merge(d,y.get(f+"Axis")),e.merge(d,this.getDefaultOption()),d.type=v(h,d),c&&o(d,g,c)},optionUpdated:function(){var d=this.option;d.type==="category"&&(this.__ordinalMeta=s.createByAxisModel(this))},getCategories:function(d){var m=this.option;if(m.type==="category")return d?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[f+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(h+"Axis",e.curry(v,h))}return lu=n,lu}var uu,Fy;function DM(){if(Fy)return uu;Fy=1;var e=W,t=ct,r=bs(),a=wi(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function o(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a);var s={offset:0};r("x",i,o,s),r("y",i,o,s);var p=i;return uu=p,uu}var vu,$y;function vH(){if($y)return vu;$y=1,DM();var e=ct,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return vu=t,vu}var hu,Uy;function cg(){if(Uy)return hu;Uy=1;var e=W,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var o=ze,s=o.getLayoutRect,p=hr(),n=p.createScaleByModel,h=p.ifAxisCrossZero,u=p.niceScaleExtent,v=p.estimateLabelUnionRect,l=lH(),f=uH(),d=Cr,m=Dr(),c=m.getStackedDimension;vH();function g(M,D,L){return M.getCoordSysModel()===D}function y(M,D,L){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(M,D,L),this.model=M}var _=y.prototype;_.type="grid",_.axisPointerEnabled=!0,_.getRect=function(){return this._rect},_.update=function(M,D){var L=this._axesMap;this._updateScale(M,this.model),r(L.x,function(P){u(P.scale,P.model)}),r(L.y,function(P){u(P.scale,P.model)});var I={};r(L.x,function(P){A(L,"y",P,I)}),r(L.y,function(P){A(L,"x",P,I)}),this.resize(this.model,D)};function A(M,D,L,I){L.getAxesOnZeroOf=function(){return E?[E]:[]};var P=M[D],E,O=L.model,B=O.get("axisLine.onZero"),q=O.get("axisLine.onZeroAxisIndex");if(!B)return;if(q!=null)b(P[q])&&(E=P[q]);else for(var V in P)if(P.hasOwnProperty(V)&&b(P[V])&&!I[R(P[V])]){E=P[V];break}E&&(I[R(E)]=!0);function R(z){return z.dim+"_"+z.index}}function b(M){return M&&M.type!=="category"&&M.type!=="time"&&h(M)}_.resize=function(M,D,L){var I=s(M.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()});this._rect=I;var P=this._axesList;E(),!L&&M.get("containLabel")&&(r(P,function(O){if(!O.model.get("axisLabel.inside")){var B=v(O);if(B){var q=O.isHorizontal()?"height":"width",V=O.model.get("axisLabel.margin");I[q]-=B[q]+V,O.position==="top"?I.y+=B.height+V:O.position==="left"&&(I.x+=B.width+V)}}}),E());function E(){r(P,function(O){var B=O.isHorizontal(),q=B?[0,I.width]:[0,I.height],V=O.inverse?1:0;O.setExtent(q[V],q[1-V]),w(O,B?I.x:I.y)})}},_.getAxis=function(M,D){var L=this._axesMap[M];if(L!=null){if(D==null){for(var I in L)if(L.hasOwnProperty(I))return L[I]}return L[D]}},_.getAxes=function(){return this._axesList.slice()},_.getCartesian=function(M,D){if(M!=null&&D!=null){var L="x"+M+"y"+D;return this._coordsMap[L]}t(M)&&(D=M.yAxisIndex,M=M.xAxisIndex);for(var I=0,P=this._coordsList;I<P.length;I++)if(P[I].getAxis("x").index===M||P[I].getAxis("y").index===D)return P[I]},_.getCartesians=function(){return this._coordsList.slice()},_.convertToPixel=function(M,D,L){var I=this._findConvertTarget(M,D);return I.cartesian?I.cartesian.dataToPoint(L):I.axis?I.axis.toGlobalCoord(I.axis.dataToCoord(L)):null},_.convertFromPixel=function(M,D,L){var I=this._findConvertTarget(M,D);return I.cartesian?I.cartesian.pointToData(L):I.axis?I.axis.coordToData(I.axis.toLocalCoord(L)):null},_._findConvertTarget=function(M,D){var L=D.seriesModel,I=D.xAxisModel||L&&L.getReferringComponents("xAxis")[0],P=D.yAxisModel||L&&L.getReferringComponents("yAxis")[0],E=D.gridModel,O=this._coordsList,B,q;if(L)B=L.coordinateSystem,i(O,B)<0&&(B=null);else if(I&&P)B=this.getCartesian(I.componentIndex,P.componentIndex);else if(I)q=this.getAxis("x",I.componentIndex);else if(P)q=this.getAxis("y",P.componentIndex);else if(E){var V=E.coordinateSystem;V===this&&(B=this._coordsList[0])}return{cartesian:B,axis:q}},_.containPoint=function(M){var D=this._coordsList[0];if(D)return D.containPoint(M)},_._initCartesian=function(M,D,L){var I={left:!1,right:!1,top:!1,bottom:!1},P={x:{},y:{}},E={x:0,y:0};if(D.eachComponent("xAxis",O("x"),this),D.eachComponent("yAxis",O("y"),this),!E.x||!E.y){this._axesMap={},this._axesList=[];return}this._axesMap=P,r(P.x,function(B,q){r(P.y,function(V,R){var z="x"+q+"y"+R,k=new l(z);k.grid=this,k.model=M,this._coordsMap[z]=k,this._coordsList.push(k),k.addAxis(B),k.addAxis(V)},this)},this);function O(B){return function(q,V){if(g(q,M)){var R=q.get("position");B==="x"?R!=="top"&&R!=="bottom"&&(R=I.bottom?"top":"bottom"):R!=="left"&&R!=="right"&&(R=I.left?"right":"left"),I[R]=!0;var z=new f(B,n(q),[0,0],q.get("type"),R),k=z.type==="category";z.onBand=k&&q.get("boundaryGap"),z.inverse=q.get("inverse"),q.axis=z,z.model=q,z.grid=this,z.index=V,this._axesList.push(z),P[B][V]=z,E[B]++}}}},_._updateScale=function(M,D){r(this._axesList,function(I){I.scale.setExtent(1/0,-1/0)}),M.eachSeries(function(I){if(T(I)){var P=S(I),E=P[0],O=P[1];if(!g(E,D)||!g(O,D))return;var B=this.getCartesian(E.componentIndex,O.componentIndex),q=I.getData(),V=B.getAxis("x"),R=B.getAxis("y");q.type==="list"&&(L(q,V),L(q,R))}},this);function L(I,P,E){r(I.mapDimension(P.dim,!0),function(O){P.scale.unionExtentFromData(I,c(I,O))})}},_.getTooltipAxes=function(M){var D=[],L=[];return r(this.getCartesians(),function(I){var P=M!=null&&M!=="auto"?I.getAxis(M):I.getBaseAxis(),E=I.getOtherAxis(P);i(D,P)<0&&D.push(P),i(L,E)<0&&L.push(E)}),{baseAxes:D,otherAxes:L}};function w(M,D){var L=M.getExtent(),I=L[0]+L[1];M.toGlobalCoord=M.dim==="x"?function(P){return P+D}:function(P){return I-P+D},M.toLocalCoord=M.dim==="x"?function(P){return P-D}:function(P){return I-P+D}}var x=["xAxis","yAxis"];function S(M,D){return a(x,function(L){var I=M.getReferringComponents(L)[0];return I})}function T(M){return M.get("coordinateSystem")==="cartesian2d"}y.create=function(M,D){var L=[];return M.eachComponent("grid",function(I,P){var E=new y(I,M,D);E.name="grid_"+P,E.resize(I,D,!0),I.coordinateSystem=E,L.push(E)}),M.eachSeries(function(I){if(T(I)){var P=S(I),E=P[0],O=P[1],B=E.getCoordSysModel(),q=B.coordinateSystem;I.coordinateSystem=q.getCartesian(E.componentIndex,O.componentIndex)}}),L},y.dimensions=y.prototype.dimensions=l.prototype.dimensions,d.register("cartesian2d",y);var C=y;return hu=C,hu}var Wy={},Zy={},cu,Yy;function la(){if(Yy)return cu;Yy=1;var e=W,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,o=Ge(),s=fe,p=ot(),n=Re(),h=n.isRadianAroundZero,u=n.remRadian,v=Kt(),l=v.createSymbol,f=Rt(),d=Ye(),m=d.applyTransform,c=hr(),g=c.shouldShowAllLabels,y=Math.PI,_=function(B,q){this.opt=q,this.axisModel=B,r(q,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new s.Group;var V=new s.Group({position:q.position.slice(),rotation:q.rotation});V.updateTransform(),this._transform=V.transform,this._dumbGroup=V};_.prototype={constructor:_,hasBuilder:function(B){return!!A[B]},add:function(B){A[B].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var B=this.opt,q=this.axisModel;if(q.get("axisLine.show")){var V=this.axisModel.axis.getExtent(),R=this._transform,z=[V[0],0],k=[V[1],0];R&&(m(z,z,R),m(k,k,R));var N=a({lineCap:"round"},q.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new s.Line({anid:"line",subPixelOptimize:!0,shape:{x1:z[0],y1:z[1],x2:k[0],y2:k[1]},style:N,strokeContainThreshold:B.strokeContainThreshold||5,silent:!0,z2:1}));var G=q.get("axisLine.symbol"),H=q.get("axisLine.symbolSize"),F=q.get("axisLine.symbolOffset")||0;if(typeof F=="number"&&(F=[F,F]),G!=null){typeof G=="string"&&(G=[G,G]),(typeof H=="string"||typeof H=="number")&&(H=[H,H]);var $=H[0],U=H[1];i([{rotate:B.rotation+Math.PI/2,offset:F[0],r:0},{rotate:B.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((z[0]-k[0])*(z[0]-k[0])+(z[1]-k[1])*(z[1]-k[1]))}],function(K,Q){if(G[Q]!=="none"&&G[Q]!=null){var j=l(G[Q],-$/2,-U/2,$,U,N.stroke,!0),ee=K.r+K.offset,re=[z[0]+ee*Math.cos(B.rotation),z[1]-ee*Math.sin(B.rotation)];j.attr({rotation:K.rotate,position:re,silent:!0,z2:11}),this.group.add(j)}},this)}}},axisTickLabel:function(){var B=this.axisModel,q=this.opt,V=I(this,B,q),R=E(this,B,q);T(B,R,V),P(this,B,q)},axisName:function(){var B=this.opt,q=this.axisModel,V=t(B.axisName,q.get("name"));if(V){var R=q.get("nameLocation"),z=B.nameDirection,k=q.getModel("nameTextStyle"),N=q.get("nameGap")||0,G=this.axisModel.axis.getExtent(),H=G[0]>G[1]?-1:1,F=[R==="start"?G[0]-H*N:R==="end"?G[1]+H*N:(G[0]+G[1])/2,D(R)?B.labelOffset+z*N:0],$,U=q.get("nameRotate");U!=null&&(U=U*y/180);var K;D(R)?$=w(B.rotation,U??B.rotation,z):($=x(B,R,U||0,G),K=B.axisNameAvailableWidth,K!=null&&(K=Math.abs(K/Math.sin($.rotation)),!isFinite(K)&&(K=null)));var Q=k.getFont(),j=q.get("nameTruncate",!0)||{},ee=j.ellipsis,re=t(B.nameTruncateMaxWidth,j.maxWidth,K),te=ee!=null&&re!=null?o.truncateText(V,re,Q,ee,{minChar:2,placeholder:j.placeholder}):V,oe=q.get("tooltip",!0),xe=q.mainType,se={componentType:xe,name:V,$vars:["name"]};se[xe+"Index"]=q.componentIndex;var ge=new s.Text({anid:"name",__fullText:V,__truncatedText:te,position:F,rotation:$.rotation,silent:S(q),z2:1,tooltip:oe&&oe.show?a({content:V,formatter:function(){return V},formatterParams:se},oe):null});s.setTextStyle(ge.style,k,{text:te,textFont:Q,textFill:k.getTextColor()||q.get("axisLine.lineStyle.color"),textAlign:k.get("align")||$.textAlign,textVerticalAlign:k.get("verticalAlign")||$.textVerticalAlign}),q.get("triggerEvent")&&(ge.eventData=b(q),ge.eventData.targetType="axisName",ge.eventData.name=V),this._dumbGroup.add(ge),ge.updateTransform(),this.group.add(ge),ge.decomposeTransform()}}},b=_.makeAxisEventDataBase=function(B){var q={componentType:B.mainType,componentIndex:B.componentIndex};return q[B.mainType+"Index"]=B.componentIndex,q},w=_.innerTextLayout=function(B,q,V){var R=u(q-B),z,k;return h(R)?(k=V>0?"top":"bottom",z="center"):h(R-y)?(k=V>0?"bottom":"top",z="center"):(k="middle",R>0&&R<y?z=V>0?"right":"left":z=V>0?"left":"right"),{rotation:R,textAlign:z,textVerticalAlign:k}};function x(B,q,V,R){var z=u(V-B.rotation),k,N,G=R[0]>R[1],H=q==="start"&&!G||q!=="start"&&G;return h(z-y/2)?(N=H?"bottom":"top",k="center"):h(z-y*1.5)?(N=H?"top":"bottom",k="center"):(N="middle",z<y*1.5&&z>y/2?k=H?"left":"right":k=H?"right":"left"),{rotation:z,textAlign:k,textVerticalAlign:N}}var S=_.isLabelSilent=function(B){var q=B.get("tooltip");return B.get("silent")||!(B.get("triggerEvent")||q&&q.show)};function T(B,q,V){if(!g(B.axis)){var R=B.get("axisLabel.showMinLabel"),z=B.get("axisLabel.showMaxLabel");q=q||[],V=V||[];var k=q[0],N=q[1],G=q[q.length-1],H=q[q.length-2],F=V[0],$=V[1],U=V[V.length-1],K=V[V.length-2];R===!1?(C(k),C(F)):M(k,N)&&(R?(C(N),C($)):(C(k),C(F))),z===!1?(C(G),C(U)):M(H,G)&&(z?(C(H),C(K)):(C(G),C(U)))}}function C(B){B&&(B.ignore=!0)}function M(B,q,V){var R=B&&B.getBoundingRect().clone(),z=q&&q.getBoundingRect().clone();if(!(!R||!z)){var k=f.identity([]);return f.rotate(k,k,-B.rotation),R.applyTransform(f.mul([],k,B.getLocalTransform())),z.applyTransform(f.mul([],k,q.getLocalTransform())),R.intersect(z)}}function D(B){return B==="middle"||B==="center"}function L(B,q,V,R,z){for(var k=[],N=[],G=[],H=0;H<B.length;H++){var F=B[H].coord;N[0]=F,N[1]=0,G[0]=F,G[1]=V,q&&(m(N,N,q),m(G,G,q));var $=new s.Line({anid:z+"_"+B[H].tickValue,subPixelOptimize:!0,shape:{x1:N[0],y1:N[1],x2:G[0],y2:G[1]},style:R,z2:2,silent:!0});k.push($)}return k}function I(B,q,V){var R=q.axis,z=q.getModel("axisTick");if(!(!z.get("show")||R.scale.isBlank())){for(var k=z.getModel("lineStyle"),N=V.tickDirection*z.get("length"),G=R.getTicksCoords(),H=L(G,B._transform,N,r(k.getLineStyle(),{stroke:q.get("axisLine.lineStyle.color")}),"ticks"),F=0;F<H.length;F++)B.group.add(H[F]);return H}}function P(B,q,V){var R=q.axis,z=q.getModel("minorTick");if(!(!z.get("show")||R.scale.isBlank())){var k=R.getMinorTicksCoords();if(k.length)for(var N=z.getModel("lineStyle"),G=V.tickDirection*z.get("length"),H=r(N.getLineStyle(),r(q.getModel("axisTick").getLineStyle(),{stroke:q.get("axisLine.lineStyle.color")})),F=0;F<k.length;F++)for(var $=L(k[F],B._transform,G,H,"minorticks_"+F),U=0;U<$.length;U++)B.group.add($[U])}}function E(B,q,V){var R=q.axis,z=t(V.axisLabelShow,q.get("axisLabel.show"));if(!(!z||R.scale.isBlank())){var k=q.getModel("axisLabel"),N=k.get("margin"),G=R.getViewLabels(),H=(t(V.labelRotate,k.get("rotate"))||0)*y/180,F=w(V.rotation,H,V.labelDirection),$=q.getCategories&&q.getCategories(!0),U=[],K=S(q),Q=q.get("triggerEvent");return i(G,function(j,ee){var re=j.tickValue,te=j.formattedLabel,oe=j.rawLabel,xe=k;$&&$[re]&&$[re].textStyle&&(xe=new p($[re].textStyle,k,q.ecModel));var se=xe.getTextColor()||q.get("axisLine.lineStyle.color"),ge=R.dataToCoord(re),we=[ge,V.labelOffset+V.labelDirection*N],ie=new s.Text({anid:"label_"+re,position:we,rotation:F.rotation,silent:K,z2:10});s.setTextStyle(ie.style,xe,{text:te,textAlign:xe.getShallow("align",!0)||F.textAlign,textVerticalAlign:xe.getShallow("verticalAlign",!0)||xe.getShallow("baseline",!0)||F.textVerticalAlign,textFill:typeof se=="function"?se(R.type==="category"?oe:R.type==="value"?re+"":re,ee):se}),Q&&(ie.eventData=b(q),ie.eventData.targetType="axisLabel",ie.eventData.value=oe),B._dumbGroup.add(ie),ie.updateTransform(),U.push(ie),B.group.add(ie),ie.decomposeTransform()}),U}}var O=_;return cu=O,cu}var pa={},Xy;function ws(){if(Xy)return pa;Xy=1;var e=W,t=ot(),r=e.each,a=e.curry;function i(m,c){var g={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o(g,m,c),g.seriesInvolved&&p(g,m),g}function o(m,c,g){var y=c.getComponent("tooltip"),_=c.getComponent("axisPointer"),A=_.get("link",!0)||[],b=[];r(g.getCoordinateSystems(),function(w){if(!w.axisPointerEnabled)return;var x=d(w.model),S=m.coordSysAxesInfo[x]={};m.coordSysMap[x]=w;var T=w.model,C=T.getModel("tooltip",y);if(r(w.getAxes(),a(I,!1,null)),w.getTooltipAxes&&y&&C.get("show")){var M=C.get("trigger")==="axis",D=C.get("axisPointer.type")==="cross",L=w.getTooltipAxes(C.get("axisPointer.axis"));(M||D)&&r(L.baseAxes,a(I,D?"cross":!0,M)),D&&r(L.otherAxes,a(I,"cross",!1))}function I(P,E,O){var B=O.model.getModel("axisPointer",_),q=B.get("show");if(!(!q||q==="auto"&&!P&&!f(B))){E==null&&(E=B.get("triggerTooltip")),B=P?s(O,C,_,c,P,E):B;var V=B.get("snap"),R=d(O.model),z=E||V||O.type==="category",k=m.axesInfo[R]={key:R,axis:O,coordSys:w,axisPointerModel:B,triggerTooltip:E,involveSeries:z,snap:V,useHandle:f(B),seriesModels:[]};S[R]=k,m.seriesInvolved|=z;var N=n(A,O);if(N!=null){var G=b[N]||(b[N]={axesInfo:{}});G.axesInfo[R]=k,G.mapper=A[N].mapper,k.linkGroup=G}}}})}function s(m,c,g,y,_,A){var b=c.getModel("axisPointer"),w={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(C){w[C]=e.clone(b.get(C))}),w.snap=m.type!=="category"&&!!A,b.get("type")==="cross"&&(w.type="line");var x=w.label||(w.label={});if(x.show==null&&(x.show=!1),_==="cross"){var S=b.get("label.show");if(x.show=S??!0,!A){var T=w.lineStyle=b.get("crossStyle");T&&e.defaults(x,T.textStyle)}}return m.model.getModel("axisPointer",new t(w,g,y))}function p(m,c){c.eachSeries(function(g){var y=g.coordinateSystem,_=g.get("tooltip.trigger",!0),A=g.get("tooltip.show",!0);!y||_==="none"||_===!1||_==="item"||A===!1||g.get("axisPointer.show",!0)===!1||r(m.coordSysAxesInfo[d(y.model)],function(b){var w=b.axis;y.getAxis(w.dim)===w&&(b.seriesModels.push(g),b.seriesDataCount==null&&(b.seriesDataCount=0),b.seriesDataCount+=g.getData().count())})},this)}function n(m,c){for(var g=c.model,y=c.dim,_=0;_<m.length;_++){var A=m[_]||{};if(h(A[y+"AxisId"],g.id)||h(A[y+"AxisIndex"],g.componentIndex)||h(A[y+"AxisName"],g.name))return _}}function h(m,c){return m==="all"||e.isArray(m)&&e.indexOf(m,c)>=0||m===c}function u(m){var c=v(m);if(c){var g=c.axisPointerModel,y=c.axis.scale,_=g.option,A=g.get("status"),b=g.get("value");b!=null&&(b=y.parse(b));var w=f(g);A==null&&(_.status=w?"show":"hide");var x=y.getExtent().slice();x[0]>x[1]&&x.reverse(),(b==null||b>x[1])&&(b=x[1]),b<x[0]&&(b=x[0]),_.value=b,w&&(_.status=c.axis.scale.isBlank()?"hide":"show")}}function v(m){var c=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return c&&c.axesInfo[d(m)]}function l(m){var c=v(m);return c&&c.axisPointerModel}function f(m){return!!m.get("handle.show")}function d(m){return m.type+"||"+m.id}return pa.collect=i,pa.fixValue=u,pa.getAxisInfo=v,pa.getAxisPointerModel=l,pa.makeKey=d,pa}var fu,Ky;function Pa(){if(Ky)return fu;Ky=1;var e=ye,t=ws(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(p,n,h,u){this.axisPointerClass&&t.fixValue(p),r.superApply(this,"render",arguments),a(this,p,n,h,u,!0)},updateAxisPointer:function(p,n,h,u,v){a(this,p,n,h,u,!1)},remove:function(p,n){var h=this._axisPointer;h&&h.remove(n),r.superApply(this,"remove",arguments)},dispose:function(p,n){i(this,n),r.superApply(this,"dispose",arguments)}});function a(p,n,h,u,v,l){var f=r.getAxisPointerClass(p.axisPointerClass);if(f){var d=t.getAxisPointerModel(n);d?(p._axisPointer||(p._axisPointer=new f)).render(n,d,u,l):i(p,u)}}function i(p,n,h){var u=p._axisPointer;u&&u.dispose(n,h),p._axisPointer=null}var o=[];r.registerAxisPointerClass=function(p,n){o[p]=n},r.getAxisPointerClass=function(p){return p&&o[p]};var s=r;return fu=s,fu}var du={},Qy;function LM(){if(Qy)return du;Qy=1;var e=W;function t(r,a,i){i=i||{};var o=r.coordinateSystem,s=a.axis,p={},n=s.getAxesOnZeroOf()[0],h=s.position,u=n?"onZero":h,v=s.dim,l=o.getRect(),f=[l.x,l.x+l.width,l.y,l.y+l.height],d={left:0,right:1,top:0,bottom:1,onZero:2},m=a.get("offset")||0,c=v==="x"?[f[2]-m,f[3]+m]:[f[0]-m,f[1]+m];if(n){var g=n.toGlobalCoord(n.dataToCoord(0));c[d.onZero]=Math.max(Math.min(g,c[1]),c[0])}p.position=[v==="y"?c[d[u]]:f[0],v==="x"?c[d[u]]:f[3]],p.rotation=Math.PI/2*(v==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};p.labelDirection=p.tickDirection=p.nameDirection=y[h],p.labelOffset=n?c[d[h]]-c[d.onZero]:0,a.get("axisTick.inside")&&(p.tickDirection=-p.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(p.labelDirection=-p.labelDirection);var _=a.get("axisLabel.rotate");return p.labelRotate=u==="top"?-_:_,p.z2=1,p}return du.layout=t,du}var go={},jy;function IM(){if(jy)return go;jy=1;var e=W,t=fe;function r(i,o,s,p){var n=s.axis;if(!n.scale.isBlank()){var h=s.getModel("splitArea"),u=h.getModel("areaStyle"),v=u.get("color"),l=p.coordinateSystem.getRect(),f=n.getTicksCoords({tickModel:h,clamp:!0});if(f.length){var d=v.length,m=i.__splitAreaColors,c=e.createHashMap(),g=0;if(m)for(var y=0;y<f.length;y++){var _=m.get(f[y].tickValue);if(_!=null){g=(_+(d-1)*y)%d;break}}var A=n.toGlobalCoord(f[0].coord),b=u.getAreaStyle();v=e.isArray(v)?v:[v];for(var y=1;y<f.length;y++){var w=n.toGlobalCoord(f[y].coord),x,S,T,C;n.isHorizontal()?(x=A,S=l.y,T=w-x,C=l.height,A=x+T):(x=l.x,S=A,T=l.width,C=w-S,A=S+C);var M=f[y-1].tickValue;M!=null&&c.set(M,g),o.add(new t.Rect({anid:M!=null?"area_"+M:null,shape:{x,y:S,width:T,height:C},style:e.defaults({fill:v[g]},b),silent:!0})),g=(g+1)%d}i.__splitAreaColors=c}}}function a(i){i.__splitAreaColors=null}return go.rectCoordAxisBuildSplitArea=r,go.rectCoordAxisHandleRemove=a,go}var Jy;function hH(){if(Jy)return Zy;Jy=1;var e=W,t=fe,r=la(),a=Pa(),i=LM(),o=IM(),s=o.rectCoordAxisBuildSplitArea,p=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],u=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(v,l,f,d){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!v.get("show")){var c=v.getCoordSysModel(),g=i.layout(c,v),y=new r(v,g);e.each(n,y.add,y),this._axisGroup.add(y.getGroup()),e.each(h,function(_){v.get(_+".show")&&this["_"+_](v,c)},this),t.groupTransition(m,this._axisGroup,v),u.superCall(this,"render",v,l,f,d)}},remove:function(){p(this)},_splitLine:function(v,l){var f=v.axis;if(!f.scale.isBlank()){var d=v.getModel("splitLine"),m=d.getModel("lineStyle"),c=m.get("color");c=e.isArray(c)?c:[c];for(var g=l.coordinateSystem.getRect(),y=f.isHorizontal(),_=0,A=f.getTicksCoords({tickModel:d}),b=[],w=[],x=m.getLineStyle(),S=0;S<A.length;S++){var T=f.toGlobalCoord(A[S].coord);y?(b[0]=T,b[1]=g.y,w[0]=T,w[1]=g.y+g.height):(b[0]=g.x,b[1]=T,w[0]=g.x+g.width,w[1]=T);var C=_++%c.length,M=A[S].tickValue;this._axisGroup.add(new t.Line({anid:M!=null?"line_"+A[S].tickValue:null,subPixelOptimize:!0,shape:{x1:b[0],y1:b[1],x2:w[0],y2:w[1]},style:e.defaults({stroke:c[C]},x),silent:!0}))}}},_minorSplitLine:function(v,l){var f=v.axis,d=v.getModel("minorSplitLine"),m=d.getModel("lineStyle"),c=l.coordinateSystem.getRect(),g=f.isHorizontal(),y=f.getMinorTicksCoords();if(y.length)for(var _=[],A=[],b=m.getLineStyle(),w=0;w<y.length;w++)for(var x=0;x<y[w].length;x++){var S=f.toGlobalCoord(y[w][x].coord);g?(_[0]=S,_[1]=c.y,A[0]=S,A[1]=c.y+c.height):(_[0]=c.x,_[1]=S,A[0]=c.x+c.width,A[1]=S),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[w][x].tickValue,subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:A[0],y2:A[1]},style:b,silent:!0}))}},_splitArea:function(v,l){s(this,this._axisGroup,v,l)}});return u.extend({type:"xAxis"}),u.extend({type:"yAxis"}),Zy}var e0;function cH(){return e0||(e0=1,DM(),hH()),Wy}var t0;function On(){if(t0)return By;t0=1;var e=ye,t=W,r=fe;return cg(),cH(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),By}var r0;function fH(){if(r0)return Ay;r0=1;var e=ye;aH(),nH();var t=Ia(),r=kn(),a=oH();return On(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),Ay}var a0={},gu,i0;function PM(){if(i0)return gu;i0=1;var e=ft,t=qr(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var o=i.dataToPoint(i.clampData(a)),s=this.getData(),p=s.getLayout("offset"),n=s.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;return o[h]+=p+n/2,o}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return gu=r,gu}var pu,n0;function dH(){if(n0)return pu;n0=1;var e=PM(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return pu=t,pu}var mu={},o0;function RM(){if(o0)return mu;o0=1;var e=fe,t=hg(),r=t.getDefaultLabel;function a(o,s,p,n,h,u,v){var l=p.getModel("label"),f=p.getModel("emphasis.label");e.setLabelStyle(o,s,l,f,{labelFetcher:h,labelDataIndex:u,defaultText:r(h.getData(),u),isRectText:!0,autoColor:n}),i(o),i(s)}function i(o,s){o.textPosition==="outside"&&(o.textPosition=s)}return mu.setLabel=a,mu}var yu,s0;function gH(){if(s0)return yu;s0=1;var e=gi(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var o=this.getBorderLineDash();o&&(i.lineDash=o)}return i}};return yu=r,yu}var _u,l0;function pH(){if(l0)return _u;l0=1;var e=fe,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,i){var o=i.cx,s=i.cy,p=Math.max(i.r0||0,0),n=Math.max(i.r,0),h=(n-p)*.5,u=p+h,v=i.startAngle,l=i.endAngle,f=i.clockwise,d=Math.cos(v),m=Math.sin(v),c=Math.cos(l),g=Math.sin(l),y=f?l-v<Math.PI*2:v-l<Math.PI*2;y&&(a.moveTo(d*p+o,m*p+s),a.arc(d*u+o,m*u+s,h,-Math.PI+v,v,!f)),a.arc(o,s,n,v,l,!f),a.moveTo(c*n+o,g*n+s),a.arc(c*u+o,g*u+s,h,l-Math.PI*2,l-Math.PI,!f),p!==0&&(a.arc(o,s,p,l,v,f),a.moveTo(d*p+o,g*p+s)),a.closePath()}});return _u=r,_u}var xu,u0;function mH(){if(u0)return xu;u0=1;var e=ye,t=W,r=fe,a=RM(),i=a.setLabel,o=ot(),s=gH(),p=at,n=Ta,h=vr,u=h.throttle,v=En(),l=v.createClipPath,f=pH(),d=["itemStyle","barBorderWidth"],m=[0,0];t.extend(o.prototype,s);function c(V,R){var z=V.getArea&&V.getArea();if(V.type==="cartesian2d"){var k=V.getBaseAxis();if(k.type!=="category"||!k.onBand){var N=R.getLayout("bandWidth");k.isHorizontal()?(z.x-=N,z.width+=N*2):(z.y-=N,z.height+=N*2)}}return z}var g=e.extendChartView({type:"bar",render:function(V,R,z){this._updateDrawMode(V);var k=V.get("coordinateSystem");return(k==="cartesian2d"||k==="polar")&&(this._isLargeDraw?this._renderLarge(V,R,z):this._renderNormal(V,R,z)),this.group},incrementalPrepareRender:function(V,R,z){this._clear(),this._updateDrawMode(V)},incrementalRender:function(V,R,z,k){this._incrementalRenderLarge(V,R)},_updateDrawMode:function(V){var R=V.pipelineContext.large;(this._isLargeDraw==null||R^this._isLargeDraw)&&(this._isLargeDraw=R,this._clear())},_renderNormal:function(V,R,z){var k=this.group,N=V.getData(),G=this._data,H=V.coordinateSystem,F=H.getBaseAxis(),$;H.type==="cartesian2d"?$=F.isHorizontal():H.type==="polar"&&($=F.dim==="angle");var U=V.isAnimationEnabled()?V:null,K=V.get("clip",!0),Q=c(H,N);k.removeClipPath();var j=V.get("roundCap",!0),ee=V.get("showBackground",!0),re=V.getModel("backgroundStyle"),te=re.get("barBorderRadius")||0,oe=[],xe=this._backgroundEls||[],se=function(ie){var ne=S[H.type](N,ie),de=q(H,$,ne);return de.useStyle(re.getBarItemStyle()),H.type==="cartesian2d"&&de.setShape("r",te),oe[ie]=de,de};N.diff(G).add(function(ie){var ne=N.getItemModel(ie),de=S[H.type](N,ie,ne);if(ee&&se(ie),!!N.hasValue(ie)){if(K){var Z=A[H.type](Q,de);if(Z){k.remove(X);return}}var X=b[H.type](ie,de,$,U,!1,j);N.setItemGraphicEl(ie,X),k.add(X),C(X,N,ie,ne,de,V,$,H.type==="polar")}}).update(function(ie,ne){var de=N.getItemModel(ie),Z=S[H.type](N,ie,de);if(ee){var X;xe.length===0?X=se(ne):(X=xe[ne],X.useStyle(re.getBarItemStyle()),H.type==="cartesian2d"&&X.setShape("r",te),oe[ie]=X);var J=S[H.type](N,ie),ue=B($,J,H);r.updateProps(X,{shape:ue},U,ie)}var le=G.getItemGraphicEl(ne);if(!N.hasValue(ie)){k.remove(le);return}if(K){var ve=A[H.type](Q,Z);if(ve){k.remove(le);return}}le?r.updateProps(le,{shape:Z},U,ie):le=b[H.type](ie,Z,$,U,!0,j),N.setItemGraphicEl(ie,le),k.add(le),C(le,N,ie,de,Z,V,$,H.type==="polar")}).remove(function(ie){var ne=G.getItemGraphicEl(ie);H.type==="cartesian2d"?ne&&w(ie,U,ne):ne&&x(ie,U,ne)}).execute();var ge=this._backgroundGroup||(this._backgroundGroup=new n);ge.removeAll();for(var we=0;we<oe.length;++we)ge.add(oe[we]);k.add(ge),this._backgroundEls=oe,this._data=N},_renderLarge:function(V,R,z){this._clear(),L(V,this.group);var k=V.get("clip",!0)?l(V.coordinateSystem,!1,V):null;k?this.group.setClipPath(k):this.group.removeClipPath()},_incrementalRenderLarge:function(V,R){this._removeBackground(),L(R,this.group,!0)},dispose:t.noop,remove:function(V){this._clear(V)},_clear:function(V){var R=this.group,z=this._data;V&&V.get("animation")&&z&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],z.eachItemGraphicEl(function(k){k.type==="sector"?x(k.dataIndex,V,k):w(k.dataIndex,V,k)})):R.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,_=Math.min,A={cartesian2d:function(V,R){var z=R.width<0?-1:1,k=R.height<0?-1:1;z<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height);var N=y(R.x,V.x),G=_(R.x+R.width,V.x+V.width),H=y(R.y,V.y),F=_(R.y+R.height,V.y+V.height);R.x=N,R.y=H,R.width=G-N,R.height=F-H;var $=R.width<0||R.height<0;return z<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height),$},polar:function(V,R){var z=R.r0<=R.r?1:-1;if(z<0){var k=R.r;R.r=R.r0,R.r0=k}var k=_(R.r,V.r),N=y(R.r0,V.r0);R.r=k,R.r0=N;var G=k-N<0;if(z<0){var k=R.r;R.r=R.r0,R.r0=k}return G}},b={cartesian2d:function(V,R,z,k,N){var G=new r.Rect({shape:t.extend({},R),z2:1});if(G.name="item",k){var H=G.shape,F=z?"height":"width",$={};H[F]=0,$[F]=R[F],r[N?"updateProps":"initProps"](G,{shape:$},k,V)}return G},polar:function(V,R,z,k,N,G){var H=R.startAngle<R.endAngle,F=!z&&G?f:r.Sector,$=new F({shape:t.defaults({clockwise:H},R),z2:1});if($.name="item",k){var U=$.shape,K=z?"r":"endAngle",Q={};U[K]=z?0:R.startAngle,Q[K]=R[K],r[N?"updateProps":"initProps"]($,{shape:Q},k,V)}return $}};function w(V,R,z){z.style.text=null,r.updateProps(z,{shape:{width:0}},R,V,function(){z.parent&&z.parent.remove(z)})}function x(V,R,z){z.style.text=null,r.updateProps(z,{shape:{r:z.shape.r0}},R,V,function(){z.parent&&z.parent.remove(z)})}var S={cartesian2d:function(V,R,z){var k=V.getItemLayout(R),N=z?M(z,k):0,G=k.width>0?1:-1,H=k.height>0?1:-1;return{x:k.x+G*N/2,y:k.y+H*N/2,width:k.width-G*N,height:k.height-H*N}},polar:function(V,R,z){var k=V.getItemLayout(R);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function T(V){return V.startAngle!=null&&V.endAngle!=null&&V.startAngle===V.endAngle}function C(V,R,z,k,N,G,H,F){var $=R.getItemVisual(z,"color"),U=R.getItemVisual(z,"opacity"),K=R.getVisual("borderColor"),Q=k.getModel("itemStyle"),j=k.getModel("emphasis.itemStyle").getBarItemStyle();F||V.setShape("r",Q.get("barBorderRadius")||0),V.useStyle(t.defaults({stroke:T(N)?"none":K,fill:T(N)?"none":$,opacity:U},Q.getBarItemStyle()));var ee=k.getShallow("cursor");ee&&V.attr("cursor",ee);var re=H?N.height>0?"bottom":"top":N.width>0?"left":"right";F||i(V.style,j,k,$,G,z,re),T(N)&&(j.fill=j.stroke="none"),r.setHoverStyle(V,j)}function M(V,R){var z=V.get(d)||0,k=isNaN(R.width)?Number.MAX_VALUE:Math.abs(R.width),N=isNaN(R.height)?Number.MAX_VALUE:Math.abs(R.height);return Math.min(z,k,N)}var D=p.extend({type:"largeBar",shape:{points:[]},buildPath:function(V,R){for(var z=R.points,k=this.__startPoint,N=this.__baseDimIdx,G=0;G<z.length;G+=2)k[N]=z[G+N],V.moveTo(k[0],k[1]),V.lineTo(z[G],z[G+1])}});function L(V,R,z){var k=V.getData(),N=[],G=k.getLayout("valueAxisHorizontal")?1:0;N[1-G]=k.getLayout("valueAxisStart");var H=k.getLayout("largeDataIndices"),F=k.getLayout("barWidth"),$=V.getModel("backgroundStyle"),U=V.get("showBackground",!0);if(U){var K=k.getLayout("largeBackgroundPoints"),Q=[];Q[1-G]=k.getLayout("backgroundStart");var j=new D({shape:{points:K},incremental:!!z,__startPoint:Q,__baseDimIdx:G,__largeDataIndices:H,__barWidth:F,silent:!0,z2:0});O(j,$,k),R.add(j)}var ee=new D({shape:{points:k.getLayout("largePoints")},incremental:!!z,__startPoint:N,__baseDimIdx:G,__largeDataIndices:H,__barWidth:F});R.add(ee),E(ee,V,k),ee.seriesIndex=V.seriesIndex,V.get("silent")||(ee.on("mousedown",I),ee.on("mousemove",I))}var I=u(function(V){var R=this,z=P(R,V.offsetX,V.offsetY);R.dataIndex=z>=0?z:null},30,!1);function P(V,R,z){var k=V.__baseDimIdx,N=1-k,G=V.shape.points,H=V.__largeDataIndices,F=Math.abs(V.__barWidth/2),$=V.__startPoint[N];m[0]=R,m[1]=z;for(var U=m[k],K=m[1-k],Q=U-F,j=U+F,ee=0,re=G.length/2;ee<re;ee++){var te=ee*2,oe=G[te+k],xe=G[te+N];if(oe>=Q&&oe<=j&&($<=xe?K>=$&&K<=xe:K>=xe&&K<=$))return H[ee]}return-1}function E(V,R,z){var k=z.getVisual("borderColor")||z.getVisual("color"),N=R.getModel("itemStyle").getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=z.getLayout("barWidth")}function O(V,R,z){var k=R.get("borderColor")||R.get("color"),N=R.getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=z.getLayout("barWidth")}function B(V,R,z){var k,N=z.type==="polar";return N?k=z.getArea():k=z.grid.getRect(),N?{cx:k.cx,cy:k.cy,r0:V?k.r0:R.r0,r:V?k.r:R.r,startAngle:V?R.startAngle:0,endAngle:V?R.endAngle:Math.PI*2}:{x:V?R.x:k.x,y:V?k.y:R.y,width:V?R.width:k.width,height:V?k.height:R.height}}function q(V,R,z){var k=V.type==="polar"?r.Sector:r.Rect;return new k({shape:B(R,z,V),silent:!0,z2:0})}return xu=g,xu}var v0;function yH(){if(v0)return a0;v0=1;var e=ye,t=W,r=xs(),a=r.layout,i=r.largeLayout;return cg(),dH(),mH(),On(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(a,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,i),e.registerVisual({seriesType:"bar",reset:function(o){o.getData().setVisual("legendSymbol","roundRect")}}),a0}var h0={},Su,c0;function Ai(){if(c0)return Su;c0=1;var e=bi(),t=Xt(),r=W,a=r.extend,i=r.isArray;function o(s,p,n){p=i(p)&&{coordDimensions:p}||a({},p);var h=s.getSource(),u=e(h,p),v=new t(u,s);return v.initData(h,n),v}return Su=o,Su}var bu,f0;function fg(){if(f0)return bu;f0=1;var e=W,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),o=this.get("selectedMode");o==="single"&&this._selectTargetMap.each(function(s){s.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return bu=t,bu}var wu,d0;function zn(){if(d0)return wu;d0=1;function e(r,a){this.getAllNames=function(){var i=a();return i.mapArray(i.getName)},this.containName=function(i){var o=a();return o.indexOfName(i)>=0},this.indexOfName=function(i){var o=r();return o.indexOfName(i)},this.getItemVisual=function(i,o){var s=r();return s.getItemVisual(i,o)}}var t=e;return wu=t,wu}var Au,g0;function _H(){if(g0)return Au;g0=1;var e=ye,t=Ai(),r=W,a=Ie,i=Re(),o=i.getPercentWithPrecision,s=fg(),p=ur,n=p.retrieveRawAttr,h=St,u=h.makeSeriesEncodeForNameBased,v=zn(),l=e.extendSeriesModel({type:"series.pie",init:function(d){l.superApply(this,"init",arguments),this.legendVisualProvider=new v(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(d)},mergeOption:function(d){l.superCall(this,"mergeOption",d),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(d,m){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(u,this)})},_createSelectableList:function(){for(var d=this.getRawData(),m=d.mapDimension("value"),c=[],g=0,y=d.count();g<y;g++)c.push({name:d.getName(g),value:d.get(m,g),selected:n(d,g,"selected")});return c},getDataParams:function(d){var m=this.getData(),c=l.superCall(this,"getDataParams",d),g=[];return m.each(m.mapDimension("value"),function(y){g.push(y)}),c.percent=o(g,d,m.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},_defaultLabelLine:function(d){a.defaultEmphasis(d,"labelLine",["show"]);var m=d.labelLine,c=d.emphasis.labelLine;m.show=m.show&&d.label.show,c.show=c.show&&d.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(l,s);var f=l;return Au=f,Au}var Tu,p0;function xH(){if(p0)return Tu;p0=1;var e=W,t=fe,r=Mr;function a(h,u,v,l){var f=u.getData(),d=this.dataIndex,m=f.getName(d),c=u.get("selectedOffset");l.dispatchAction({type:"pieToggleSelect",from:h,name:m,seriesId:u.id}),f.each(function(g){i(f.getItemGraphicEl(g),f.getItemLayout(g),u.isSelected(f.getName(g)),c,v)})}function i(h,u,v,l,f){var d=(u.startAngle+u.endAngle)/2,m=Math.cos(d),c=Math.sin(d),g=v?l:0,y=[m*g,c*g];f?h.animate().when(200,{position:y}).start("bounceOut"):h.attr("position",y)}function o(h,u){t.Group.call(this);var v=new t.Sector({z2:2}),l=new t.Polyline,f=new t.Text;this.add(v),this.add(l),this.add(f),this.updateData(h,u,!0)}var s=o.prototype;s.updateData=function(h,u,v){var l=this.childAt(0),f=this.childAt(1),d=this.childAt(2),m=h.hostModel,c=h.getItemModel(u),g=h.getItemLayout(u),y=e.extend({},g);y.label=null;var _=m.getShallow("animationTypeUpdate");if(v){l.setShape(y);var A=m.getShallow("animationType");A==="scale"?(l.shape.r=g.r0,t.initProps(l,{shape:{r:g.r}},m,u)):(l.shape.endAngle=g.startAngle,t.updateProps(l,{shape:{endAngle:g.endAngle}},m,u))}else _==="expansion"?l.setShape(y):t.updateProps(l,{shape:y},m,u);var b=h.getItemVisual(u,"color");l.useStyle(e.defaults({lineJoin:"bevel",fill:b},c.getModel("itemStyle").getItemStyle())),l.hoverStyle=c.getModel("emphasis.itemStyle").getItemStyle();var w=c.getShallow("cursor");w&&l.attr("cursor",w),i(this,h.getItemLayout(u),m.isSelected(h.getName(u)),m.get("selectedOffset"),m.get("animation"));var x=!v&&_==="transition";this._updateLabel(h,u,x),this.highDownOnUpdate=m.get("silent")?null:function(S,T){var C=m.isAnimationEnabled()&&c.get("hoverAnimation");T==="emphasis"?(f.ignore=f.hoverIgnore,d.ignore=d.hoverIgnore,C&&(l.stopAnimation(!0),l.animateTo({shape:{r:g.r+m.get("hoverOffset")}},300,"elasticOut"))):(f.ignore=f.normalIgnore,d.ignore=d.normalIgnore,C&&(l.stopAnimation(!0),l.animateTo({shape:{r:g.r}},300,"elasticOut")))},t.setHoverStyle(this)},s._updateLabel=function(h,u,v){var l=this.childAt(1),f=this.childAt(2),d=h.hostModel,m=h.getItemModel(u),c=h.getItemLayout(u),g=c.label,S=h.getItemVisual(u,"color");if(!g||isNaN(g.x)||isNaN(g.y)){f.ignore=f.normalIgnore=f.hoverIgnore=l.ignore=l.normalIgnore=l.hoverIgnore=!0;return}var y={points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]},_={x:g.x,y:g.y};v?(t.updateProps(l,{shape:y},d,u),t.updateProps(f,{style:_},d,u)):(l.attr({shape:y}),f.attr({style:_})),f.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var A=m.getModel("label"),b=m.getModel("emphasis.label"),w=m.getModel("labelLine"),x=m.getModel("emphasis.labelLine"),S=h.getItemVisual(u,"color");t.setLabelStyle(f.style,f.hoverStyle={},A,b,{labelFetcher:h.hostModel,labelDataIndex:u,defaultText:g.text,autoColor:S,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:h.getItemVisual(u,"opacity")}),f.ignore=f.normalIgnore=!A.get("show"),f.hoverIgnore=!b.get("show"),l.ignore=l.normalIgnore=!w.get("show"),l.hoverIgnore=!x.get("show"),l.setStyle({stroke:S,opacity:h.getItemVisual(u,"opacity")}),l.setStyle(w.getModel("lineStyle").getLineStyle()),l.hoverStyle=x.getModel("lineStyle").getLineStyle();var T=w.get("smooth");T&&T===!0&&(T=.4),l.setShape({smooth:T})},e.inherits(o,t.Group);var p=r.extend({type:"pie",init:function(){var h=new t.Group;this._sectorGroup=h},render:function(h,u,v,l){if(!(l&&l.from===this.uid)){var f=h.getData(),d=this._data,m=this.group,c=u.get("animation"),g=!d,y=h.get("animationType"),_=h.get("animationTypeUpdate"),A=e.curry(a,this.uid,h,c,v),b=h.get("selectedMode");if(f.diff(d).add(function(C){var M=new o(f,C);g&&y!=="scale"&&M.eachChild(function(D){D.stopAnimation(!0)}),b&&M.on("click",A),f.setItemGraphicEl(C,M),m.add(M)}).update(function(C,M){var D=d.getItemGraphicEl(M);!g&&_!=="transition"&&D.eachChild(function(L){L.stopAnimation(!0)}),D.updateData(f,C),D.off("click"),b&&D.on("click",A),m.add(D),f.setItemGraphicEl(C,D)}).remove(function(C){var M=d.getItemGraphicEl(C);m.remove(M)}).execute(),c&&f.count()>0&&(g?y!=="scale":_!=="transition")){for(var w=f.getItemLayout(0),x=1;isNaN(w.startAngle)&&x<f.count();++x)w=f.getItemLayout(x);var S=Math.max(v.getWidth(),v.getHeight())/2,T=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(w.cx,w.cy,S,w.startAngle,w.clockwise,T,h,g))}else m.removeClipPath();this._data=f}},dispose:function(){},_createClipPath:function(h,u,v,l,f,d,m,c){var g=new t.Sector({shape:{cx:h,cy:u,r0:0,r:v,startAngle:l,endAngle:l,clockwise:f}}),y=c?t.initProps:t.updateProps;return y(g,{shape:{endAngle:l+(f?1:-1)*Math.PI*2}},m,d),g},containPoint:function(h,u){var v=u.getData(),l=v.getItemLayout(0);if(l){var f=h[0]-l.cx,d=h[1]-l.cy,m=Math.sqrt(f*f+d*d);return m<=l.r&&m>=l.r0}}}),n=p;return Tu=n,Tu}var Cu,m0;function EM(){if(m0)return Cu;m0=1;var e=ye,t=W;function r(a,i){t.each(i,function(o){o.update="updateView",e.registerAction(o,function(s,p){var n={};return p.eachComponent({mainType:"series",subType:a,query:s},function(h){h[o.method]&&h[o.method](s.name,s.dataIndex);var u=h.getData();u.each(function(v){var l=u.getName(v);n[l]=h.isSelected(l)||!1})}),{name:s.name,selected:n,seriesId:s.seriesId}})})}return Cu=r,Cu}var Mu,y0;function As(){if(y0)return Mu;y0=1;var e=W,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var o={},s=t();return i.eachSeriesByType(a,function(p){p.__paletteScope=o,s.set(p.uid,p)}),s},reset:function(i,o){var s=i.getRawData(),p={},n=i.getData();n.each(function(h){var u=n.getRawIndex(h);p[u]=h}),s.each(function(h){var u=p[h],v=u!=null&&n.getItemVisual(u,"color",!0),l=u!=null&&n.getItemVisual(u,"borderColor",!0),f;if((!v||!l)&&(f=s.getItemModel(h)),!v){var d=f.get("itemStyle.color")||i.getColorFromPalette(s.getName(h)||h+"",i.__paletteScope,s.count());u!=null&&n.setItemVisual(u,"color",d)}if(!l){var m=f.get("itemStyle.borderColor");u!=null&&n.setItemVisual(u,"borderColor",m)}})}}}return Mu=r,Mu}var Du,_0;function SH(){if(_0)return Du;_0=1;var e=Ue,t=Re(),r=t.parsePercent,a=Math.PI/180;function i(n,h,u,v,l,f,d,m,c,g){n.sort(function(D,L){return D.y-L.y});function y(D,L,I,P){for(var E=D;E<L&&!(n[E].y+I>c+d);E++)if(n[E].y+=I,E>D&&E+1<L&&n[E+1].y>n[E].y+n[E].height){_(E,I/2);return}_(L-1,I/2)}function _(D,L){for(var I=D;I>=0&&!(n[I].y-L<c||(n[I].y-=L,I>0&&n[I].y>n[I-1].y+n[I-1].height));I--);}function A(D,L,I,P,E,O){for(var B=(O>0,L?Number.MAX_VALUE:0),q=0,V=D.length;q<V;q++)if(D[q].labelAlignTo==="none"){var R=Math.abs(D[q].y-P),z=D[q].len,k=D[q].len2,N=R<E+z?Math.sqrt((E+z+k)*(E+z+k)-R*R):Math.abs(D[q].x-I);L&&N>=B&&(N=B-10),!L&&N<=B&&(N=B+10),D[q].x=I+N*O,B=N}}for(var b=0,w,x=n.length,S=[],T=[],C=0;C<x;C++){if(n[C].position==="outer"&&n[C].labelAlignTo==="labelLine"){var M=n[C].x-g;n[C].linePoints[1][0]+=M,n[C].x=g}w=n[C].y-b,w<0&&y(C,x,-w),b=n[C].y+n[C].height}d-b<0&&_(x-1,b-d);for(var C=0;C<x;C++)n[C].y>=u?T.push(n[C]):S.push(n[C]);A(S,!1,h,u,v,l),A(T,!0,h,u,v,l)}function o(n,h,u,v,l,f,d,m){for(var c=[],g=[],y=Number.MAX_VALUE,_=-Number.MAX_VALUE,A=0;A<n.length;A++)s(n[A])||(n[A].x<h?(y=Math.min(y,n[A].x),c.push(n[A])):(_=Math.max(_,n[A].x),g.push(n[A])));i(g,h,u,v,1,l,f,d,m,_),i(c,h,u,v,-1,l,f,d,m,y);for(var A=0;A<n.length;A++){var b=n[A];if(!s(b)){var w=b.linePoints;if(w){var x=b.labelAlignTo==="edge",S=b.textRect.width,T;x?b.x<h?T=w[2][0]-b.labelDistance-d-b.labelMargin:T=d+l-b.labelMargin-w[2][0]-b.labelDistance:b.x<h?T=b.x-d-b.bleedMargin:T=d+l-b.x-b.bleedMargin,T<b.textRect.width&&(b.text=e.truncateText(b.text,T,b.font),b.labelAlignTo==="edge"&&(S=e.getWidth(b.text,b.font)));var C=w[1][0]-w[2][0];x?b.x<h?w[2][0]=d+b.labelMargin+S+b.labelDistance:w[2][0]=d+l-b.labelMargin-S-b.labelDistance:(b.x<h?w[2][0]=b.x+b.labelDistance:w[2][0]=b.x-b.labelDistance,w[1][0]=w[2][0]+C),w[1][1]=w[2][1]=b.y}}}}function s(n){return n.position==="center"}function p(n,h,u,v,l,f){var d=n.getData(),m=[],c,g,y=!1,_=(n.get("minShowLabelAngle")||0)*a;d.each(function(A){var b=d.getItemLayout(A),w=d.getItemModel(A),x=w.getModel("label"),S=x.get("position")||w.get("emphasis.label.position"),T=x.get("distanceToLabelLine"),C=x.get("alignTo"),M=r(x.get("margin"),u),D=x.get("bleedMargin"),L=x.getFont(),I=w.getModel("labelLine"),P=I.get("length");P=r(P,u);var E=I.get("length2");if(E=r(E,u),!(b.angle<_)){var O=(b.startAngle+b.endAngle)/2,B=Math.cos(O),q=Math.sin(O),V,R,z,k;c=b.cx,g=b.cy;var N=n.getFormattedLabel(A,"normal")||d.getName(A),G=e.getBoundingRect(N,L,k,"top"),H=S==="inside"||S==="inner";if(S==="center")V=b.cx,R=b.cy,k="center";else{var F=(H?(b.r+b.r0)/2*B:b.r*B)+c,$=(H?(b.r+b.r0)/2*q:b.r*q)+g;if(V=F+B*3,R=$+q*3,!H){var U=F+B*(P+h-b.r),K=$+q*(P+h-b.r),Q=U+(B<0?-1:1)*E,j=K;C==="edge"?V=B<0?l+M:l+u-M:V=Q+(B<0?-T:T),R=j,z=[[F,$],[U,K],[Q,j]]}k=H?"center":C==="edge"?B>0?"right":"left":B>0?"left":"right"}var ee,re=x.get("rotate");typeof re=="number"?ee=re*(Math.PI/180):ee=re?B<0?-O+Math.PI:-O:0,y=!!ee,b.label={x:V,y:R,position:S,height:G.height,len:P,len2:E,linePoints:z,textAlign:k,verticalAlign:"middle",rotation:ee,inside:H,labelDistance:T,labelAlignTo:C,labelMargin:M,bleedMargin:D,textRect:G,text:N,font:L},H||m.push(b.label)}}),!y&&n.get("avoidLabelOverlap")&&o(m,c,g,h,u,v,l,f)}return Du=p,Du}var Lu,x0;function bH(){if(x0)return Lu;x0=1;var e=Re(),t=e.parsePercent,r=e.linearMap,a=ze,i=SH(),o=W,s=Math.PI*2,p=Math.PI/180;function n(u,v){return a.getLayoutRect(u.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function h(u,v,l,f){v.eachSeriesByType(u,function(d){var m=d.getData(),c=m.mapDimension("value"),g=n(d,l),y=d.get("center"),_=d.get("radius");o.isArray(_)||(_=[0,_]),o.isArray(y)||(y=[y,y]);var A=t(g.width,l.getWidth()),b=t(g.height,l.getHeight()),w=Math.min(A,b),x=t(y[0],A)+g.x,S=t(y[1],b)+g.y,T=t(_[0],w/2),C=t(_[1],w/2),M=-d.get("startAngle")*p,D=d.get("minAngle")*p,L=0;m.each(c,function(G){!isNaN(G)&&L++});var I=m.getSum(c),P=Math.PI/(I||L)*2,E=d.get("clockwise"),O=d.get("roseType"),B=d.get("stillShowZeroSum"),q=m.getDataExtent(c);q[0]=0;var V=s,R=0,z=M,k=E?1:-1;if(m.each(c,function(G,H){var F;if(isNaN(G)){m.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:x,cy:S,r0:T,r:O?NaN:C,viewRect:g});return}O!=="area"?F=I===0&&B?P:G*P:F=s/L,F<D?(F=D,V-=D):R+=G;var $=z+k*F;m.setItemLayout(H,{angle:F,startAngle:z,endAngle:$,clockwise:E,cx:x,cy:S,r0:T,r:O?r(G,q,[T,C]):C,viewRect:g}),z=$}),V<s&&L)if(V<=.001){var N=s/L;m.each(c,function(G,H){if(!isNaN(G)){var F=m.getItemLayout(H);F.angle=N,F.startAngle=M+k*H*N,F.endAngle=M+k*(H+1)*N}})}else P=V/R,z=M,m.each(c,function(G,H){if(!isNaN(G)){var F=m.getItemLayout(H),$=F.angle===D?D:G*P;F.startAngle=z,F.endAngle=z+k*$,z+=k*$}});i(d,C,g.width,g.height,g.x,g.y)})}return Lu=h,Lu}var Iu,S0;function Bn(){if(S0)return Iu;S0=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var o=r.getData();o.filterSelf(function(s){for(var p=o.getName(s),n=0;n<i.length;n++)if(!i[n].isSelected(p))return!1;return!0})}}}}return Iu=e,Iu}var b0;function wH(){if(b0)return h0;b0=1;var e=ye,t=W;_H(),xH();var r=EM(),a=As(),i=bH(),o=Bn();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(o("pie")),h0}var w0={},Pu,A0;function AH(){if(A0)return Pu;A0=1;var e=qr(),t=ft,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return Pu=r,Pu}var T0={},Ru,C0;function TH(){if(C0)return Ru;C0=1;var e=fe,t=Kt(),r=t.createSymbol,a=Fd,i=4,o=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(h,u){var v=u.points,l=u.size,f=this.symbolProxy,d=f.shape,m=h.getContext?h.getContext():h,c=m&&l[0]<i;if(!c)for(var g=0;g<v.length;){var y=v[g++],_=v[g++];isNaN(y)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(y,_)||(d.x=y-l[0]/2,d.y=_-l[1]/2,d.width=l[0],d.height=l[1],f.buildPath(h,d,!0))}},afterBrush:function(h){var u=this.shape,v=u.points,l=u.size,f=l[0]<i;if(f){this.setTransform(h);for(var d=0;d<v.length;){var m=v[d++],c=v[d++];isNaN(m)||isNaN(c)||this.softClipShape&&!this.softClipShape.contain(m,c)||h.fillRect(m-l[0]/2,c-l[1]/2,l[0],l[1])}this.restoreTransform(h)}},findDataIndex:function(h,u){for(var v=this.shape,l=v.points,f=v.size,d=Math.max(f[0],4),m=Math.max(f[1],4),c=l.length/2-1;c>=0;c--){var g=c*2,y=l[g]-d/2,_=l[g+1]-m/2;if(h>=y&&u>=_&&h<=y+d&&u<=_+m)return c}return-1}});function s(){this.group=new e.Group}var p=s.prototype;p.isPersistent=function(){return!this._incremental},p.updateData=function(h,u){this.group.removeAll();var v=new o({rectHover:!0,cursor:"default"});v.setShape({points:h.getLayout("symbolPoints")}),this._setCommon(v,h,!1,u),this.group.add(v),this._incremental=null},p.updateLayout=function(h){if(!this._incremental){var u=h.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var l=(v.endIndex-v.startIndex)*2,f=v.startIndex*4*2;u=new Float32Array(u.buffer,f,l)}v.setShape("points",u)})}},p.incrementalPrepareUpdate=function(h){this.group.removeAll(),this._clearIncremental(),h.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},p.incrementalUpdate=function(h,u,v){var l;this._incremental?(l=new o,this._incremental.addDisplayable(l,!0)):(l=new o({rectHover:!0,cursor:"default",startIndex:h.start,endIndex:h.end}),l.incremental=!0,this.group.add(l)),l.setShape({points:u.getLayout("symbolPoints")}),this._setCommon(l,u,!!this._incremental,v)},p._setCommon=function(h,u,v,l){var f=u.hostModel;l=l||{};var d=u.getVisual("symbolSize");h.setShape("size",d instanceof Array?d:[d,d]),h.softClipShape=l.clipShape||null,h.symbolProxy=r(u.getVisual("symbol"),0,0,0,0),h.setColor=h.symbolProxy.setColor;var m=h.shape.size[0]<i;h.useStyle(f.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var c=u.getVisual("color");c&&h.setColor(c),v||(h.seriesIndex=f.seriesIndex,h.on("mousemove",function(g){h.dataIndex=null;var y=h.findDataIndex(g.offsetX,g.offsetY);y>=0&&(h.dataIndex=y+(h.startIndex||0))}))},p.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},p._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};var n=s;return Ru=n,Ru}var M0;function CH(){if(M0)return T0;M0=1;var e=ye,t=Rn(),r=TH(),a=kn();return e.extendChartView({type:"scatter",render:function(i,o,s){var p=i.getData(),n=this._updateSymbolDraw(p,i);n.updateData(p,{clipShape:this._getClipShape(i)}),this._finished=!0},incrementalPrepareRender:function(i,o,s){var p=i.getData(),n=this._updateSymbolDraw(p,i);n.incrementalPrepareUpdate(p),this._finished=!1},incrementalRender:function(i,o,s){this._symbolDraw.incrementalUpdate(i,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=i.end===o.getData().count()},updateTransform:function(i,o,s){var p=i.getData();if(this.group.dirty(),!this._finished||p.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var n=a().reset(i);n.progress&&n.progress({start:0,end:p.count()},p),this._symbolDraw.updateLayout(p)},_getClipShape:function(i){var o=i.coordinateSystem,s=o&&o.getArea&&o.getArea();return i.get("clip",!0)?s:null},_updateSymbolDraw:function(i,o){var s=this._symbolDraw,p=o.pipelineContext,n=p.large;return(!s||n!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=n?new r:new t,this._isLargeDraw=n,this.group.removeAll()),this.group.add(s.group),s},remove:function(i,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),T0}var D0;function MH(){if(D0)return w0;D0=1;var e=ye;AH(),CH();var t=Ia(),r=kn();return On(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),w0}var L0={},I0={},Eu,P0;function DH(){if(P0)return Eu;P0=1;var e=W,t=sa();function r(i,o,s){t.call(this,i,o,s),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return Eu=a,Eu}var ku,R0;function LH(){if(R0)return ku;R0=1;var e=W,t=DH(),r=_s(),a=Re(),i=hr(),o=i.getScaleExtent,s=i.niceScaleExtent,p=Cr,n=xM();function h(v,l,f){this._model=v,this.dimensions=[],this._indicatorAxes=e.map(v.getIndicatorModels(),function(d,m){var c="indicator_"+m,g=new t(c,d.get("axisType")==="log"?new n:new r);return g.name=d.get("name"),g.model=d,d.axis=g,this.dimensions.push(c),g},this),this.resize(v,f),this.cx,this.cy,this.r,this.r0,this.startAngle}h.prototype.getIndicatorAxes=function(){return this._indicatorAxes},h.prototype.dataToPoint=function(v,l){var f=this._indicatorAxes[l];return this.coordToPoint(f.dataToCoord(v),l)},h.prototype.coordToPoint=function(v,l){var f=this._indicatorAxes[l],d=f.angle,m=this.cx+v*Math.cos(d),c=this.cy-v*Math.sin(d);return[m,c]},h.prototype.pointToData=function(v){var l=v[0]-this.cx,f=v[1]-this.cy,d=Math.sqrt(l*l+f*f);l/=d,f/=d;for(var m=Math.atan2(-f,l),c=1/0,g,y=-1,_=0;_<this._indicatorAxes.length;_++){var A=this._indicatorAxes[_],b=Math.abs(m-A.angle);b<c&&(g=A,y=_,c=b)}return[y,+(g&&g.coordToData(d))]},h.prototype.resize=function(v,l){var f=v.get("center"),d=l.getWidth(),m=l.getHeight(),c=Math.min(d,m)/2;this.cx=a.parsePercent(f[0],d),this.cy=a.parsePercent(f[1],m),this.startAngle=v.get("startAngle")*Math.PI/180;var g=v.get("radius");(typeof g=="string"||typeof g=="number")&&(g=[0,g]),this.r0=a.parsePercent(g[0],c),this.r=a.parsePercent(g[1],c),e.each(this._indicatorAxes,function(y,_){y.setExtent(this.r0,this.r);var A=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;A=Math.atan2(Math.sin(A),Math.cos(A)),y.angle=A},this)},h.prototype.update=function(v,l){var f=this._indicatorAxes,d=this._model;e.each(f,function(g){g.scale.setExtent(1/0,-1/0)}),v.eachSeriesByType("radar",function(g,y){if(!(g.get("coordinateSystem")!=="radar"||v.getComponent("radar",g.get("radarIndex"))!==d)){var _=g.getData();e.each(f,function(A){A.scale.unionExtentFromData(_,_.mapDimension(A.dim))})}},this);var m=d.get("splitNumber");function c(g){var y=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),_=g/y;return _===2?_=5:_*=2,_*y}e.each(f,function(g,y){var _=o(g.scale,g.model).extent;s(g.scale,g.model);var A=g.model,b=g.scale,w=A.getMin(),x=A.getMax(),S=b.getInterval();if(w!=null&&x!=null)b.setExtent(+w,+x),b.setInterval((x-w)/m);else if(w!=null){var T;do T=w+S*m,b.setExtent(+w,T),b.setInterval(S),S=c(S);while(T<_[1]&&isFinite(T)&&isFinite(_[1]))}else if(x!=null){var C;do C=x-S*m,b.setExtent(C,+x),b.setInterval(S),S=c(S);while(C>_[0]&&isFinite(C)&&isFinite(_[0]))}else{var M=b.getTicks().length-1;M>m&&(S=c(S));var T=Math.ceil(_[1]/S)*S,C=a.round(T-S*m);b.setExtent(C,T),b.setInterval(S)}})},h.dimensions=[],h.create=function(v,l){var f=[];return v.eachComponent("radar",function(d){var m=new h(d,v,l);f.push(m),d.coordinateSystem=m}),v.eachSeriesByType("radar",function(d){d.get("coordinateSystem")==="radar"&&(d.coordinateSystem=f[d.get("radarIndex")||0])}),f},p.register("radar",h);var u=h;return ku=u,ku}var Ou,E0;function IH(){if(E0)return Ou;E0=1;var e=ye,t=W,r=MM(),a=ot(),i=wi(),o=r.valueAxis;function s(h,u){return t.defaults({show:u},h)}var p=e.extendComponentModel({type:"radar",optionUpdated:function(){var h=this.get("boundaryGap"),u=this.get("splitNumber"),v=this.get("scale"),l=this.get("axisLine"),f=this.get("axisTick"),d=this.get("axisType"),m=this.get("axisLabel"),c=this.get("name"),g=this.get("name.show"),y=this.get("name.formatter"),_=this.get("nameGap"),A=this.get("triggerEvent"),b=t.map(this.get("indicator")||[],function(w){w.max!=null&&w.max>0&&!w.min?w.min=0:w.min!=null&&w.min<0&&!w.max&&(w.max=0);var x=c;if(w.color!=null&&(x=t.defaults({color:w.color},c)),w=t.merge(t.clone(w),{boundaryGap:h,splitNumber:u,scale:v,axisLine:l,axisTick:f,axisType:d,axisLabel:m,name:w.text,nameLocation:"end",nameGap:_,nameTextStyle:x,triggerEvent:A},!1),g||(w.name=""),typeof y=="string"){var S=w.name;w.name=y.replace("{value}",S??"")}else typeof y=="function"&&(w.name=y(w.name,w));var T=t.extend(new a(w,null,this.ecModel),i);return T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this.getIndicatorModels=function(){return b}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:s(o.axisLabel,!1),axisTick:s(o.axisTick,!1),axisType:"interval",splitLine:s(o.splitLine,!0),splitArea:s(o.splitArea,!0),indicator:[]}}),n=p;return Ou=n,Ou}var zu,k0;function PH(){if(k0)return zu;k0=1;var e=ye,t=W,r=la(),a=fe,i=["axisLine","axisTickLabel","axisName"],o=e.extendComponentView({type:"radar",render:function(s,p,n){var h=this.group;h.removeAll(),this._buildAxes(s),this._buildSplitLineAndArea(s)},_buildAxes:function(s){var p=s.coordinateSystem,n=p.getIndicatorAxes(),h=t.map(n,function(u){var v=new r(u.model,{position:[p.cx,p.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});t.each(h,function(u){t.each(i,u.add,u),this.group.add(u.getGroup())},this)},_buildSplitLineAndArea:function(s){var p=s.coordinateSystem,n=p.getIndicatorAxes();if(!n.length)return;var h=s.get("shape"),u=s.getModel("splitLine"),v=s.getModel("splitArea"),l=u.getModel("lineStyle"),f=v.getModel("areaStyle"),d=u.get("show"),m=v.get("show"),c=l.get("color"),g=f.get("color");c=t.isArray(c)?c:[c],g=t.isArray(g)?g:[g];var y=[],_=[];function A(O,B,q){var V=q%B.length;return O[V]=O[V]||[],V}if(h==="circle")for(var b=n[0].getTicksCoords(),w=p.cx,x=p.cy,S=0;S<b.length;S++){if(d){var T=A(y,c,S);y[T].push(new a.Circle({shape:{cx:w,cy:x,r:b[S].coord}}))}if(m&&S<b.length-1){var T=A(_,g,S);_[T].push(new a.Ring({shape:{cx:w,cy:x,r0:b[S].coord,r:b[S+1].coord}}))}}else for(var C,M=t.map(n,function(O,B){var q=O.getTicksCoords();return C=C==null?q.length-1:Math.min(q.length-1,C),t.map(q,function(V){return p.coordToPoint(V.coord,B)})}),D=[],S=0;S<=C;S++){for(var L=[],I=0;I<n.length;I++)L.push(M[I][S]);if(L[0]&&L.push(L[0].slice()),d){var T=A(y,c,S);y[T].push(new a.Polyline({shape:{points:L}}))}if(m&&D){var T=A(_,g,S-1);_[T].push(new a.Polygon({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var P=l.getLineStyle(),E=f.getAreaStyle();t.each(_,function(O,B){this.group.add(a.mergePath(O,{style:t.defaults({stroke:"none",fill:g[B%g.length]},E),silent:!0}))},this),t.each(y,function(O,B){this.group.add(a.mergePath(O,{style:t.defaults({fill:"none",stroke:c[B%c.length]},P),silent:!0}))},this)}});return zu=o,zu}var O0;function RH(){return O0||(O0=1,LH(),IH(),PH()),I0}var Bu,z0;function EH(){if(z0)return Bu;z0=1;var e=ft,t=Ai(),r=W,a=Ge(),i=a.encodeHTML,o=zn(),s=e.extend({type:"series.radar",dependencies:["radar"],init:function(n){s.superApply(this,"init",arguments),this.legendVisualProvider=new o(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(n,h){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(n,h,u,v){var l=this.getData(),f=this.coordinateSystem,d=f.getIndicatorAxes(),m=this.getData().getName(n),c=v==="html"?"<br/>":`
`;return i(m===""?this.name:m)+c+r.map(d,function(g,y){var _=l.get(l.mapDimension(g.dim),n);return i(g.name+" : "+_)}).join(c)},getTooltipPosition:function(n){if(n!=null){for(var h=this.getData(),u=this.coordinateSystem,v=h.getValues(r.map(u.dimensions,function(m){return h.mapDimension(m)}),n,!0),l=0,f=v.length;l<f;l++)if(!isNaN(v[l])){var d=u.getIndicatorAxes();return u.coordToPoint(d[l].dataToCoord(v[l]),l)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),p=s;return Bu=p,Bu}var Nu,B0;function kH(){if(B0)return Nu;B0=1;var e=ye,t=fe,r=W,a=Kt();function i(s){return r.isArray(s)||(s=[+s,+s]),s}var o=e.extendChartView({type:"radar",render:function(s,p,n){var h=s.coordinateSystem,u=this.group,v=s.getData(),l=this._data;function f(c,g){var y=c.getItemVisual(g,"symbol")||"circle",_=c.getItemVisual(g,"color");if(y!=="none"){var A=i(c.getItemVisual(g,"symbolSize")),b=a.createSymbol(y,-1,-1,2,2,_),w=c.getItemVisual(g,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scale:[A[0]/2,A[1]/2],rotation:w*Math.PI/180||0}),b}}function d(c,g,y,_,A,b){y.removeAll();for(var w=0;w<g.length-1;w++){var x=f(_,A);x&&(x.__dimIdx=w,c[w]?(x.attr("position",c[w]),t[b?"initProps":"updateProps"](x,{position:g[w]},s,A)):x.attr("position",g[w]),y.add(x))}}function m(c){return r.map(c,function(g){return[h.cx,h.cy]})}v.diff(l).add(function(c){var g=v.getItemLayout(c);if(g){var y=new t.Polygon,_=new t.Polyline,A={shape:{points:g}};y.shape.points=m(g),_.shape.points=m(g),t.initProps(y,A,s,c),t.initProps(_,A,s,c);var b=new t.Group,w=new t.Group;b.add(_),b.add(y),b.add(w),d(_.shape.points,g,w,v,c,!0),v.setItemGraphicEl(c,b)}}).update(function(c,g){var y=l.getItemGraphicEl(g),_=y.childAt(0),A=y.childAt(1),b=y.childAt(2),w={shape:{points:v.getItemLayout(c)}};w.shape.points&&(d(_.shape.points,w.shape.points,b,v,c,!1),t.updateProps(_,w,s),t.updateProps(A,w,s),v.setItemGraphicEl(c,y))}).remove(function(c){u.remove(l.getItemGraphicEl(c))}).execute(),v.eachItemGraphicEl(function(c,g){var y=v.getItemModel(g),_=c.childAt(0),A=c.childAt(1),b=c.childAt(2),w=v.getItemVisual(g,"color");u.add(c),_.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:w})),_.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var x=y.getModel("areaStyle"),S=y.getModel("emphasis.areaStyle"),T=x.isEmpty()&&x.parentModel.isEmpty(),C=S.isEmpty()&&S.parentModel.isEmpty();C=C&&T,A.ignore=T,A.useStyle(r.defaults(x.getAreaStyle(),{fill:w,opacity:.7})),A.hoverStyle=S.getAreaStyle();var M=y.getModel("itemStyle").getItemStyle(["color"]),D=y.getModel("emphasis.itemStyle").getItemStyle(),L=y.getModel("label"),I=y.getModel("emphasis.label");b.eachChild(function(P){P.setStyle(M),P.hoverStyle=r.clone(D);var E=v.get(v.dimensions[P.__dimIdx],g);(E==null||isNaN(E))&&(E=""),t.setLabelStyle(P.style,P.hoverStyle,L,I,{labelFetcher:v.hostModel,labelDataIndex:g,labelDimIndex:P.__dimIdx,defaultText:E,autoColor:w,isRectText:!0})}),c.highDownOnUpdate=function(P,E){A.attr("ignore",E==="emphasis"?C:T)},t.setHoverStyle(c)}),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return Nu=o,Nu}var Vu,N0;function OH(){if(N0)return Vu;N0=1;var e=W;function t(i){i.eachSeriesByType("radar",function(o){var s=o.getData(),p=[],n=o.coordinateSystem;if(n){var h=n.getIndicatorAxes();e.each(h,function(u,v){s.each(s.mapDimension(h[v].dim),function(l,f){p[f]=p[f]||[];var d=n.dataToPoint(l,v);p[f][v]=r(d)?d:a(n)})}),s.each(function(u){var v=e.find(p[u],function(l){return r(l)})||a(n);p[u].push(v.slice()),s.setItemLayout(u,p[u])})}})}function r(i){return!isNaN(i[0])&&!isNaN(i[1])}function a(i){return[i.cx,i.cy]}return Vu=t,Vu}var Hu,V0;function zH(){if(V0)return Hu;V0=1;var e=W;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(o,s){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(o)):i.push(o)}),r.polar=i}e.each(r.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}return Hu=t,Hu}var H0;function BH(){if(H0)return L0;H0=1;var e=ye;RH(),EH(),kH();var t=As(),r=Ia(),a=OH(),i=Bn(),o=zH();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(o),L0}var q0={},qu,G0;function NH(){if(G0)return qu;G0=1;for(var e=W,t=bM(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)a[i][o][0]/=10.5,a[i][o][1]/=-10.5/.75,a[i][o][0]+=r[0],a[i][o][1]+=r[1];function s(p,n){p==="china"&&n.push(new t("南海诸岛",e.map(a,function(h){return{type:"polygon",exterior:h}}),r))}return qu=s,qu}var Gu,F0;function VH(){if(F0)return Gu;F0=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,a){if(r==="china"){var i=e[a.name];if(i){var o=a.center;o[0]+=i[0]/10.5,o[1]+=-i[1]/(10.5/.75)}}}return Gu=t,Gu}var Fu,$0;function HH(){if($0)return Fu;$0=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,a){if(r==="world"){var i=e[a.name];if(i){var o=a.center;o[0]=i[0],o[1]=i[1]}}}return Fu=t,Fu}var $u,U0;function qH(){if(U0)return $u;U0=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,a){r==="china"&&a.name==="台湾"&&a.geometries.push({type:"polygon",exterior:e[0]})}return $u=t,$u}var Uu,W0;function GH(){if(W0)return Uu;W0=1;var e=W,t=e.each,r=wM(),a=Ie,i=a.makeInner,o=NH(),s=VH(),p=HH(),n=qH(),h=i(),u={load:function(l,f,d){var m=h(f).parsed;if(m)return m;var c=f.specialAreas||{},g=f.geoJSON,y;try{y=g?r(g,d):[]}catch(_){throw new Error(`Invalid geoJson format
`+_.message)}return o(l,y),t(y,function(_){var A=_.name;s(l,_),p(l,_),n(l,_);var b=c[A];b&&_.transformTo(b.left,b.top,b.width,b.height)}),h(f).parsed={regions:y,boundingRect:v(y)}}};function v(l){for(var f,d=0;d<l.length;d++){var m=l[d].getBoundingRect();f=f||m.clone(),f.union(m)}return f}return Uu=u,Uu}var Wu,Z0;function FH(){if(Z0)return Wu;Z0=1;var e=Dn,t=e.parseSVG,r=e.makeViewBoxTransform,a=Ta,i=qd,o=W,s=o.assert,p=o.createHashMap,n=Ke,h=Ie,u=h.makeInner,v=u(),l={load:function(d,m){var c=v(m).originRoot;if(c)return{root:c,boundingRect:v(m).boundingRect};var g=f(m);return v(m).originRoot=g.root,v(m).boundingRect=g.boundingRect,g},makeGraphic:function(d,m,c){var g=v(m),y=g.rootMap||(g.rootMap=p()),_=y.get(c);if(_)return _;var A=g.originRoot,b=g.boundingRect;return g.originRootHostKey?_=f(m,b).root:(g.originRootHostKey=c,_=A),y.set(c,_)},removeGraphic:function(d,m,c){var g=v(m),y=g.rootMap;y&&y.removeKey(c),c===g.originRootHostKey&&(g.originRootHostKey=null)}};function f(d,m){var c=d.svgXML,g,y;try{g=c&&t(c,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=g.root,s(y!=null)}catch(S){throw new Error(`Invalid svg format
`+S.message)}var _=g.width,A=g.height,b=g.viewBoxRect;if(m||(m=_==null||A==null?y.getBoundingRect():new n(0,0,0,0),_!=null&&(m.width=_),A!=null&&(m.height=A)),b){var w=r(b,m.width,m.height),x=y;y=new a,y.add(x),x.scale=w.scale,x.position=w.position}return y.setClipPath(new i({shape:m.plain()})),{root:y,boundingRect:m}}return Wu=l,Wu}var Zu,Y0;function Ts(){if(Y0)return Zu;Y0=1;var e=W,t=e.each,r=e.createHashMap,a=vg,i=GH(),o=FH(),s=Ke,p={geoJSON:i,svg:o},n={load:function(v,l,f){var d=[],m=r(),c=r(),g,y=u(v);return t(y,function(_){var A=p[_.type].load(v,_,f);t(A.regions,function(w){var x=w.name;l&&l.hasOwnProperty(x)&&(w=w.cloneShallow(x=l[x])),d.push(w),m.set(x,w),c.set(x,w.center)});var b=A.boundingRect;b&&(g?g.union(b):g=b.clone())}),{regions:d,regionsMap:m,nameCoordMap:c,boundingRect:g||new s(0,0,0,0)}},makeGraphic:h("makeGraphic"),removeGraphic:h("removeGraphic")};function h(v){return function(l,f){var d=u(l),m=[];return t(d,function(c){var g=p[c.type][v];g&&m.push(g(l,c,f))}),m}}function u(v){var l=a.retrieveMap(v)||[];return l}return Zu=n,Zu}var Yu,X0;function $H(){if(X0)return Yu;X0=1;var e=W,t=Ai(),r=ft,a=Ge(),i=a.encodeHTML,o=a.addCommas,s=fg(),p=ur,n=p.retrieveRawAttr,h=Ts(),u=St,v=u.makeSeriesEncodeForNameBased,l=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(d){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(v,this)}),c=m.mapDimension("value"),g=e.createHashMap(),y=[],_=[],A=0,b=m.count();A<b;A++){var w=m.getName(A);g.set(w,!0),y.push({name:w,value:m.get(c,A),selected:n(m,A,"selected")})}var x=h.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return e.each(x.regions,function(S){var T=S.name;g.get(T)||(y.push({name:T}),_.push(T))}),this.updateSelectedMap(y),m.appendValues([],_),m},getHostGeoModel:function(){var d=this.option.geoIndex;return d!=null?this.dependentModels.geo[d]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(d){var m=this.getData();return m.get(m.mapDimension("value"),d)},getRegionModel:function(d){var m=this.getData();return m.getItemModel(m.indexOfName(d))},formatTooltip:function(d,m,c,g){for(var y=this.getData(),_=o(this.getRawValue(d)),A=y.getName(d),b=this.seriesGroup,w=[],x=0;x<b.length;x++){var S=b[x].originalData.indexOfName(A),T=y.mapDimension("value");isNaN(b[x].originalData.get(T,S))||w.push(i(b[x].name))}var C=g==="html"?"<br/>":`
`;return w.join(", ")+C+i(A+" : "+_)},getTooltipPosition:function(d){if(d!=null){var m=this.getData().getName(d),c=this.coordinateSystem,g=c.getRegion(m);return g&&c.dataToPoint(g.center)}},setZoom:function(d){this.option.zoom=d},setCenter:function(d){this.option.center=d},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});e.mixin(l,s);var f=l;return Yu=f,Yu}var Fi={},K0;function kM(){if(K0)return Fi;K0=1;var e=ye,t="\0_ec_interaction_mutex";function r(s,p,n){var h=o(s);h[p]=n}function a(s,p,n){var h=o(s),u=h[p];u===n&&(h[p]=null)}function i(s,p){return!!o(s)[p]}function o(s){return s[t]||(s[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Fi.take=r,Fi.release=a,Fi.isTaken=i,Fi}var Xu,Q0;function Nn(){if(Q0)return Xu;Q0=1;var e=W,t=Aa,r=ht,a=kM();function i(d){this.pointerChecker,this._zr=d,this._opt={};var m=e.bind,c=m(o,this),g=m(s,this),y=m(p,this),_=m(n,this),A=m(h,this);t.call(this),this.setPointerChecker=function(b){this.pointerChecker=b},this.enable=function(b,w){this.disable(),this._opt=e.defaults(e.clone(w)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),b==null&&(b=!0),(b===!0||b==="move"||b==="pan")&&(d.on("mousedown",c),d.on("mousemove",g),d.on("mouseup",y)),(b===!0||b==="scale"||b==="zoom")&&(d.on("mousewheel",_),d.on("pinch",A))},this.disable=function(){d.off("mousedown",c),d.off("mousemove",g),d.off("mouseup",y),d.off("mousewheel",_),d.off("pinch",A)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function o(d){if(!(r.isMiddleOrRightButtonOnMouseUpDown(d)||d.target&&d.target.draggable)){var m=d.offsetX,c=d.offsetY;this.pointerChecker&&this.pointerChecker(d,m,c)&&(this._x=m,this._y=c,this._dragging=!0)}}function s(d){if(!(!this._dragging||!l("moveOnMouseMove",d,this._opt)||d.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var m=d.offsetX,c=d.offsetY,g=this._x,y=this._y,_=m-g,A=c-y;this._x=m,this._y=c,this._opt.preventDefaultMouseMove&&r.stop(d.event),v(this,"pan","moveOnMouseMove",d,{dx:_,dy:A,oldX:g,oldY:y,newX:m,newY:c})}}function p(d){r.isMiddleOrRightButtonOnMouseUpDown(d)||(this._dragging=!1)}function n(d){var m=l("zoomOnMouseWheel",d,this._opt),c=l("moveOnMouseWheel",d,this._opt),g=d.wheelDelta,y=Math.abs(g),_=d.offsetX,A=d.offsetY;if(!(g===0||!m&&!c)){if(m){var b=y>3?1.4:y>1?1.2:1.1,w=g>0?b:1/b;u(this,"zoom","zoomOnMouseWheel",d,{scale:w,originX:_,originY:A})}if(c){var x=Math.abs(g),S=(g>0?1:-1)*(x>3?.4:x>1?.15:.05);u(this,"scrollMove","moveOnMouseWheel",d,{scrollDelta:S,originX:_,originY:A})}}}function h(d){if(!a.isTaken(this._zr,"globalPan")){var m=d.pinchScale>1?1.1:1/1.1;u(this,"zoom",null,d,{scale:m,originX:d.pinchX,originY:d.pinchY})}}function u(d,m,c,g,y){d.pointerChecker&&d.pointerChecker(g,y.originX,y.originY)&&(r.stop(g.event),v(d,m,c,g,y))}function v(d,m,c,g,y){y.isAvailableBehavior=e.bind(l,null,c,g),d.trigger(m,y)}function l(d,m,c){var g=c[d];return!d||g&&(!e.isString(g)||m.event[g+"Key"])}var f=i;return Xu=f,Xu}var po={},j0;function dg(){if(j0)return po;j0=1;function e(r,a,i){var o=r.target,s=o.position;s[0]+=a,s[1]+=i,o.dirty()}function t(r,a,i,o){var s=r.target,p=r.zoomLimit,n=s.position,h=s.scale,u=r.zoom=r.zoom||1;if(u*=a,p){var v=p.min||0,l=p.max||1/0;u=Math.max(Math.min(l,u),v)}var f=u/r.zoom;r.zoom=u,n[0]-=(i-n[0])*(f-1),n[1]-=(o-n[1])*(f-1),h[0]*=f,h[1]*=f,s.dirty()}return po.updateViewOnPan=e,po.updateViewOnZoom=t,po}var Ku={},J0;function Cs(){if(J0)return Ku;J0=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var o=a.getComponentByElement(r.topTarget),s=o&&o.coordinateSystem;return o&&o!==i&&!e[o.mainType]&&s&&s.model!==i}return Ku.onIrrelevantElement=t,Ku}var Qu,e_;function OM(){if(e_)return Qu;e_=1;var e=W,t=Nn(),r=dg(),a=Cs(),i=a.onIrrelevantElement,o=fe,s=Ts(),p=ia,n=p.getUID,h=is;function u(m){var c=m.getItemStyle(),g=m.get("areaColor");return g!=null&&(c.fill=g),c}function v(m,c,g,y,_){g.off("click"),g.off("mousedown"),c.get("selectedMode")&&(g.on("mousedown",function(){m._mouseDownFlag=!0}),g.on("click",function(A){if(m._mouseDownFlag){m._mouseDownFlag=!1;for(var b=A.target;!b.__regions;)b=b.parent;if(b){var w={type:(c.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(b.__regions,function(x){return{name:x.name,from:_.uid}})};w[c.mainType+"Id"]=c.id,y.dispatchAction(w),l(c,g)}}}))}function l(m,c){c.eachChild(function(g){e.each(g.__regions,function(y){g.trigger(m.isSelected(y.name)?"emphasis":"normal")})})}function f(m,c){var g=new o.Group;this.uid=n("ec_map_draw"),this._controller=new t(m.getZr()),this._controllerHost={target:c?g:null},this.group=g,this._updateGroup=c,this._mouseDownFlag,this._mapName,this._initialized,g.add(this._regionsGroup=new o.Group),g.add(this._backgroundGroup=new o.Group)}f.prototype={constructor:f,draw:function(m,c,g,y,_){var A=m.mainType==="geo",b=m.getData&&m.getData();A&&c.eachComponent({mainType:"series",subType:"map"},function(R){!b&&R.getHostGeoModel()===m&&(b=R.getData())});var w=m.coordinateSystem;this._updateBackground(w);var x=this._regionsGroup,S=this.group,T=w.getTransformInfo(),C=!x.childAt(0)||_,M;if(C)S.transform=T.roamTransform,S.decomposeTransform(),S.dirty();else{var D=new h;D.transform=T.roamTransform,D.decomposeTransform();var L={scale:D.scale,position:D.position};M=D.scale,o.updateProps(S,L,m)}var I=T.rawScale,P=T.rawPosition;x.removeAll();var E=["itemStyle"],O=["emphasis","itemStyle"],B=["label"],q=["emphasis","label"],V=e.createHashMap();e.each(w.regions,function(R){var z=V.get(R.name)||V.set(R.name,new o.Group),k=new o.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});z.add(k);var N=m.getRegionModel(R.name)||m,G=N.getModel(E),H=N.getModel(O),F=u(G),$=u(H),U=N.getModel(B),K=N.getModel(q),Q;if(b){Q=b.indexOfName(R.name);var j=b.getItemVisual(Q,"color",!0);j&&(F.fill=j)}var ee=function(de){return[de[0]*I[0]+P[0],de[1]*I[1]+P[1]]};e.each(R.geometries,function(de){if(de.type==="polygon"){for(var Z=[],X=0;X<de.exterior.length;++X)Z.push(ee(de.exterior[X]));k.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}));for(var X=0;X<(de.interiors?de.interiors.length:0);++X){for(var J=de.interiors[X],Z=[],ue=0;ue<J.length;++ue)Z.push(ee(J[ue]));k.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}))}}}),k.setStyle(F),k.style.strokeNoScale=!0,k.culling=!0;var re=U.get("show"),te=K.get("show"),oe=b&&isNaN(b.get(b.mapDimension("value"),Q)),xe=b&&b.getItemLayout(Q);if(A||oe&&(re||te)||xe&&xe.showLabel){var se=A?R.name:Q,ge;(!b||Q>=0)&&(ge=m);var we=new o.Text({position:ee(R.center.slice()),scale:[1/S.scale[0],1/S.scale[1]],z2:10,silent:!0});if(o.setLabelStyle(we.style,we.hoverStyle={},U,K,{labelFetcher:ge,labelDataIndex:se,defaultText:R.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!C){var ie=[1/M[0],1/M[1]];o.updateProps(we,{scale:ie},m)}z.add(we)}if(b)b.setItemGraphicEl(Q,z);else{var N=m.getRegionModel(R.name);k.eventData={componentType:"geo",componentIndex:m.componentIndex,geoIndex:m.componentIndex,name:R.name,region:N&&N.option||{}}}var ne=z.__regions||(z.__regions=[]);ne.push(R),z.highDownSilentOnTouch=!!m.get("selectedMode"),o.setHoverStyle(z,$),x.add(z)}),this._updateController(m,c,g),v(this,m,x,g,y),l(m,x)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&s.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(m){var c=m.map;this._mapName!==c&&e.each(s.makeGraphic(c,this.uid),function(g){this._backgroundGroup.add(g)},this),this._mapName=c},_updateController:function(m,c,g){var y=m.coordinateSystem,_=this._controller,A=this._controllerHost;A.zoomLimit=m.get("scaleLimit"),A.zoom=y.getZoom(),_.enable(m.get("roam")||!1);var b=m.mainType;function w(){var x={type:"geoRoam",componentType:b};return x[b+"Id"]=m.id,x}_.off("pan").on("pan",function(x){this._mouseDownFlag=!1,r.updateViewOnPan(A,x.dx,x.dy),g.dispatchAction(e.extend(w(),{dx:x.dx,dy:x.dy}))},this),_.off("zoom").on("zoom",function(x){if(this._mouseDownFlag=!1,r.updateViewOnZoom(A,x.scale,x.originX,x.originY),g.dispatchAction(e.extend(w(),{zoom:x.scale,originX:x.originX,originY:x.originY})),this._updateGroup){var S=this.group.scale;this._regionsGroup.traverse(function(T){T.type==="text"&&T.attr("scale",[1/S[0],1/S[1]])})}},this),_.setPointerChecker(function(x,S,T){return y.getViewRectAfterRoam().contain(S,T)&&!i(x,g,m)})}};var d=f;return Qu=d,Qu}var ju,t_;function UH(){if(t_)return ju;t_=1;var e=ye,t=W,r=fe,a=OM(),i="__seriesMapHighDown",o="__seriesMapCallKey",s=e.extendChartView({type:"map",render:function(h,u,v,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var f=this.group;if(f.removeAll(),!h.getHostGeoModel()){if(l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===h.id){var d=this._mapDraw;d&&f.add(d.group)}else if(h.needsDrawMap){var d=this._mapDraw||new a(v,!0);f.add(d.group),d.draw(h,u,v,this,l),this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;h.get("showLegendSymbol")&&u.getComponent("legend")&&this._renderSymbols(h,u,v)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(h,u,v){var l=h.originalData,f=this.group;l.each(l.mapDimension("value"),function(d,m){if(!isNaN(d)){var c=l.getItemLayout(m);if(!(!c||!c.point)){var g=c.point,y=c.offset,_=new r.Circle({style:{fill:h.getData().getVisual("color")},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var A=h.mainSeries.getData(),b=l.getName(m),w=A.indexOfName(b),x=l.getItemModel(m),S=x.getModel("label"),T=x.getModel("emphasis.label"),C=A.getItemGraphicEl(w),M=t.retrieve2(h.getFormattedLabel(w,"normal"),b),D=t.retrieve2(h.getFormattedLabel(w,"emphasis"),M),L=C[i],I=Math.random();if(!L){L=C[i]={};var P=t.curry(p,!0),E=t.curry(p,!1);C.on("mouseover",P).on("mouseout",E).on("emphasis",P).on("normal",E)}C[o]=I,t.extend(L,{recordVersion:I,circle:_,labelModel:S,hoverLabelModel:T,emphasisText:D,normalText:M}),n(L,!1)}f.add(_)}}})}});function p(h){var u=this[i];u&&u.recordVersion===this[o]&&n(u,h)}function n(h,u){var v=h.circle,l=h.labelModel,f=h.hoverLabelModel,d=h.emphasisText,m=h.normalText;u?(v.style.extendFrom(r.setTextStyle({},f,{text:f.get("show")?d:null},{isRectText:!0,useInsideStyle:!1},!0)),v.__mapOriginalZ2=v.z2,v.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(v.style,l,{text:l.get("show")?m:null,textPosition:l.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),v.dirty(!1),v.__mapOriginalZ2!=null&&(v.z2=v.__mapOriginalZ2,v.__mapOriginalZ2=null))}return ju=s,ju}var r_={},Ju={},a_;function gg(){if(a_)return Ju;a_=1;function e(t,r,a){var i=t.getZoom(),o=t.getCenter(),s=r.zoom,p=t.dataToPoint(o);if(r.dx!=null&&r.dy!=null){p[0]-=r.dx,p[1]-=r.dy;var o=t.pointToData(p);t.setCenter(o)}if(s!=null){if(a){var n=a.min||0,h=a.max||1/0;s=Math.max(Math.min(i*s,h),n)/i}t.scale[0]*=s,t.scale[1]*=s;var u=t.position,v=(r.originX-u[0])*(s-1),l=(r.originY-u[1])*(s-1);u[0]-=v,u[1]-=l,t.updateTransform();var o=t.pointToData(p);t.setCenter(o),t.setZoom(s*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return Ju.updateCenterAndZoom=e,Ju}var i_;function zM(){if(i_)return r_;i_=1;var e=ye,t=W,r=gg(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,o){var s=i.componentType||"series";o.eachComponent({mainType:s,query:i},function(p){var n=p.coordinateSystem;if(n.type==="geo"){var h=a(n,i,p.get("scaleLimit"));p.setCenter&&p.setCenter(h.center),p.setZoom&&p.setZoom(h.zoom),s==="series"&&t.each(p.seriesGroup,function(u){u.setCenter(h.center),u.setZoom(h.zoom)})}})}),r_}var ev,n_;function pg(){if(n_)return ev;n_=1;var e=W,t=Ye(),r=Rt(),a=Ke,i=is,o=t.applyTransform;function s(){i.call(this)}e.mixin(s,i);function p(u){this.name=u,this.zoomLimit,i.call(this),this._roamTransformable=new s,this._rawTransformable=new s,this._center,this._zoom}p.prototype={constructor:p,type:"view",dimensions:["x","y"],setBoundingRect:function(u,v,l,f){return this._rect=new a(u,v,l,f),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(u,v,l,f){this.transformTo(u,v,l,f),this._viewRect=new a(u,v,l,f)},transformTo:function(u,v,l,f){var d=this.getBoundingRect(),m=this._rawTransformable;m.transform=d.calculateTransform(new a(u,v,l,f)),m.decomposeTransform(),this._updateTransform()},setCenter:function(u){u&&(this._center=u,this._updateCenterAndZoom())},setZoom:function(u){u=u||1;var v=this.zoomLimit;v&&(v.max!=null&&(u=Math.min(v.max,u)),v.min!=null&&(u=Math.max(v.min,u))),this._zoom=u,this._updateCenterAndZoom()},getDefaultCenter:function(){var u=this.getBoundingRect(),v=u.x+u.width/2,l=u.y+u.height/2;return[v,l]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var u=this._rawTransformable.getLocalTransform(),v=this._roamTransformable,l=this.getDefaultCenter(),f=this.getCenter(),d=this.getZoom();f=t.applyTransform([],f,u),l=t.applyTransform([],l,u),v.origin=f,v.position=[l[0]-f[0],l[1]-f[1]],v.scale=[d,d],this._updateTransform()},_updateTransform:function(){var u=this._roamTransformable,v=this._rawTransformable;v.parent=u,u.updateTransform(),v.updateTransform(),r.copy(this.transform||(this.transform=[]),v.transform||r.create()),this._rawTransform=v.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var u=this._roamTransformable.transform,v=this._rawTransformable;return{roamTransform:u?e.slice(u):r.create(),rawScale:e.slice(v.scale),rawPosition:e.slice(v.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var u=this.getBoundingRect().clone();return u.applyTransform(this.transform),u},dataToPoint:function(u,v,l){var f=v?this._rawTransform:this.transform;return l=l||[],f?o(l,u,f):t.copy(l,u)},pointToData:function(u){var v=this.invTransform;return v?o([],u,v):[u[0],u[1]]},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData"),containPoint:function(u){return this.getViewRectAfterRoam().contain(u[0],u[1])}},e.mixin(p,i);function n(u,v,l,f){var d=l.seriesModel,m=d?d.coordinateSystem:null;return m===this?m[u](f):null}var h=p;return ev=h,ev}var tv,o_;function WH(){if(o_)return tv;o_=1;var e=W,t=Ke,r=pg(),a=Ts();function i(p,n,h,u){r.call(this,p),this.map=n;var v=a.load(n,h);this._nameCoordMap=v.nameCoordMap,this._regionsMap=v.regionsMap,this._invertLongitute=u??!0,this.regions=v.regions,this._rect=v.boundingRect}i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(p){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(p))return!0;return!1},transformTo:function(p,n,h,u){var v=this.getBoundingRect(),l=this._invertLongitute;v=v.clone(),l&&(v.y=-v.y-v.height);var f=this._rawTransformable;if(f.transform=v.calculateTransform(new t(p,n,h,u)),f.decomposeTransform(),l){var d=f.scale;d[1]=-d[1]}f.updateTransform(),this._updateTransform()},getRegion:function(p){return this._regionsMap.get(p)},getRegionByCoord:function(p){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(p))return n[h]},addGeoCoord:function(p,n){this._nameCoordMap.set(p,n)},getGeoCoord:function(p){return this._nameCoordMap.get(p)},getBoundingRect:function(){return this._rect},dataToPoint:function(p,n,h){if(typeof p=="string"&&(p=this.getGeoCoord(p)),p)return r.prototype.dataToPoint.call(this,p,n,h)},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData")},e.mixin(i,r);function o(p,n,h,u){var v=h.geoModel,l=h.seriesModel,f=v?v.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return f===this?f[p](u):null}var s=i;return tv=s,tv}var rv,s_;function mg(){if(s_)return rv;s_=1;var e=ye,t=W,r=WH(),a=ze,i=Re(),o=Ts(),s=vg;function p(v,l){var f=v.get("boundingCoords");if(f!=null){var d=f[0],m=f[1];isNaN(d[0])||isNaN(d[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(d[0],d[1],m[0]-d[0],m[1]-d[1])}var c=this.getBoundingRect(),g,y=v.get("layoutCenter"),_=v.get("layoutSize"),A=l.getWidth(),b=l.getHeight(),w=c.width/c.height*this.aspectScale,x=!1;y&&_&&(y=[i.parsePercent(y[0],A),i.parsePercent(y[1],b)],_=i.parsePercent(_,Math.min(A,b)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(x=!0));var S;if(x){var S={};w>1?(S.width=_,S.height=_/w):(S.height=_,S.width=_*w),S.y=y[1]-S.height/2,S.x=y[0]-S.width/2}else g=v.getBoxLayoutParams(),g.aspect=w,S=a.getLayoutRect(g,{width:A,height:b});this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(v.get("center")),this.setZoom(v.get("zoom"))}function n(v,l){t.each(l.get("geoCoord"),function(f,d){v.addGeoCoord(d,f)})}var h={dimensions:r.prototype.dimensions,create:function(v,l){var f=[];v.eachComponent("geo",function(m,c){var g=m.get("map"),y=m.get("aspectScale"),_=!0,A=s.retrieveMap(g);A&&A[0]&&A[0].type==="svg"?(y==null&&(y=1),_=!1):y==null&&(y=.75);var b=new r(g+c,g,m.get("nameMap"),_);b.aspectScale=y,b.zoomLimit=m.get("scaleLimit"),f.push(b),n(b,m),m.coordinateSystem=b,b.model=m,b.resize=p,b.resize(m,l)}),v.eachSeries(function(m){var c=m.get("coordinateSystem");if(c==="geo"){var g=m.get("geoIndex")||0;m.coordinateSystem=f[g]}});var d={};return v.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var c=m.getMapType();d[c]=d[c]||[],d[c].push(m)}}),t.each(d,function(m,c){var g=t.map(m,function(_){return _.get("nameMap")}),y=new r(c,c,t.mergeAll(g));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(_){return _.get("scaleLimit")})),f.push(y),y.resize=p,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],l),t.each(m,function(_){_.coordinateSystem=y,n(y,_)})}),f},getFilledRegions:function(v,l,f){for(var d=(v||[]).slice(),m=t.createHashMap(),c=0;c<d.length;c++)m.set(d[c].name,d[c]);var g=o.load(l,f);return t.each(g.regions,function(y){var _=y.name;!m.get(_)&&d.push({name:_})}),d}};e.registerCoordinateSystem("geo",h);var u=h;return rv=u,rv}var av,l_;function ZH(){if(l_)return av;l_=1;var e=W;function t(r){var a={};r.eachSeriesByType("map",function(i){var o=i.getMapType();if(!(i.getHostGeoModel()||a[o])){var s={};e.each(i.seriesGroup,function(n){var h=n.coordinateSystem,u=n.originalData;n.get("showLegendSymbol")&&r.getComponent("legend")&&u.each(u.mapDimension("value"),function(v,l){var f=u.getName(l),d=h.getRegion(f);if(!(!d||isNaN(v))){var m=s[f]||0,c=h.dataToPoint(d.center);s[f]=m+1,u.setItemLayout(l,{point:c,offset:m})}})});var p=i.getData();p.each(function(n){var h=p.getName(n),u=p.getItemLayout(n)||{};u.showLabel=!s[h],p.setItemLayout(n,u)}),a[o]=!0}})}return av=t,av}var iv,u_;function YH(){if(u_)return iv;u_=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),o=i.get("areaColor"),s=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:o,color:s})})}return iv=e,iv}var nv,v_;function XH(){if(v_)return nv;v_=1;var e=W;function t(a,i){var o={};return e.each(a,function(s){s.each(s.mapDimension("value"),function(p,n){var h="ec-"+s.getName(n);o[h]=o[h]||[],isNaN(p)||o[h].push(p)})}),a[0].map(a[0].mapDimension("value"),function(s,p){for(var n="ec-"+a[0].getName(p),h=0,u=1/0,v=-1/0,l=o[n].length,f=0;f<l;f++)u=Math.min(u,o[n][f]),v=Math.max(v,o[n][f]),h+=o[n][f];var d;return i==="min"?d=u:i==="max"?d=v:i==="average"?d=h/l:d=h,l===0?NaN:d})}function r(a){var i={};a.eachSeriesByType("map",function(o){var s=o.getHostGeoModel(),p=s?"o"+s.id:"i"+o.getMapType();(i[p]=i[p]||[]).push(o)}),e.each(i,function(o,s){for(var p=t(e.map(o,function(h){return h.getData()}),o[0].get("mapValueCalculation")),n=0;n<o.length;n++)o[n].originalData=o[n].getData();for(var n=0;n<o.length;n++)o[n].seriesGroup=o,o[n].needsDrawMap=n===0&&!o[n].getHostGeoModel(),o[n].setData(p.cloneShallow()),o[n].mainSeries=o[0]})}return nv=r,nv}var ov,h_;function KH(){if(h_)return ov;h_=1;var e=W;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return ov=t,ov}var c_;function QH(){if(c_)return q0;c_=1;var e=ye;$H(),UH(),zM(),mg();var t=ZH(),r=YH(),a=XH(),i=KH(),o=EM();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),o("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),q0}var f_={},sv,d_;function BM(){if(d_)return sv;d_=1;var e=W,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(f){var d=f.mainData,m=f.datas;m||(m={main:d},f.datasAttr={main:"data"}),f.datas=f.mainData=null,u(d,m,f),t(m,function(c){t(d.TRANSFERABLE_METHODS,function(g){c.wrapMethod(g,e.curry(o,f))})}),d.wrapMethod("cloneShallow",e.curry(p,f)),t(d.CHANGABLE_METHODS,function(c){d.wrapMethod(c,e.curry(s,f))}),e.assert(m[d.dataType]===d)}function o(f,d){if(h(this)){var m=e.extend({},this[r]);m[this.dataType]=d,u(d,m,f)}else v(d,this.dataType,this[a],f);return d}function s(f,d){return f.struct&&f.struct.update(this),d}function p(f,d){return t(d[r],function(m,c){m!==d&&v(m.cloneShallow(),c,d,f)}),d}function n(f){var d=this[a];return f==null||d==null?d:d[r][f]}function h(f){return f[a]===f}function u(f,d,m){f[r]={},t(d,function(c,g){v(c,g,f,m)})}function v(f,d,m,c){m[r][d]=f,f[a]=m,f.dataType=d,c.struct&&(f[c.structAttr]=c.struct,c.struct[c.datasAttr[d]]=f),f.getLinkedData=n}var l=i;return sv=l,sv}var lv,g_;function yg(){if(g_)return lv;g_=1;var e=W,t=BM(),r=Xt(),a=bi(),i=function(n,h){this.name=n||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=h};i.prototype={constructor:i,isRemoved:function(){return this.dataIndex<0},eachNode:function(n,h,u){typeof n=="function"&&(u=h,h=n,n=null),n=n||{},e.isString(n)&&(n={order:n});var v=n.order||"preorder",l=this[n.attr||"children"],f;v==="preorder"&&(f=h.call(u,this));for(var d=0;!f&&d<l.length;d++)l[d].eachNode(n,h,u);v==="postorder"&&h.call(u,this)},updateDepthAndHeight:function(n){var h=0;this.depth=n;for(var u=0;u<this.children.length;u++){var v=this.children[u];v.updateDepthAndHeight(n+1),v.height>h&&(h=v.height)}this.height=h+1},getNodeById:function(n){if(this.getId()===n)return this;for(var h=0,u=this.children,v=u.length;h<v;h++){var l=u[h].getNodeById(n);if(l)return l}},contains:function(n){if(n===this)return!0;for(var h=0,u=this.children,v=u.length;h<v;h++){var l=u[h].contains(n);if(l)return l}},getAncestors:function(n){for(var h=[],u=n?this:this.parentNode;u;)h.push(u),u=u.parentNode;return h.reverse(),h},getValue:function(n){var h=this.hostTree.data;return h.get(h.getDimension(n||"value"),this.dataIndex)},setLayout:function(n,h){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,h)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(n){if(!(this.dataIndex<0)){var h=this.hostTree,u=h.data.getItemModel(this.dataIndex);return u.getModel(n)}},setVisual:function(n,h){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,h)},getVisual:function(n,h){return this.hostTree.data.getItemVisual(this.dataIndex,n,h)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(n){for(var h=n.parentNode;h;){if(h===this)return!0;h=h.parentNode}return!1},isDescendantOf:function(n){return n!==this&&n.isAncestorOf(this)}};function o(n){this.root,this.data,this._nodes=[],this.hostModel=n}o.prototype={constructor:o,type:"tree",eachNode:function(n,h,u){this.root.eachNode(n,h,u)},getNodeByDataIndex:function(n){var h=this.data.getRawIndex(n);return this._nodes[h]},getNodeByName:function(n){return this.root.getNodeByName(n)},update:function(){for(var n=this.data,h=this._nodes,u=0,v=h.length;u<v;u++)h[u].dataIndex=-1;for(var u=0,v=n.count();u<v;u++)h[n.getRawIndex(u)].dataIndex=u},clearLayouts:function(){this.data.clearItemLayouts()}},o.createTree=function(n,h,u){var v=new o(h),l=[],f=1;d(n);function d(g,y){var _=g.value;f=Math.max(f,e.isArray(_)?_.length:1),l.push(g);var A=new i(g.name,v);y?s(A,y):v.root=A,v._nodes.push(A);var b=g.children;if(b)for(var w=0;w<b.length;w++)d(b[w],A)}v.root.updateDepthAndHeight(0);var m=a(l,{coordDimensions:["value"],dimensionsCount:f}),c=new r(m,h);return c.initData(l),u&&u(c),t({mainData:c,struct:v,structAttr:"tree"}),v.update(),v};function s(n,h){var u=h.children;n.parentNode!==h&&(u.push(n),n.parentNode=h)}var p=o;return lv=p,lv}var uv,p_;function jH(){if(p_)return uv;p_=1;var e=ft,t=yg(),r=Ge(),a=r.encodeHTML,i=ot(),o=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(s){var p={name:s.name,children:s.data},n=s.leaves||{},h=new i(n,this,this.ecModel),u=t.createTree(p,this,v);function v(m){m.wrapMethod("getItemModel",function(c,g){var y=u.getNodeByDataIndex(g);return(!y.children.length||!y.isExpand)&&(c.parentModel=h),c})}var l=0;u.eachNode("preorder",function(m){m.depth>l&&(l=m.depth)});var f=s.expandAndCollapse,d=f&&s.initialTreeDepth>=0?s.initialTreeDepth:l;return u.root.eachNode("preorder",function(m){var c=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=c&&c.collapsed!=null?!c.collapsed:m.depth<=d}),u.data},getOrient:function(){var s=this.get("orient");return s==="horizontal"?s="LR":s==="vertical"&&(s="TB"),s},setZoom:function(s){this.option.zoom=s},setCenter:function(s){this.option.center=s},formatTooltip:function(s){for(var p=this.getData().tree,n=p.root.children[0],h=p.getNodeByDataIndex(s),u=h.getValue(),v=h.name;h&&h!==n;)v=h.parentNode.name+"."+v,h=h.parentNode;return a(v+(isNaN(u)||u==null?"":" : "+u))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return uv=o,uv}var Yr={},m_;function NM(){if(m_)return Yr;m_=1;var e=ze;function t(d){d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[d],c,g;c=m.pop();)if(g=c.children,c.isExpand&&g.length)for(var y=g.length,_=y-1;_>=0;_--){var A=g[_];A.hierNode={defaultAncestor:null,ancestor:A,prelim:0,modifier:0,change:0,shift:0,i:_,thread:null},m.push(A)}}function r(d,m){var c=d.isExpand?d.children:[],g=d.parentNode.children,y=d.hierNode.i?g[d.hierNode.i-1]:null;if(c.length){p(d);var _=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;y?(d.hierNode.prelim=y.hierNode.prelim+m(d,y),d.hierNode.modifier=d.hierNode.prelim-_):d.hierNode.prelim=_}else y&&(d.hierNode.prelim=y.hierNode.prelim+m(d,y));d.parentNode.hierNode.defaultAncestor=n(d,y,d.parentNode.hierNode.defaultAncestor||g[0],m)}function a(d){var m=d.hierNode.prelim+d.parentNode.hierNode.modifier;d.setLayout({x:m},!0),d.hierNode.modifier+=d.parentNode.hierNode.modifier}function i(d){return arguments.length?d:f}function o(d,m){var c={};return d-=Math.PI/2,c.x=m*Math.cos(d),c.y=m*Math.sin(d),c}function s(d,m){return e.getLayoutRect(d.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function p(d){for(var m=d.children,c=m.length,g=0,y=0;--c>=0;){var _=m[c];_.hierNode.prelim+=g,_.hierNode.modifier+=g,y+=_.hierNode.change,g+=_.hierNode.shift+y}}function n(d,m,c,g){if(m){for(var y=d,_=d,A=_.parentNode.children[0],b=m,w=y.hierNode.modifier,x=_.hierNode.modifier,S=A.hierNode.modifier,T=b.hierNode.modifier;b=h(b),_=u(_),b&&_;){y=h(y),A=u(A),y.hierNode.ancestor=d;var C=b.hierNode.prelim+T-_.hierNode.prelim-x+g(b,_);C>0&&(l(v(b,d,c),d,C),x+=C,w+=C),T+=b.hierNode.modifier,x+=_.hierNode.modifier,w+=y.hierNode.modifier,S+=A.hierNode.modifier}b&&!h(y)&&(y.hierNode.thread=b,y.hierNode.modifier+=T-w),_&&!u(A)&&(A.hierNode.thread=_,A.hierNode.modifier+=x-S,c=d)}return c}function h(d){var m=d.children;return m.length&&d.isExpand?m[m.length-1]:d.hierNode.thread}function u(d){var m=d.children;return m.length&&d.isExpand?m[0]:d.hierNode.thread}function v(d,m,c){return d.hierNode.ancestor.parentNode===m.parentNode?d.hierNode.ancestor:c}function l(d,m,c){var g=c/(m.hierNode.i-d.hierNode.i);m.hierNode.change-=g,m.hierNode.shift+=c,m.hierNode.modifier+=c,m.hierNode.prelim+=c,d.hierNode.change+=g}function f(d,m){return d.parentNode===m.parentNode?1:2}return Yr.init=t,Yr.firstWalk=r,Yr.secondWalk=a,Yr.separation=i,Yr.radialCoordinate=o,Yr.getViewRect=s,Yr}var vv,y_;function JH(){if(y_)return vv;y_=1;var e=W,t=fe,r=Ss(),a=NM(),i=a.radialCoordinate,o=ye,s=bn(),p=pg(),n=dg(),h=Nn(),u=Cs(),v=u.onIrrelevantElement,l=Re(),f=l.parsePercent,d=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(w,x){var S=x.childPoints,T=S.length,C=x.parentPoint,M=S[0],D=S[T-1];if(T===1){w.moveTo(C[0],C[1]),w.lineTo(M[0],M[1]);return}var L=x.orient,I=L==="TB"||L==="BT"?0:1,P=1-I,E=f(x.forkPosition,1),O=[];O[I]=C[I],O[P]=C[P]+(D[P]-C[P])*E,w.moveTo(C[0],C[1]),w.lineTo(O[0],O[1]),w.moveTo(M[0],M[1]),O[I]=M[I],w.lineTo(O[0],O[1]),O[I]=D[I],w.lineTo(O[0],O[1]),w.lineTo(D[0],D[1]);for(var B=1;B<T-1;B++){var q=S[B];w.moveTo(q[0],q[1]),O[I]=q[I],w.lineTo(O[0],O[1])}}}),m=o.extendChartView({type:"tree",init:function(w,x){this._oldTree,this._mainGroup=new t.Group,this._controller=new h(x.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(w,x,S,T){var C=w.getData(),M=w.layoutInfo,D=this._mainGroup,L=w.get("layout");L==="radial"?D.attr("position",[M.x+M.width/2,M.y+M.height/2]):D.attr("position",[M.x,M.y]),this._updateViewCoordSys(w,M,L),this._updateController(w,x,S);var I=this._data,P={expandAndCollapse:w.get("expandAndCollapse"),layout:L,edgeShape:w.get("edgeShape"),edgeForkPosition:w.get("edgeForkPosition"),orient:w.getOrient(),curvature:w.get("lineStyle.curveness"),symbolRotate:w.get("symbolRotate"),symbolOffset:w.get("symbolOffset"),hoverAnimation:w.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};C.diff(I).add(function(E){c(C,E)&&y(C,E,null,D,w,P)}).update(function(E,O){var B=I.getItemGraphicEl(O);if(!c(C,E)){B&&A(I,O,B,D,w,P);return}y(C,E,B,D,w,P)}).remove(function(E){var O=I.getItemGraphicEl(E);O&&A(I,E,O,D,w,P)}).execute(),this._nodeScaleRatio=w.get("nodeScaleRatio"),this._updateNodeAndLinkScale(w),P.expandAndCollapse===!0&&C.eachItemGraphicEl(function(E,O){E.off("click").on("click",function(){S.dispatchAction({type:"treeExpandAndCollapse",seriesId:w.id,dataIndex:O})})}),this._data=C},_updateViewCoordSys:function(w){var x=w.getData(),S=[];x.each(function(I){var P=x.getItemLayout(I);P&&!isNaN(P.x)&&!isNaN(P.y)&&S.push([+P.x,+P.y])});var T=[],C=[];s.fromPoints(S,T,C);var M=this._min,D=this._max;C[0]-T[0]===0&&(T[0]=M?M[0]:T[0]-1,C[0]=D?D[0]:C[0]+1),C[1]-T[1]===0&&(T[1]=M?M[1]:T[1]-1,C[1]=D?D[1]:C[1]+1);var L=w.coordinateSystem=new p;L.zoomLimit=w.get("scaleLimit"),L.setBoundingRect(T[0],T[1],C[0]-T[0],C[1]-T[1]),L.setCenter(w.get("center")),L.setZoom(w.get("zoom")),this.group.attr({position:L.position,scale:L.scale}),this._viewCoordSys=L,this._min=T,this._max=C},_updateController:function(w,x,S){var T=this._controller,C=this._controllerHost,M=this.group;T.setPointerChecker(function(D,L,I){var P=M.getBoundingRect();return P.applyTransform(M.transform),P.contain(L,I)&&!v(D,S,w)}),T.enable(w.get("roam")),C.zoomLimit=w.get("scaleLimit"),C.zoom=w.coordinateSystem.getZoom(),T.off("pan").off("zoom").on("pan",function(D){n.updateViewOnPan(C,D.dx,D.dy),S.dispatchAction({seriesId:w.id,type:"treeRoam",dx:D.dx,dy:D.dy})},this).on("zoom",function(D){n.updateViewOnZoom(C,D.scale,D.originX,D.originY),S.dispatchAction({seriesId:w.id,type:"treeRoam",zoom:D.scale,originX:D.originX,originY:D.originY}),this._updateNodeAndLinkScale(w)},this)},_updateNodeAndLinkScale:function(w){var x=w.getData(),S=this._getNodeGlobalScale(w),T=[S,S];x.eachItemGraphicEl(function(C,M){C.attr("scale",T)})},_getNodeGlobalScale:function(w){var x=w.coordinateSystem;if(x.type!=="view")return 1;var S=this._nodeScaleRatio,T=x.scale,C=T&&T[0]||1,M=x.getZoom(),D=(M-1)*S+1;return D/C},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function c(w,x){var S=w.getItemLayout(x);return S&&!isNaN(S.x)&&!isNaN(S.y)&&w.getItemVisual(x,"symbol")!=="none"}function g(w,x,S){return S.itemModel=x,S.itemStyle=x.getModel("itemStyle").getItemStyle(),S.hoverItemStyle=x.getModel("emphasis.itemStyle").getItemStyle(),S.lineStyle=x.getModel("lineStyle").getLineStyle(),S.labelModel=x.getModel("label"),S.hoverLabelModel=x.getModel("emphasis.label"),w.isExpand===!1&&w.children.length!==0?S.symbolInnerColor=S.itemStyle.fill:S.symbolInnerColor="#fff",S}function y(w,x,S,T,C,P){var D=!S,L=w.tree.getNodeByDataIndex(x),I=L.getModel(),P=g(L,I,P),E=w.tree.root,O=L.parentNode===E?L:L.parentNode||L,B=w.getItemGraphicEl(O.dataIndex),q=O.getLayout(),V=B?{x:B.position[0],y:B.position[1],rawX:B.__radialOldRawX,rawY:B.__radialOldRawY}:q,R=L.getLayout();D?(S=new r(w,x,P),S.attr("position",[V.x,V.y])):S.updateData(w,x,P),S.__radialOldRawX=S.__radialRawX,S.__radialOldRawY=S.__radialRawY,S.__radialRawX=R.rawX,S.__radialRawY=R.rawY,T.add(S),w.setItemGraphicEl(x,S),t.updateProps(S,{position:[R.x,R.y]},C);var z=S.getSymbolPath();if(P.layout==="radial"){var k=E.children[0],N=k.getLayout(),G=k.children.length,H,F;if(R.x===N.x&&L.isExpand===!0){var $={};$.x=(k.children[0].getLayout().x+k.children[G-1].getLayout().x)/2,$.y=(k.children[0].getLayout().y+k.children[G-1].getLayout().y)/2,H=Math.atan2($.y-N.y,$.x-N.x),H<0&&(H=Math.PI*2+H),F=$.x<N.x,F&&(H=H-Math.PI)}else H=Math.atan2(R.y-N.y,R.x-N.x),H<0&&(H=Math.PI*2+H),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(F=R.x<N.x,F&&(H=H-Math.PI)):(F=R.x>N.x,F||(H=H-Math.PI));var U=F?"left":"right",K=P.labelModel.get("rotate"),Q=K*(Math.PI/180);z.setStyle({textPosition:P.labelModel.get("position")||U,textRotation:K==null?-H:Q,textOrigin:"center",verticalAlign:"middle"})}_(C,L,E,S,V,q,R,T,P)}function _(w,x,S,T,C,M,D,L,I){var P=I.edgeShape,E=T.__edge;if(P==="curve")x.parentNode&&x.parentNode!==S&&(E||(E=T.__edge=new t.BezierCurve({shape:b(I,C,C),style:e.defaults({opacity:0,strokeNoScale:!0},I.lineStyle)})),t.updateProps(E,{shape:b(I,M,D),style:e.defaults({opacity:1},I.lineStyle)},w));else if(P==="polyline"&&I.layout==="orthogonal"&&x!==S&&x.children&&x.children.length!==0&&x.isExpand===!0){for(var O=x.children,B=[],q=0;q<O.length;q++){var V=O[q].getLayout();B.push([V.x,V.y])}E||(E=T.__edge=new d({shape:{parentPoint:[D.x,D.y],childPoints:[[D.x,D.y]],orient:I.orient,forkPosition:I.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},I.lineStyle)})),t.updateProps(E,{shape:{parentPoint:[D.x,D.y],childPoints:B},style:e.defaults({opacity:1},I.lineStyle)},w)}L.add(E)}function A(w,x,S,T,C,P){for(var D=w.tree.getNodeByDataIndex(x),L=w.tree.root,I=D.getModel(),P=g(D,I,P),E=D.parentNode===L?D:D.parentNode||D,R=P.edgeShape,O;O=E.getLayout(),O==null;)E=E.parentNode===L?E:E.parentNode||E;t.updateProps(S,{position:[O.x+1,O.y+1]},C,function(){T.remove(S),w.setItemGraphicEl(x,null)}),S.fadeOut(null,{keepLabel:!0});var B=w.getItemGraphicEl(E.dataIndex),q=B.__edge,V=S.__edge||(E.isExpand===!1||E.children.length===1?q:void 0),R=P.edgeShape;V&&(R==="curve"?t.updateProps(V,{shape:b(P,O,O),style:{opacity:0}},C,function(){T.remove(V)}):R==="polyline"&&P.layout==="orthogonal"&&t.updateProps(V,{shape:{parentPoint:[O.x,O.y],childPoints:[[O.x,O.y]]},style:{opacity:0}},C,function(){T.remove(V)}))}function b(w,x,S){var T,C,M,D,L=w.orient,I,P,E,O;if(w.layout==="radial"){I=x.rawX,E=x.rawY,P=S.rawX,O=S.rawY;var B=i(I,E),q=i(I,E+(O-E)*w.curvature),V=i(P,O+(E-O)*w.curvature),R=i(P,O);return{x1:B.x,y1:B.y,x2:R.x,y2:R.y,cpx1:q.x,cpy1:q.y,cpx2:V.x,cpy2:V.y}}else I=x.x,E=x.y,P=S.x,O=S.y,(L==="LR"||L==="RL")&&(T=I+(P-I)*w.curvature,C=E,M=P+(I-P)*w.curvature,D=O),(L==="TB"||L==="BT")&&(T=I,C=E+(O-E)*w.curvature,M=P,D=O+(E-O)*w.curvature);return{x1:I,y1:E,x2:P,y2:O,cpx1:T,cpy1:C,cpx2:M,cpy2:D}}return vv=m,vv}var __={},x_;function e5(){if(x_)return __;x_=1;var e=ye,t=gg(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var s=a.dataIndex,p=o.getData().tree,n=p.getNodeByDataIndex(s);n.isExpand=!n.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var s=o.coordinateSystem,p=r(s,a);o.setCenter&&o.setCenter(p.center),o.setZoom&&o.setZoom(p.zoom)})}),__}var mo={},S_;function t5(){if(S_)return mo;S_=1;function e(r,a,i){for(var o=[r],s=[],p;p=o.pop();)if(s.push(p),p.isExpand){var n=p.children;if(n.length)for(var h=0;h<n.length;h++)o.push(n[h])}for(;p=s.pop();)a(p,i)}function t(r,a){for(var i=[r],o;o=i.pop();)if(a(o),o.isExpand){var s=o.children;if(s.length)for(var p=s.length-1;p>=0;p--)i.push(s[p])}}return mo.eachAfter=e,mo.eachBefore=t,mo}var hv,b_;function r5(){if(b_)return hv;b_=1;var e=t5(),t=e.eachAfter,r=e.eachBefore,a=NM(),i=a.init,o=a.firstWalk,s=a.secondWalk,p=a.separation,n=a.radialCoordinate,h=a.getViewRect;function u(l,f){l.eachSeriesByType("tree",function(d){v(d,f)})}function v(l,f){var d=h(l,f);l.layoutInfo=d;var m=l.get("layout"),c=0,g=0,y=null;m==="radial"?(c=2*Math.PI,g=Math.min(d.height,d.width)/2,y=p(function(P,E){return(P.parentNode===E.parentNode?1:2)/P.depth})):(c=d.width,g=d.height,y=p());var _=l.getData().tree.root,A=_.children[0];if(A){i(_),t(A,o,y),_.hierNode.modifier=-A.hierNode.prelim,r(A,s);var b=A,w=A,x=A;r(A,function(P){var E=P.getLayout().x;E<b.getLayout().x&&(b=P),E>w.getLayout().x&&(w=P),P.depth>x.depth&&(x=P)});var S=b===w?1:y(b,w)/2,T=S-b.getLayout().x,C=0,M=0,D=0,L=0;if(m==="radial")C=c/(w.getLayout().x+S+T),M=g/(x.depth-1||1),r(A,function(P){D=(P.getLayout().x+T)*C,L=(P.depth-1)*M;var E=n(D,L);P.setLayout({x:E.x,y:E.y,rawX:D,rawY:L},!0)});else{var I=l.getOrient();I==="RL"||I==="LR"?(M=g/(w.getLayout().x+S+T),C=c/(x.depth-1||1),r(A,function(P){L=(P.getLayout().x+T)*M,D=I==="LR"?(P.depth-1)*C:c-(P.depth-1)*C,P.setLayout({x:D,y:L},!0)})):(I==="TB"||I==="BT")&&(C=c/(w.getLayout().x+S+T),M=g/(x.depth-1||1),r(A,function(P){D=(P.getLayout().x+T)*C,L=I==="TB"?(P.depth-1)*M:g-(P.depth-1)*M,P.setLayout({x:D,y:L},!0)}))}}}return hv=u,hv}var w_;function a5(){if(w_)return f_;w_=1;var e=ye;jH(),JH(),e5();var t=Ia(),r=r5();return e.registerVisual(t("tree","circle")),e.registerLayout(r),f_}var A_={},Fa={},T_;function Ra(){if(T_)return Fa;T_=1;var e=W;function t(o,s,p){if(o&&e.indexOf(s,o.type)>=0){var n=p.getData().tree.root,h=o.targetNode;if(typeof h=="string"&&(h=n.getNodeById(h)),h&&n.contains(h))return{node:h};var u=o.targetNodeId;if(u!=null&&(h=n.getNodeById(u)))return{node:h}}}function r(o){for(var s=[];o;)o=o.parentNode,o&&s.push(o);return s.reverse()}function a(o,s){var p=r(o);return e.indexOf(p,s)>=0}function i(o,s){for(var p=[];o;){var n=o.dataIndex;p.push({name:o.name,dataIndex:n,value:s.getRawValue(n)}),o=o.parentNode}return p.reverse(),p}return Fa.retrieveTargetInfo=t,Fa.getPathToRoot=r,Fa.aboveViewRoot=a,Fa.wrapTreePathInfo=i,Fa}var cv,C_;function i5(){if(C_)return cv;C_=1;var e=W,t=ft,r=yg(),a=ot(),i=Ge(),o=i.encodeHTML,s=i.addCommas,p=Ra(),n=p.wrapTreePathInfo,h=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(l,f){var d={name:l.name,children:l.data};u(d);var m=l.levels||[],c=this.designatedVisualItemStyle={},g=new a({itemStyle:c},this,f);m=l.levels=v(m,f);var y=e.map(m||[],function(b){return new a(b,g,f)},this),_=r.createTree(d,this,A);function A(b){b.wrapMethod("getItemModel",function(w,x){var S=_.getNodeByDataIndex(x),T=y[S.depth];return w.parentModel=T||g,w})}return _.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(l){var f=this.getData(),d=this.getRawValue(l),m=e.isArray(d)?s(d[0]):s(d),c=f.getName(l);return o(c+": "+m)},getDataParams:function(l){var f=t.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(l);return f.treePathInfo=n(d,this),f},setLayoutInfo:function(l){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,l)},mapIdToIndex:function(l){var f=this._idIndexMap;f||(f=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var d=f.get(l);return d==null&&f.set(l,d=this._idIndexMapCount++),d},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(l){l?this._viewRoot=l:l=this._viewRoot;var f=this.getRawData().tree.root;(!l||l!==f&&!f.contains(l))&&(this._viewRoot=f)}});function u(l){var f=0;e.each(l.children,function(m){u(m);var c=m.value;e.isArray(c)&&(c=c[0]),f+=c});var d=l.value;e.isArray(d)&&(d=d[0]),(d==null||isNaN(d))&&(d=f),d<0&&(d=0),e.isArray(l.value)?l.value[0]=d:l.value=d}function v(l,f){var d=f.get("color");if(d){l=l||[];var m;if(e.each(l,function(g){var y=new a(g),_=y.get("color");(y.get("itemStyle.color")||_&&_!=="none")&&(m=!0)}),!m){var c=l[0]||(l[0]={});c.color=d.slice()}return l}}return cv=h,cv}var fv,M_;function n5(){if(M_)return fv;M_=1;var e=fe,t=ze,r=W,a=Ra(),i=a.wrapTreePathInfo,o=8,s=8,p=5;function n(l){this.group=new e.Group,l.add(this.group)}n.prototype={constructor:n,render:function(l,f,d,m){var c=l.getModel("breadcrumb"),g=this.group;if(g.removeAll(),!(!c.get("show")||!d)){var y=c.getModel("itemStyle"),_=y.getModel("textStyle"),A={pos:{left:c.get("left"),right:c.get("right"),top:c.get("top"),bottom:c.get("bottom")},box:{width:f.getWidth(),height:f.getHeight()},emptyItemWidth:c.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,A,_),this._renderContent(l,A,y,_,m),t.positionElement(g,A.pos,A.box)}},_prepare:function(l,f,d){for(var m=l;m;m=m.parentNode){var c=m.getModel().get("name"),g=d.getTextRect(c),y=Math.max(g.width+o*2,f.emptyItemWidth);f.totalWidth+=y+s,f.renderList.push({node:m,text:c,width:y})}},_renderContent:function(l,f,d,m,c){for(var g=0,y=f.emptyItemWidth,_=l.get("breadcrumb.height"),A=t.getAvailableSize(f.pos,f.box),b=f.totalWidth,w=f.renderList,x=w.length-1;x>=0;x--){var S=w[x],T=S.node,C=S.width,M=S.text;b>A.width&&(b-=C-y,C=y,M=null);var D=new e.Polygon({shape:{points:h(g,0,C,_,x===w.length-1,x===0)},style:r.defaults(d.getItemStyle(),{lineJoin:"bevel",text:M,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:r.curry(c,T)});this.group.add(D),u(D,l,T),g+=C+s}},remove:function(){this.group.removeAll()}};function h(l,f,d,m,c,g){var y=[[c?l:l-p,f],[l+d,f],[l+d,f+m],[c?l:l-p,f+m]];return!g&&y.splice(2,0,[l+d+p,f+m/2]),!c&&y.push([l,f+m/2]),y}function u(l,f,d){l.eventData={componentType:"series",componentSubType:"treemap",componentIndex:f.componentIndex,seriesIndex:f.componentIndex,seriesName:f.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:d&&d.dataIndex,name:d&&d.name},treePathInfo:d&&i(d,f)}}var v=n;return fv=v,fv}var dv={},D_;function o5(){if(D_)return dv;D_=1;var e=W;function t(){var r=[],a={},i;return{add:function(o,s,p,n,h){return e.isString(n)&&(h=n,n=0),a[o.id]?!1:(a[o.id]=1,r.push({el:o,target:s,time:p,delay:n,easing:h}),!0)},done:function(o){return i=o,this},start:function(){for(var o=r.length,s=0,p=r.length;s<p;s++){var n=r[s];n.el.animateTo(n.target,n.time,n.delay,n.easing,h)}return this;function h(){o--,o||(r.length=0,a={},i&&i())}}}}return dv.createWrap=t,dv}var gv,L_;function s5(){if(L_)return gv;L_=1;var e=ye,t=W,r=fe,a=La(),i=Ra(),o=n5(),s=Nn(),p=Ke,n=Rt(),h=o5(),u=gi(),v=Ge(),l=v.windowOpen,f=t.bind,d=r.Group,m=r.Rect,c=t.each,g=3,y=["label"],_=["emphasis","label"],A=["upperLabel"],b=["emphasis","upperLabel"],w=10,x=1,S=2,T=u([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),C=function(P){var E=T(P);return E.stroke=E.fill=E.lineWidth=null,E},M=e.extendChartView({type:"treemap",init:function(P,E){this._containerGroup,this._storage=D(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(P,E,O,B){var q=E.findComponents({mainType:"series",subType:"treemap",query:B});if(!(t.indexOf(q,P)<0)){this.seriesModel=P,this.api=O,this.ecModel=E;var V=["treemapZoomToNode","treemapRootToNode"],R=i.retrieveTargetInfo(B,V,P),z=B&&B.type,k=P.layoutInfo,N=!this._oldTree,G=this._storage,H=z==="treemapRootToNode"&&R&&G?{rootNodeGroup:G.nodeGroup[R.node.getRawIndex()],direction:B.direction}:null,F=this._giveContainerGroup(k),$=this._doRender(F,P,H);!N&&(!z||z==="treemapZoomToNode"||z==="treemapRootToNode")?this._doAnimation(F,$,P,H):$.renderFinally(),this._resetController(O),this._renderBreadcrumb(P,O,R)}},_giveContainerGroup:function(P){var E=this._containerGroup;return E||(E=this._containerGroup=new d,this._initEvents(E),this.group.add(E)),E.attr("position",[P.x,P.y]),E},_doRender:function(P,E,O){var B=E.getData().tree,q=this._oldTree,V=D(),R=D(),z=this._storage,k=[],N=t.curry(L,E,R,z,O,V,k);H(B.root?[B.root]:[],q&&q.root?[q.root]:[],P,B===q||!q,0);var G=F(z);return this._oldTree=B,this._storage=R,{lastsForAnimation:V,willDeleteEls:G,renderFinally:$};function H(U,K,Q,j,ee){j?(K=U,c(U,function(oe,xe){!oe.isRemoved()&&te(xe,xe)})):new a(K,U,re,re).add(te).update(te).remove(t.curry(te,null)).execute();function re(oe){return oe.getId()}function te(oe,xe){var se=oe!=null?U[oe]:null,ge=xe!=null?K[xe]:null,we=N(se,ge,Q,ee);we&&H(se&&se.viewChildren||[],ge&&ge.viewChildren||[],we,j,ee+1)}}function F(U){var K=D();return U&&c(U,function(Q,j){var ee=K[j];c(Q,function(re){re&&(ee.push(re),re.__tmWillDelete=1)})}),K}function $(){c(G,function(U){c(U,function(K){K.parent&&K.parent.remove(K)})}),c(k,function(U){U.invisible=!0,U.dirty()})}},_doAnimation:function(P,E,O,B){if(O.get("animation")){var q=O.get("animationDurationUpdate"),V=O.get("animationEasing"),R=h.createWrap();c(E.willDeleteEls,function(z,k){c(z,function(N,G){if(!N.invisible){var H=N.parent,F;if(B&&B.direction==="drillDown")F=H===B.rootNodeGroup?{shape:{x:0,y:0,width:H.__tmNodeWidth,height:H.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var $=0,U=0;H.__tmWillDelete||($=H.__tmNodeWidth/2,U=H.__tmNodeHeight/2),F=k==="nodeGroup"?{position:[$,U],style:{opacity:0}}:{shape:{x:$,y:U,width:0,height:0},style:{opacity:0}}}F&&R.add(N,F,q,V)}})}),c(this._storage,function(z,k){c(z,function(N,G){var H=E.lastsForAnimation[k][G],F={};H&&(k==="nodeGroup"?H.old&&(F.position=N.position.slice(),N.attr("position",H.old)):(H.old&&(F.shape=t.extend({},N.shape),N.setShape(H.old)),H.fadein?(N.setStyle("opacity",0),F.style={opacity:1}):N.style.opacity!==1&&(F.style={opacity:1})),R.add(N,F,q,V))})},this),this._state="animating",R.done(f(function(){this._state="ready",E.renderFinally()},this)).start()}},_resetController:function(P){var E=this._controller;E||(E=this._controller=new s(P.getZr()),E.enable(this.seriesModel.get("roam")),E.on("pan",f(this._onPan,this)),E.on("zoom",f(this._onZoom,this)));var O=new p(0,0,P.getWidth(),P.getHeight());E.setPointerChecker(function(B,q,V){return O.contain(q,V)})},_clearController:function(){var P=this._controller;P&&(P.dispose(),P=null)},_onPan:function(P){if(this._state!=="animating"&&(Math.abs(P.dx)>g||Math.abs(P.dy)>g)){var E=this.seriesModel.getData().tree.root;if(!E)return;var O=E.getLayout();if(!O)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:O.x+P.dx,y:O.y+P.dy,width:O.width,height:O.height}})}},_onZoom:function(P){var E=P.originX,O=P.originY;if(this._state!=="animating"){var B=this.seriesModel.getData().tree.root;if(!B)return;var q=B.getLayout();if(!q)return;var V=new p(q.x,q.y,q.width,q.height),R=this.seriesModel.layoutInfo;E-=R.x,O-=R.y;var z=n.create();n.translate(z,z,[-E,-O]),n.scale(z,z,[P.scale,P.scale]),n.translate(z,z,[E,O]),V.applyTransform(z),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:V.x,y:V.y,width:V.width,height:V.height}})}},_initEvents:function(P){P.on("click",function(E){if(this._state==="ready"){var O=this.seriesModel.get("nodeClick",!0);if(O){var B=this.findTarget(E.offsetX,E.offsetY);if(B){var q=B.node;if(q.getLayout().isLeafRoot)this._rootToNode(B);else if(O==="zoomToNode")this._zoomToNode(B);else if(O==="link"){var V=q.hostTree.data.getItemModel(q.dataIndex),R=V.get("link",!0),z=V.get("target",!0)||"blank";R&&l(R,z)}}}}},this)},_renderBreadcrumb:function(P,E,O){O||(O=P.get("leafDepth",!0)!=null?{node:P.getViewRoot()}:this.findTarget(E.getWidth()/2,E.getHeight()/2),O||(O={node:P.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new o(this.group))).render(P,E,O.node,f(B,this));function B(q){this._state!=="animating"&&(i.aboveViewRoot(P.getViewRoot(),q)?this._rootToNode({node:q}):this._zoomToNode({node:q}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=D(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(P){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:P.node})},_rootToNode:function(P){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:P.node})},findTarget:function(P,E){var O,B=this.seriesModel.getViewRoot();return B.eachNode({attr:"viewChildren",order:"preorder"},function(q){var V=this._storage.background[q.getRawIndex()];if(V){var R=V.transformCoordToLocal(P,E),z=V.shape;if(z.x<=R[0]&&R[0]<=z.x+z.width&&z.y<=R[1]&&R[1]<=z.y+z.height)O={node:q,offsetX:R[0],offsetY:R[1]};else return!1}},this),O}});function D(){return{nodeGroup:[],background:[],content:[]}}function L(P,E,O,B,q,V,R,z,k,N){if(!R)return;var G=R.getLayout(),H=P.getData();if(H.setItemGraphicEl(R.dataIndex,null),!G||!G.isInView)return;var F=G.width,$=G.height,U=G.borderWidth,K=G.invisible,Q=R.getRawIndex(),j=z&&z.getRawIndex(),ee=R.viewChildren,re=G.upperHeight,te=ee&&ee.length,oe=R.getModel("itemStyle"),xe=R.getModel("emphasis.itemStyle"),se=ue("nodeGroup",d);if(!se)return;if(k.add(se),se.attr("position",[G.x||0,G.y||0]),se.__tmNodeWidth=F,se.__tmNodeHeight=$,G.isAboveViewRoot)return se;var ge=R.getModel(),we=ue("background",m,N,x);if(we&&ne(se,we,te&&G.upperLabelHeight),te)r.isHighDownDispatcher(se)&&r.setAsHighDownDispatcher(se,!1),we&&(r.setAsHighDownDispatcher(we,!0),H.setItemGraphicEl(R.dataIndex,we));else{var ie=ue("content",m,N,S);ie&&de(se,ie),we&&r.isHighDownDispatcher(we)&&r.setAsHighDownDispatcher(we,!1),r.setAsHighDownDispatcher(se,!0),H.setItemGraphicEl(R.dataIndex,se)}return se;function ne(he,pe,_e){if(pe.dataIndex=R.dataIndex,pe.seriesIndex=P.seriesIndex,pe.setShape({x:0,y:0,width:F,height:$}),K)Z(pe);else{pe.invisible=!1;var Ce=R.getVisual("borderColor",!0),Me=xe.get("borderColor"),Ae=C(oe);Ae.fill=Ce;var Be=T(xe);if(Be.fill=Me,_e){var Ve=F-2*U;X(Ae,Be,Ce,Ve,re,{x:U,y:0,width:Ve,height:re})}else Ae.text=Be.text=null;pe.setStyle(Ae),r.setElementHoverStyle(pe,Be)}he.add(pe)}function de(he,pe){pe.dataIndex=R.dataIndex,pe.seriesIndex=P.seriesIndex;var _e=Math.max(F-2*U,0),Ce=Math.max($-2*U,0);if(pe.culling=!0,pe.setShape({x:U,y:U,width:_e,height:Ce}),K)Z(pe);else{pe.invisible=!1;var Me=R.getVisual("color",!0),Ae=C(oe);Ae.fill=Me;var Be=T(xe);X(Ae,Be,Me,_e,Ce),pe.setStyle(Ae),r.setElementHoverStyle(pe,Be)}he.add(pe)}function Z(he){!he.invisible&&V.push(he)}function X(he,pe,_e,Ce,Me,Ae){var Be=ge.get("name"),Ve=ge.getModel(Ae?A:y),We=ge.getModel(Ae?b:_),He=Ve.getShallow("show");r.setLabelStyle(he,pe,Ve,We,{defaultText:He?Be:null,autoColor:_e,isRectText:!0,labelFetcher:P,labelDataIndex:R.dataIndex,labelProp:Ae?"upperLabel":"label"}),J(he,Ae,G),J(pe,Ae,G),Ae&&(he.textRect=t.clone(Ae)),he.truncate=He&&Ve.get("ellipsis")?{outerWidth:Ce,outerHeight:Me,minChar:2}:null}function J(he,pe,_e){var Ce=he.text;if(!pe&&_e.isLeafRoot&&Ce!=null){var Me=P.get("drillDownIcon",!0);he.text=Me?Me+" "+Ce:Ce}}function ue(he,pe,_e,Ce){var Me=j!=null&&O[he][j],Ae=q[he];return Me?(O[he][j]=null,le(Ae,Me,he)):K||(Me=new pe({z:I(_e,Ce)}),Me.__tmDepth=_e,Me.__tmStorageName=he,ve(Ae,Me,he)),E[he][Q]=Me}function le(he,pe,_e){var Ce=he[Q]={};Ce.old=_e==="nodeGroup"?pe.position.slice():t.extend({},pe.shape)}function ve(he,pe,_e){var Ce=he[Q]={},Me=R.parentNode;if(Me&&(!B||B.direction==="drillDown")){var Ae=0,Be=0,Ve=q.background[Me.getRawIndex()];!B&&Ve&&Ve.old&&(Ae=Ve.old.width,Be=Ve.old.height),Ce.old=_e==="nodeGroup"?[0,Be]:{x:Ae,y:Be,width:0,height:0}}Ce.fadein=_e!=="nodeGroup"}}function I(P,E){var O=P*w+E;return(O-1)/O}return gv=M,gv}var I_={},P_;function l5(){if(P_)return I_;P_=1;for(var e=ye,t=Ra(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(o,s){s.eachComponent({mainType:"series",subType:"treemap",query:o},p);function p(n,h){var u=["treemapZoomToNode","treemapRootToNode"],v=t.retrieveTargetInfo(o,u,n);if(v){var l=n.getViewRoot();l&&(o.direction=t.aboveViewRoot(l,v.node)?"rollUp":"drillDown"),n.resetViewRoot(v.node)}}}),I_}var pv,R_;function Ea(){if(R_)return pv;R_=1;var e=W,t=ut,r=Re(),a=r.linearMap,i=e.each,o=e.isObject,s=-1,p=function(x){var S=x.mappingMethod,T=x.type,C=this.option=e.clone(x);this.type=T,this.mappingMethod=S,this._normalizeData=A[S];var M=n[T];this.applyVisual=M.applyVisual,this.getColorMapper=M.getColorMapper,this._doMap=M._doMap[S],S==="piecewise"?(v(C),h(C)):S==="category"?C.categories?u(C):v(C,!0):(e.assert(S!=="linear"||C.dataExtent),v(C))};p.prototype={constructor:p,mapValueToVisual:function(x){var S=this._normalizeData(x);return this._doMap(S,x)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var n=p.visualHandlers={color:{applyVisual:d("color"),getColorMapper:function(){var x=this.option;return e.bind(x.mappingMethod==="category"?function(S,T){return!T&&(S=this._normalizeData(S)),m.call(this,S)}:function(S,T,C){var M=!!C;return!T&&(S=this._normalizeData(S)),C=t.fastLerp(S,x.parsedVisual,C),M?C:t.stringify(C,"rgba")},this)},_doMap:{linear:function(x){return t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")},category:m,piecewise:function(x,S){var T=y.call(this,S);return T==null&&(T=t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")),T},fixed:c}},colorHue:l(function(x,S){return t.modifyHSL(x,S)}),colorSaturation:l(function(x,S){return t.modifyHSL(x,null,S)}),colorLightness:l(function(x,S){return t.modifyHSL(x,null,null,S)}),colorAlpha:l(function(x,S){return t.modifyAlpha(x,S)}),opacity:{applyVisual:d("opacity"),_doMap:g([0,1])},liftZ:{applyVisual:d("liftZ"),_doMap:{linear:c,category:c,piecewise:c,fixed:c}},symbol:{applyVisual:function(x,S,T){var C=this.mapValueToVisual(x);if(e.isString(C))T("symbol",C);else if(o(C))for(var M in C)C.hasOwnProperty(M)&&T(M,C[M])},_doMap:{linear:f,category:m,piecewise:function(x,S){var T=y.call(this,S);return T==null&&(T=f.call(this,x)),T},fixed:c}},symbolSize:{applyVisual:d("symbolSize"),_doMap:g([0,1])}};function h(x){var S=x.pieceList;x.hasSpecialVisual=!1,e.each(S,function(T,C){T.originIndex=C,T.visual!=null&&(x.hasSpecialVisual=!0)})}function u(x){var S=x.categories,T=x.visual,C=x.categoryMap={};if(i(S,function(L,I){C[L]=I}),!e.isArray(T)){var M=[];e.isObject(T)?i(T,function(L,I){var P=C[I];M[P??s]=L}):M[s]=T,T=_(x,M)}for(var D=S.length-1;D>=0;D--)T[D]==null&&(delete C[S[D]],S.pop())}function v(x,S){var T=x.visual,C=[];e.isObject(T)?i(T,function(D){C.push(D)}):T!=null&&C.push(T);var M={color:1,symbol:1};!S&&C.length===1&&!M.hasOwnProperty(x.type)&&(C[1]=C[0]),_(x,C)}function l(x){return{applyVisual:function(S,T,C){S=this.mapValueToVisual(S),C("color",x(T("color"),S))},_doMap:g([0,1])}}function f(x){var S=this.option.visual;return S[Math.round(a(x,[0,1],[0,S.length-1],!0))]||{}}function d(x){return function(S,T,C){C(x,this.mapValueToVisual(S))}}function m(x){var S=this.option.visual;return S[this.option.loop&&x!==s?x%S.length:x]}function c(){return this.option.visual[0]}function g(x){return{linear:function(S){return a(S,x,this.option.visual,!0)},category:m,piecewise:function(S,T){var C=y.call(this,T);return C==null&&(C=a(S,x,this.option.visual,!0)),C},fixed:c}}function y(x){var S=this.option,T=S.pieceList;if(S.hasSpecialVisual){var C=p.findPieceIndex(x,T),M=T[C];if(M&&M.visual)return M.visual[this.type]}}function _(x,S){return x.visual=S,x.type==="color"&&(x.parsedVisual=e.map(S,function(T){return t.parse(T)})),S}var A={linear:function(x){return a(x,this.option.dataExtent,[0,1],!0)},piecewise:function(x){var S=this.option.pieceList,T=p.findPieceIndex(x,S,!0);if(T!=null)return a(T,[0,S.length-1],[0,1],!0)},category:function(x){var S=this.option.categories?this.option.categoryMap[x]:x;return S??s},fixed:e.noop};p.listVisualTypes=function(){var x=[];return e.each(n,function(S,T){x.push(T)}),x},p.addVisualHandler=function(x,S){n[x]=S},p.isValidType=function(x){return n.hasOwnProperty(x)},p.eachVisual=function(x,S,T){e.isObject(x)?e.each(x,S,T):S.call(T,x)},p.mapVisual=function(x,S,T){var C,M=e.isArray(x)?[]:e.isObject(x)?{}:(C=!0,null);return p.eachVisual(x,function(D,L){var I=S.call(T,D,L);C?M=I:M[L]=I}),M},p.retrieveVisuals=function(x){var S={},T;return x&&i(n,function(C,M){x.hasOwnProperty(M)&&(S[M]=x[M],T=!0)}),T?S:null},p.prepareVisualTypes=function(x){if(o(x)){var S=[];i(x,function(T,C){S.push(C)}),x=S}else if(e.isArray(x))x=x.slice();else return[];return x.sort(function(T,C){return C==="color"&&T!=="color"&&T.indexOf("color")===0?1:-1}),x},p.dependsOn=function(x,S){return S==="color"?!!(x&&x.indexOf(S)===0):x===S},p.findPieceIndex=function(x,S,T){for(var C,M=1/0,D=0,L=S.length;D<L;D++){var I=S[D].value;if(I!=null){if(I===x||typeof I=="string"&&I===x+"")return D;T&&B(I,D)}}for(var D=0,L=S.length;D<L;D++){var P=S[D],E=P.interval,O=P.close;if(E){if(E[0]===-1/0){if(b(O[1],x,E[1]))return D}else if(E[1]===1/0){if(b(O[0],E[0],x))return D}else if(b(O[0],E[0],x)&&b(O[1],x,E[1]))return D;T&&B(E[0],D),T&&B(E[1],D)}}if(T)return x===1/0?S.length-1:x===-1/0?0:C;function B(q,V){var R=Math.abs(q-x);R<M&&(M=R,C=V)}};function b(x,S,T){return x?S<=T:S<T}var w=p;return pv=w,pv}var mv,E_;function u5(){if(E_)return mv;E_=1;var e=Ea(),t=ut,r=W,a=r.isArray,i="itemStyle",o={seriesType:"treemap",reset:function(d,m,c,g){var y=d.getData().tree,_=y.root;_.isRemoved()||s(_,{},d.getViewRoot().getAncestors(),d)}};function s(d,m,c,g){var y=d.getModel(),_=d.getLayout();if(!(!_||_.invisible||!_.isInView)){var A=d.getModel(i),b=p(A,m,g),w=A.get("borderColor"),x=A.get("borderColorSaturation"),S;x!=null&&(S=n(b),w=h(x,S)),d.setVisual("borderColor",w);var T=d.viewChildren;if(!T||!T.length)S=n(b),d.setVisual("color",S);else{var C=v(d,y,_,A,b,T);r.each(T,function(M,D){if(M.depth>=c.length||M===c[M.depth]){var L=f(y,b,M,D,C,g);s(M,L,c,g)}})}}}function p(d,m,c){var g=r.extend({},m),y=c.designatedVisualItemStyle;return r.each(["color","colorAlpha","colorSaturation"],function(_){y[_]=m[_];var A=d.get(_);y[_]=null,A!=null&&(g[_]=A)}),g}function n(d){var m=u(d,"color");if(m){var c=u(d,"colorAlpha"),g=u(d,"colorSaturation");return g&&(m=t.modifyHSL(m,null,null,g)),c&&(m=t.modifyAlpha(m,c)),m}}function h(d,m){return m!=null?t.modifyHSL(m,null,null,d):null}function u(d,m){var c=d[m];if(c!=null&&c!=="none")return c}function v(d,m,c,g,y,_){if(!(!_||!_.length)){var A=l(m,"color")||y.color!=null&&y.color!=="none"&&(l(m,"colorAlpha")||l(m,"colorSaturation"));if(A){var b=m.get("visualMin"),w=m.get("visualMax"),x=c.dataExtent.slice();b!=null&&b<x[0]&&(x[0]=b),w!=null&&w>x[1]&&(x[1]=w);var S=m.get("colorMappingBy"),T={type:A.name,dataExtent:x,visual:A.range};T.type==="color"&&(S==="index"||S==="id")?(T.mappingMethod="category",T.loop=!0):T.mappingMethod="linear";var C=new e(T);return C.__drColorMappingBy=S,C}}}function l(d,m){var c=d.get(m);return a(c)&&c.length?{name:m,range:c}:null}function f(d,m,c,g,y,_){var A=r.extend({},m);if(y){var b=y.type,w=b==="color"&&y.__drColorMappingBy,x=w==="index"?g:w==="id"?_.mapIdToIndex(c.getId()):c.getValue(d.get("visualDimension"));A[b]=y.mapValueToVisual(x)}return A}return mv=o,mv}var yv,k_;function v5(){if(k_)return yv;k_=1;var e=W,t=Ke,r=Re(),a=r.parsePercent,i=r.MAX_SAFE_INTEGER,o=ze,s=Ra(),p=Math.max,n=Math.min,h=e.retrieve,u=e.each,v=["itemStyle","borderWidth"],l=["itemStyle","gapWidth"],f=["upperLabel","show"],d=["upperLabel","height"],m={seriesType:"treemap",reset:function(M,D,L,I){var P=L.getWidth(),E=L.getHeight(),O=M.option,B=o.getLayoutRect(M.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}),q=O.size||[],V=a(h(B.width,q[0]),P),R=a(h(B.height,q[1]),E),z=I&&I.type,k=["treemapZoomToNode","treemapRootToNode"],N=s.retrieveTargetInfo(I,k,M),G=z==="treemapRender"||z==="treemapMove"?I.rootRect:null,H=M.getViewRoot(),F=s.getPathToRoot(H);if(z!=="treemapMove"){var $=z==="treemapZoomToNode"?x(M,N,H,V,R):G?[G.width,G.height]:[V,R],U=O.sort;U&&U!=="asc"&&U!=="desc"&&(U="desc");var K={squareRatio:O.squareRatio,sort:U,leafDepth:O.leafDepth};H.hostTree.clearLayouts();var Q={x:0,y:0,width:$[0],height:$[1],area:$[0]*$[1]};H.setLayout(Q),c(H,K,!1,0);var Q=H.getLayout();u(F,function(ee,re){var te=(F[re+1]||H).getValue();ee.setLayout(e.extend({dataExtent:[te,te],borderWidth:0,upperHeight:0},Q))})}var j=M.getData().tree.root;j.setLayout(S(B,G,N),!0),M.setLayoutInfo(B),T(j,new t(-B.x,-B.y,P,E),F,H,0)}};function c(M,D,L,I){var P,E;if(!M.isRemoved()){var O=M.getLayout();P=O.width,E=O.height;var N=M.getModel(),B=N.get(v),q=N.get(l)/2,V=C(N),R=Math.max(B,V),z=B-q,k=R-q,N=M.getModel();M.setLayout({borderWidth:B,upperHeight:R,upperLabelHeight:V},!0),P=p(P-2*z,0),E=p(E-z-k,0);var G=P*E,H=g(M,N,G,D,L,I);if(H.length){var F={x:z,y:k,width:P,height:E},$=n(P,E),U=1/0,K=[];K.area=0;for(var Q=0,j=H.length;Q<j;){var ee=H[Q];K.push(ee),K.area+=ee.getLayout().area;var re=b(K,$,D.squareRatio);re<=U?(Q++,U=re):(K.area-=K.pop().getLayout().area,w(K,$,F,q,!1),$=n(F.width,F.height),K.length=K.area=0,U=1/0)}if(K.length&&w(K,$,F,q,!0),!L){var te=N.get("childrenVisibleMin");te!=null&&G<te&&(L=!0)}for(var Q=0,j=H.length;Q<j;Q++)c(H[Q],D,L,I+1)}}}function g(M,D,L,I,P,E){var O=M.children||[],B=I.sort;B!=="asc"&&B!=="desc"&&(B=null);var q=I.leafDepth!=null&&I.leafDepth<=E;if(P&&!q)return M.viewChildren=[];O=e.filter(O,function(N){return!N.isRemoved()}),_(O,B);var V=A(D,O,B);if(V.sum===0)return M.viewChildren=[];if(V.sum=y(D,L,V.sum,B,O),V.sum===0)return M.viewChildren=[];for(var R=0,z=O.length;R<z;R++){var k=O[R].getValue()/V.sum*L;O[R].setLayout({area:k})}return q&&(O.length&&M.setLayout({isLeafRoot:!0},!0),O.length=0),M.viewChildren=O,M.setLayout({dataExtent:V.dataExtent},!0),O}function y(M,D,L,I,P){if(!I)return L;for(var E=M.get("visibleMin"),O=P.length,B=O,q=O-1;q>=0;q--){var V=P[I==="asc"?O-q-1:q].getValue();V/L*D<E&&(B=q,L-=V)}return I==="asc"?P.splice(0,O-B):P.splice(B,O-B),L}function _(M,D){return D&&M.sort(function(L,I){var P=D==="asc"?L.getValue()-I.getValue():I.getValue()-L.getValue();return P===0?D==="asc"?L.dataIndex-I.dataIndex:I.dataIndex-L.dataIndex:P}),M}function A(M,D,L){for(var I=0,P=0,E=D.length;P<E;P++)I+=D[P].getValue();var O=M.get("visualDimension"),B;if(!D||!D.length)B=[NaN,NaN];else if(O==="value"&&L)B=[D[D.length-1].getValue(),D[0].getValue()],L==="asc"&&B.reverse();else{var B=[1/0,-1/0];u(D,function(V){var R=V.getValue(O);R<B[0]&&(B[0]=R),R>B[1]&&(B[1]=R)})}return{sum:I,dataExtent:B}}function b(M,D,L){for(var I=0,P=1/0,E=0,O,B=M.length;E<B;E++)O=M[E].getLayout().area,O&&(O<P&&(P=O),O>I&&(I=O));var q=M.area*M.area,V=D*D*L;return q?p(V*I/q,q/(V*P)):1/0}function w(M,D,L,I,P){var E=D===L.width?0:1,O=1-E,B=["x","y"],q=["width","height"],V=L[B[E]],R=D?M.area/D:0;(P||R>L[q[O]])&&(R=L[q[O]]);for(var z=0,k=M.length;z<k;z++){var N=M[z],G={},H=R?N.getLayout().area/R:0,F=G[q[O]]=p(R-2*I,0),$=L[B[E]]+L[q[E]]-V,U=z===k-1||$<H?$:H,K=G[q[E]]=p(U-2*I,0);G[B[O]]=L[B[O]]+n(I,F/2),G[B[E]]=V+n(I,K/2),V+=U,N.setLayout(G,!0)}L[B[O]]+=R,L[q[O]]-=R}function x(M,D,L,I,P){var E=(D||{}).node,O=[I,P];if(!E||E===L)return O;for(var B,q=I*P,V=q*M.option.zoomToNodeRatio;B=E.parentNode;){for(var R=0,z=B.children,k=0,N=z.length;k<N;k++)R+=z[k].getValue();var G=E.getValue();if(G===0)return O;V*=R/G;var H=B.getModel(),F=H.get(v),$=Math.max(F,C(H));V+=4*F*F+(3*F+$)*Math.pow(V,.5),V>i&&(V=i),E=B}V<q&&(V=q);var U=Math.pow(V/q,.5);return[I*U,P*U]}function S(M,D,L){if(D)return{x:D.x,y:D.y};var I={x:0,y:0};if(!L)return I;var P=L.node,E=P.getLayout();if(!E)return I;for(var O=[E.width/2,E.height/2],B=P;B;){var q=B.getLayout();O[0]+=q.x,O[1]+=q.y,B=B.parentNode}return{x:M.width/2-O[0],y:M.height/2-O[1]}}function T(M,D,L,I,P){var E=M.getLayout(),O=L[P],B=O&&O===M;if(!(O&&!B||P===L.length&&M!==I)){M.setLayout({isInView:!0,invisible:!B&&!D.intersect(E),isAboveViewRoot:B},!0);var q=new t(D.x-E.x,D.y-E.y,D.width,D.height);u(M.viewChildren||[],function(V){T(V,q,L,I,P+1)})}}function C(M){return M.get(f)?M.get(d):0}return yv=m,yv}var O_;function h5(){if(O_)return A_;O_=1;var e=ye;i5(),s5(),l5();var t=u5(),r=v5();return e.registerVisual(t),e.registerLayout(r),A_}var z_={},_v,B_;function c5(){if(B_)return _v;B_=1;var e=W,t=zt,r=t.enableClassCheck;function a(u){return"_EC_"+u}var i=function(u){this._directed=u||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},o=i.prototype;o.type="graph",o.isDirected=function(){return this._directed},o.addNode=function(u,v){u=u==null?""+v:""+u;var l=this._nodesMap;if(!l[a(u)]){var f=new s(u,v);return f.hostGraph=this,this.nodes.push(f),l[a(u)]=f,f}},o.getNodeByIndex=function(u){var v=this.data.getRawIndex(u);return this.nodes[v]},o.getNodeById=function(u){return this._nodesMap[a(u)]},o.addEdge=function(u,v,l){var f=this._nodesMap,d=this._edgesMap;if(typeof u=="number"&&(u=this.nodes[u]),typeof v=="number"&&(v=this.nodes[v]),s.isInstance(u)||(u=f[a(u)]),s.isInstance(v)||(v=f[a(v)]),!(!u||!v)){var m=u.id+"-"+v.id,c=new p(u,v,l);return c.hostGraph=this,this._directed&&(u.outEdges.push(c),v.inEdges.push(c)),u.edges.push(c),u!==v&&v.edges.push(c),this.edges.push(c),d[m]=c,c}},o.getEdgeByIndex=function(u){var v=this.edgeData.getRawIndex(u);return this.edges[v]},o.getEdge=function(u,v){s.isInstance(u)&&(u=u.id),s.isInstance(v)&&(v=v.id);var l=this._edgesMap;return this._directed?l[u+"-"+v]:l[u+"-"+v]||l[v+"-"+u]},o.eachNode=function(u,v){for(var l=this.nodes,f=l.length,d=0;d<f;d++)l[d].dataIndex>=0&&u.call(v,l[d],d)},o.eachEdge=function(u,v){for(var l=this.edges,f=l.length,d=0;d<f;d++)l[d].dataIndex>=0&&l[d].node1.dataIndex>=0&&l[d].node2.dataIndex>=0&&u.call(v,l[d],d)},o.breadthFirstTraverse=function(u,v,l,f){if(s.isInstance(v)||(v=this._nodesMap[a(v)]),!!v){for(var d=l==="out"?"outEdges":l==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!u.call(f,v,null))for(var c=[v];c.length;)for(var g=c.shift(),y=g[d],m=0;m<y.length;m++){var _=y[m],A=_.node1===g?_.node2:_.node1;if(!A.__visited){if(u.call(f,A,g))return;c.push(A),A.__visited=!0}}}},o.update=function(){for(var u=this.data,v=this.edgeData,l=this.nodes,f=this.edges,d=0,m=l.length;d<m;d++)l[d].dataIndex=-1;for(var d=0,m=u.count();d<m;d++)l[u.getRawIndex(d)].dataIndex=d;v.filterSelf(function(c){var g=f[v.getRawIndex(c)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});for(var d=0,m=f.length;d<m;d++)f[d].dataIndex=-1;for(var d=0,m=v.count();d<m;d++)f[v.getRawIndex(d)].dataIndex=d},o.clone=function(){for(var u=new i(this._directed),v=this.nodes,l=this.edges,f=0;f<v.length;f++)u.addNode(v[f].id,v[f].dataIndex);for(var f=0;f<l.length;f++){var d=l[f];u.addEdge(d.node1.id,d.node2.id,d.dataIndex)}return u};function s(u,v){this.id=u??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=v??-1}s.prototype={constructor:s,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(u){if(!(this.dataIndex<0)){var v=this.hostGraph,l=v.data.getItemModel(this.dataIndex);return l.getModel(u)}}};function p(u,v,l){this.node1=u,this.node2=v,this.dataIndex=l??-1}p.prototype.getModel=function(u){if(!(this.dataIndex<0)){var v=this.hostGraph,l=v.edgeData.getItemModel(this.dataIndex);return l.getModel(u)}};var n=function(u,v){return{getValue:function(l){var f=this[u][v];return f.get(f.getDimension(l||"value"),this.dataIndex)},setVisual:function(l,f){this.dataIndex>=0&&this[u][v].setItemVisual(this.dataIndex,l,f)},getVisual:function(l,f){return this[u][v].getItemVisual(this.dataIndex,l,f)},setLayout:function(l,f){this.dataIndex>=0&&this[u][v].setItemLayout(this.dataIndex,l,f)},getLayout:function(){return this[u][v].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[u][v].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[u][v].getRawIndex(this.dataIndex)}}};e.mixin(s,n("hostGraph","data")),e.mixin(p,n("hostGraph","edgeData")),i.Node=s,i.Edge=p,r(s),r(p);var h=i;return _v=h,_v}var xv,N_;function VM(){if(N_)return xv;N_=1;var e=W,t=Xt(),r=c5(),a=BM(),i=bi(),o=Cr,s=qr();function p(n,h,u,v,l){for(var f=new r(v),d=0;d<n.length;d++)f.addNode(e.retrieve(n[d].id,n[d].name,d),d);for(var m=[],c=[],g=0,d=0;d<h.length;d++){var y=h[d],_=y.source,A=y.target;f.addEdge(_,A,g)&&(c.push(y),m.push(e.retrieve(y.id,_+" > "+A)),g++)}var b=u.get("coordinateSystem"),w;if(b==="cartesian2d"||b==="polar")w=s(n,u);else{var x=o.get(b),S=x&&x.type!=="view"?x.dimensions||[]:[];e.indexOf(S,"value")<0&&S.concat(["value"]);var T=i(n,{coordDimensions:S});w=new t(T,u),w.initData(n)}var C=new t(["value"],u);return C.initData(c,m),l&&l(w,C),a({mainData:w,struct:f,structAttr:"graph",datas:{node:w,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),f.update(),f}return xv=p,xv}var $i={},V_;function Ms(){if(V_)return $i;V_=1;var e=W,t="-->",r=function(l){return l.get("autoCurveness")||null},a=function(l,f){var d=r(l),m=20,c=[];if(typeof d=="number")m=d;else if(e.isArray(d)){l.__curvenessList=d;return}f>m&&(m=f);var g=m%2?m+2:m+3;c=[];for(var y=0;y<g;y++)c.push((y%2?y+1:y)/10*(y%2?-1:1));l.__curvenessList=c},i=function(l,f,d){var m=[l.id,l.dataIndex].join("."),c=[f.id,f.dataIndex].join(".");return[d.uid,m,c].join(t)},o=function(l){var f=l.split(t);return[f[0],f[2],f[1]].join(t)},s=function(l,f){var d=i(l.node1,l.node2,f);return f.__edgeMap[d]},p=function(l,f){var d=n(i(l.node1,l.node2,f),f),m=n(i(l.node2,l.node1,f),f);return d+m},n=function(l,f){var d=f.__edgeMap;return d[l]?d[l].length:0};function h(l){r(l)&&(l.__curvenessList=[],l.__edgeMap={},a(l))}function u(l,f,d,m){if(r(d)){var c=i(l,f,d),g=d.__edgeMap,y=g[o(c)];g[c]&&!y?g[c].isForward=!0:y&&g[c]&&(y.isForward=!0,g[c].isForward=!1),g[c]=g[c]||[],g[c].push(m)}}function v(l,f,d,m){var c=r(f),g=e.isArray(c);if(!c)return null;var y=s(l,f);if(!y)return null;for(var _=-1,A=0;A<y.length;A++)if(y[A]===d){_=A;break}var b=p(l,f);a(f,b),l.lineStyle=l.lineStyle||{};var w=i(l.node1,l.node2,f),x=f.__curvenessList,S=g||b%2?0:1;if(y.isForward)return x[S+_];var T=o(w),C=n(T,f),M=x[_+C+S];return m?g?c&&c[0]===0?(C+S)%2?M:-M:((C%2?0:1)+S)%2?M:-M:(C+S)%2?M:-M:x[_+C+S]}return $i.initCurvenessList=h,$i.createEdgeMapForCurveness=u,$i.getCurvenessForEdge=v,$i}var Sv,H_;function f5(){if(H_)return Sv;H_=1;var e=ye,t=Xt(),r=W,a=Ie,i=a.defaultEmphasis,o=ot(),s=Ge(),p=s.encodeHTML,n=VM(),h=zn(),u=Ms(),v=u.initCurvenessList,l=u.createEdgeMapForCurveness,f=e.extendSeriesModel({type:"series.graph",init:function(m){f.superApply(this,"init",arguments);var c=this;function g(){return c._categoriesData}this.legendVisualProvider=new h(g,g),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeOption:function(m){f.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(m){f.superApply(this,"mergeDefaultAndTheme",arguments),i(m,["edgeLabel"],["show"])},getInitialData:function(m,c){var g=m.edges||m.links||[],y=m.data||m.nodes||[],_=this;if(y&&g){v(this);var A=n(y,g,this,!0,b);return r.each(A.edges,function(w){l(w.node1,w.node2,this,w.dataIndex)},this),A.data}function b(w,x){w.wrapMethod("getItemModel",function(L){var I=_._categoriesModels,P=L.getShallow("category"),E=I[P];return E&&(E.parentModel=L.parentModel,L.parentModel=E),L});var S=_.getModel("edgeLabel"),T=new o({label:S.option},S.parentModel,c),C=_.getModel("emphasis.edgeLabel"),M=new o({emphasis:{label:C.option}},C.parentModel,c);x.wrapMethod("getItemModel",function(L){return L.customizeGetParent(D),L});function D(L){return L=this.parsePath(L),L&&L[0]==="label"?T:L&&L[0]==="emphasis"&&L[1]==="label"?M:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(m,c,g){if(g==="edge"){var y=this.getData(),_=this.getDataParams(m,g),A=y.graph.getEdgeByIndex(m),b=y.getName(A.node1.dataIndex),w=y.getName(A.node2.dataIndex),x=[];return b!=null&&x.push(b),w!=null&&x.push(w),x=p(x.join(" > ")),_.value&&(x+=" : "+p(_.value)),x}else return f.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var m=r.map(this.option.categories||[],function(g){return g.value!=null?g:r.extend({value:0},g)}),c=new t(["value"],this);c.initData(m),this._categoriesData=c,this._categoriesModels=c.mapArray(function(g){return c.getItemModel(g,!0)})},setZoom:function(m){this.option.zoom=m},setCenter:function(m){this.option.center=m},isAnimationEnabled:function(){return f.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),d=f;return Sv=d,Sv}var bv,q_;function d5(){if(q_)return bv;q_=1;var e=fe,t=Ye(),r=e.Line.prototype,a=e.BezierCurve.prototype;function i(s){return isNaN(+s.cpx1)||isNaN(+s.cpy1)}var o=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(s,p){this[i(p)?"_buildPathLine":"_buildPathCurve"](s,p)},_buildPathLine:r.buildPath,_buildPathCurve:a.buildPath,pointAt:function(s){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](s)},_pointAtLine:r.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(s){var p=this.shape,n=i(p)?[p.x2-p.x1,p.y2-p.y1]:this._tangentAtCurve(s);return t.normalize(n,n)},_tangentAtCurve:a.tangentAt});return bv=o,bv}var wv,G_;function _g(){if(G_)return wv;G_=1;var e=W,t=Ye(),r=Kt(),a=d5(),i=fe,o=Re(),s=o.round,p=["fromSymbol","toSymbol"];function n(c){return"_"+c+"Type"}function h(c,g,y){var _=g.getItemVisual(y,c);if(!(!_||_==="none")){var A=g.getItemVisual(y,"color"),b=g.getItemVisual(y,c+"Size"),w=g.getItemVisual(y,c+"Rotate");e.isArray(b)||(b=[b,b]);var x=r.createSymbol(_,-b[0]/2,-b[1]/2,b[0],b[1],A);return x.__specifiedRotation=w==null||isNaN(w)?void 0:+w*Math.PI/180||0,x.name=c,x}}function u(c){var g=new a({name:"line",subPixelOptimize:!0});return v(g.shape,c),g}function v(c,g){c.x1=g[0][0],c.y1=g[0][1],c.x2=g[1][0],c.y2=g[1][1],c.percent=1;var y=g[2];y?(c.cpx1=y[0],c.cpy1=y[1]):(c.cpx1=NaN,c.cpy1=NaN)}function l(){var c=this,g=c.childOfName("fromSymbol"),y=c.childOfName("toSymbol"),_=c.childOfName("label");if(!(!g&&!y&&_.ignore)){for(var A=1,b=this.parent;b;)b.scale&&(A/=b.scale[0]),b=b.parent;var w=c.childOfName("line");if(!(!this.__dirty&&!w.__dirty)){var x=w.shape.percent,S=w.pointAt(0),T=w.pointAt(x),C=t.sub([],T,S);if(t.normalize(C,C),g){g.attr("position",S);var M=g.__specifiedRotation;if(M==null){var D=w.tangentAt(0);g.attr("rotation",Math.PI/2-Math.atan2(D[1],D[0]))}else g.attr("rotation",M);g.attr("scale",[A*x,A*x])}if(y){y.attr("position",T);var M=y.__specifiedRotation;if(M==null){var D=w.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(D[1],D[0]))}else y.attr("rotation",M);y.attr("scale",[A*x,A*x])}if(!_.ignore){_.attr("position",T);var L,I,P,E,O=_.__labelDistance,B=O[0]*A,q=O[1]*A,V=x/2,D=w.tangentAt(V),R=[D[1],-D[0]],z=w.pointAt(V);R[1]>0&&(R[0]=-R[0],R[1]=-R[1]);var k=D[0]<0?-1:1;if(_.__position!=="start"&&_.__position!=="end"){var N=-Math.atan2(D[1],D[0]);T[0]<S[0]&&(N=Math.PI+N),_.attr("rotation",N)}var G;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":G=-q,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":G=q,P="top";break;default:G=0,P="middle"}switch(_.__position){case"end":L=[C[0]*B+T[0],C[1]*q+T[1]],I=C[0]>.8?"left":C[0]<-.8?"right":"center",P=C[1]>.8?"top":C[1]<-.8?"bottom":"middle";break;case"start":L=[-C[0]*B+S[0],-C[1]*q+S[1]],I=C[0]>.8?"right":C[0]<-.8?"left":"center",P=C[1]>.8?"bottom":C[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":L=[B*k+S[0],S[1]+G],I=D[0]<0?"right":"left",E=[-B*k,-G];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":L=[z[0],z[1]+G],I="center",E=[0,-G];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":L=[-B*k+T[0],T[1]+G],I=D[0]>=0?"right":"left",E=[B*k,-G];break}_.attr({style:{textVerticalAlign:_.__verticalAlign||P,textAlign:_.__textAlign||I},position:L,scale:[A,A],origin:E})}}}}function f(c,g,y){i.Group.call(this),this._createLine(c,g,y)}var d=f.prototype;d.beforeUpdate=l,d._createLine=function(c,g,y){var _=c.hostModel,A=c.getItemLayout(g),b=u(A);b.shape.percent=0,i.initProps(b,{shape:{percent:1}},_,g),this.add(b);var w=new i.Text({name:"label",lineLabelOriginalOpacity:1});this.add(w),e.each(p,function(x){var S=h(x,c,g);this.add(S),this[n(x)]=c.getItemVisual(g,x)},this),this._updateCommonStl(c,g,y)},d.updateData=function(c,g,y){var _=c.hostModel,A=this.childOfName("line"),b=c.getItemLayout(g),w={shape:{}};v(w.shape,b),i.updateProps(A,w,_,g),e.each(p,function(x){var S=c.getItemVisual(g,x),T=n(x);if(this[T]!==S){this.remove(this.childOfName(x));var C=h(x,c,g);this.add(C)}this[T]=S},this),this._updateCommonStl(c,g,y)},d._updateCommonStl=function(c,g,y){var _=c.hostModel,A=this.childOfName("line"),b=y&&y.lineStyle,w=y&&y.hoverLineStyle,x=y&&y.labelModel,S=y&&y.hoverLabelModel;if(!y||c.hasItemOption){var T=c.getItemModel(g);b=T.getModel("lineStyle").getLineStyle(),w=T.getModel("emphasis.lineStyle").getLineStyle(),x=T.getModel("label"),S=T.getModel("emphasis.label")}var C=c.getItemVisual(g,"color"),M=e.retrieve3(c.getItemVisual(g,"opacity"),b.opacity,1);A.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:C,opacity:M},b)),A.hoverStyle=w,e.each(p,function(z){var k=this.childOfName(z);k&&(k.setColor(C),k.setStyle({opacity:M}))},this);var D=x.getShallow("show"),L=S.getShallow("show"),I=this.childOfName("label"),P,E;if((D||L)&&(P=C||"#000",E=_.getFormattedLabel(g,"normal",c.dataType),E==null)){var O=_.getRawValue(g);E=O==null?c.getName(g):isFinite(O)?s(O):O}var B=D?E:null,q=L?e.retrieve2(_.getFormattedLabel(g,"emphasis",c.dataType),E):null,V=I.style;if(B!=null||q!=null){i.setTextStyle(I.style,x,{text:B},{autoColor:P}),I.__textAlign=V.textAlign,I.__verticalAlign=V.textVerticalAlign,I.__position=x.get("position")||"middle";var R=x.get("distance");e.isArray(R)||(R=[R,R]),I.__labelDistance=R}q!=null?I.hoverStyle={text:q,textFill:S.getTextColor(!0),fontStyle:S.getShallow("fontStyle"),fontWeight:S.getShallow("fontWeight"),fontSize:S.getShallow("fontSize"),fontFamily:S.getShallow("fontFamily")}:I.hoverStyle={text:null},I.ignore=!D&&!L,i.setHoverStyle(this)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateLayout=function(c,g){this.setLinePoints(c.getItemLayout(g))},d.setLinePoints=function(c){var g=this.childOfName("line");v(g.shape,c),g.dirty()},e.inherits(f,i.Group);var m=f;return wv=m,wv}var Av,F_;function xg(){if(F_)return Av;F_=1;var e=fe,t=_g();function r(v){this._ctor=v||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(v){var l=this,f=l.group,d=l._lineData;l._lineData=v,d||f.removeAll();var m=p(v);v.diff(d).add(function(c){i(l,v,c,m)}).update(function(c,g){o(l,d,v,g,c,m)}).remove(function(c){f.remove(d.getItemGraphicEl(c))}).execute()};function i(v,l,f,d){var m=l.getItemLayout(f);if(h(m)){var c=new v._ctor(l,f,d);l.setItemGraphicEl(f,c),v.group.add(c)}}function o(v,l,f,d,m,c){var g=l.getItemGraphicEl(d);if(!h(f.getItemLayout(m))){v.group.remove(g);return}g?g.updateData(f,m,c):g=new v._ctor(f,m,c),f.setItemGraphicEl(m,g),v.group.add(g)}a.updateLayout=function(){var v=this._lineData;v&&v.eachItemGraphicEl(function(l,f){l.updateLayout(v,f)},this)},a.incrementalPrepareUpdate=function(v){this._seriesScope=p(v),this._lineData=null,this.group.removeAll()};function s(v){return v.animators&&v.animators.length>0}a.incrementalUpdate=function(v,l){function f(g){!g.isGroup&&!s(g)&&(g.incremental=g.useHoverLayer=!0)}for(var d=v.start;d<v.end;d++){var m=l.getItemLayout(d);if(h(m)){var c=new this._ctor(l,d,this._seriesScope);c.traverse(f),this.group.add(c),l.setItemGraphicEl(d,c)}}};function p(v){var l=v.hostModel;return{lineStyle:l.getModel("lineStyle").getLineStyle(),hoverLineStyle:l.getModel("emphasis.lineStyle").getLineStyle(),labelModel:l.getModel("label"),hoverLabelModel:l.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var v=this._incremental;v&&v.clearDisplaybles()};function n(v){return isNaN(v[0])||isNaN(v[1])}function h(v){return!n(v[0])&&!n(v[1])}var u=r;return Av=u,Av}var yo={},$_;function Sg(){if($_)return yo;$_=1;function e(r){var a=r.coordinateSystem;if(a.type!=="view")return 1;var i=r.option.nodeScaleRatio,o=a.scale,s=o&&o[0]||1,p=a.getZoom(),n=(p-1)*i+1;return n/s}function t(r){var a=r.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}return yo.getNodeGlobalScale=e,yo.getSymbolSize=t,yo}var Tv,U_;function g5(){if(U_)return Tv;U_=1;var e=vt,t=Ye(),r=Sg(),a=r.getSymbolSize,i=[],o=[],s=[],p=e.quadraticAt,n=t.distSquare,h=Math.abs;function u(l,f,d){for(var m=l[0],c=l[1],g=l[2],y=1/0,_,A=d*d,b=.1,w=.1;w<=.9;w+=.1){i[0]=p(m[0],c[0],g[0],w),i[1]=p(m[1],c[1],g[1],w);var x=h(n(i,f)-A);x<y&&(y=x,_=w)}for(var S=0;S<32;S++){var T=_+b;o[0]=p(m[0],c[0],g[0],_),o[1]=p(m[1],c[1],g[1],_),s[0]=p(m[0],c[0],g[0],T),s[1]=p(m[1],c[1],g[1],T);var x=n(o,f)-A;if(h(x)<.01)break;var C=n(s,f)-A;b/=2,x<0?C>=0?_=_+b:_=_-b:C>=0?_=_-b:_=_+b}return _}function v(l,f){var d=[],m=e.quadraticSubdivide,c=[[],[],[]],g=[[],[]],y=[];f/=2,l.eachEdge(function(_,A){var b=_.getLayout(),w=_.getVisual("fromSymbol"),x=_.getVisual("toSymbol");b.__original||(b.__original=[t.clone(b[0]),t.clone(b[1])],b[2]&&b.__original.push(t.clone(b[2])));var S=b.__original;if(b[2]!=null){if(t.copy(c[0],S[0]),t.copy(c[1],S[2]),t.copy(c[2],S[1]),w&&w!=="none"){var T=a(_.node1),C=u(c,S[0],T*f);m(c[0][0],c[1][0],c[2][0],C,d),c[0][0]=d[3],c[1][0]=d[4],m(c[0][1],c[1][1],c[2][1],C,d),c[0][1]=d[3],c[1][1]=d[4]}if(x&&x!=="none"){var T=a(_.node2),C=u(c,S[1],T*f);m(c[0][0],c[1][0],c[2][0],C,d),c[1][0]=d[1],c[2][0]=d[2],m(c[0][1],c[1][1],c[2][1],C,d),c[1][1]=d[1],c[2][1]=d[2]}t.copy(b[0],c[0]),t.copy(b[1],c[2]),t.copy(b[2],c[1])}else{if(t.copy(g[0],S[0]),t.copy(g[1],S[1]),t.sub(y,g[1],g[0]),t.normalize(y,y),w&&w!=="none"){var T=a(_.node1);t.scaleAndAdd(g[0],g[0],y,T*f)}if(x&&x!=="none"){var T=a(_.node2);t.scaleAndAdd(g[1],g[1],y,-T*f)}t.copy(b[0],g[0]),t.copy(b[1],g[1])}})}return Tv=v,Tv}var Cv,W_;function p5(){if(W_)return Cv;W_=1;var e=ye,t=W,r=Rn(),a=xg(),i=Nn(),o=dg(),s=Cs(),p=s.onIrrelevantElement,n=fe,h=g5(),u=Sg(),v=u.getNodeGlobalScale,l="__focusNodeAdjacency",f="__unfocusNodeAdjacency",d=["itemStyle","opacity"],m=["lineStyle","opacity"];function c(A,b){var w=A.getVisual("opacity");return w??A.getModel().get(b)}function g(A,b,w){var x=A.getGraphicEl(),S=c(A,b);w!=null&&(S==null&&(S=1),S*=w),x.downplay&&x.downplay(),x.traverse(function(T){if(!T.isGroup){var C=T.lineLabelOriginalOpacity;(C==null||w!=null)&&(C=S),T.setStyle("opacity",C)}})}function y(A,b){var w=c(A,b),x=A.getGraphicEl();x.traverse(function(S){!S.isGroup&&S.setStyle("opacity",w)}),x.highlight&&x.highlight()}var _=e.extendChartView({type:"graph",init:function(A,b){var w=new r,x=new a,S=this.group;this._controller=new i(b.getZr()),this._controllerHost={target:S},S.add(w.group),S.add(x.group),this._symbolDraw=w,this._lineDraw=x,this._firstRender=!0},render:function(A,b,w){var x=this,S=A.coordinateSystem;this._model=A;var T=this._symbolDraw,C=this._lineDraw,M=this.group;if(S.type==="view"){var D={position:S.position,scale:S.scale};this._firstRender?M.attr(D):n.updateProps(M,D,A)}h(A.getGraph(),v(A));var L=A.getData();T.updateData(L);var I=A.getEdgeData();C.updateData(I),this._updateNodeAndLinkScale(),this._updateController(A,b,w),clearTimeout(this._layoutTimeout);var P=A.forceLayout,E=A.get("force.layoutAnimation");P&&this._startForceLayoutIteration(P,E),L.eachItemGraphicEl(function(V,R){var z=L.getItemModel(R);V.off("drag").off("dragend");var k=z.get("draggable");k&&V.on("drag",function(){P&&(P.warmUp(),!this._layouting&&this._startForceLayoutIteration(P,E),P.setFixed(R),L.setItemLayout(R,V.position))},this).on("dragend",function(){P&&P.setUnfixed(R)},this),V.setDraggable(k&&P),V[l]&&V.off("mouseover",V[l]),V[f]&&V.off("mouseout",V[f]),z.get("focusNodeAdjacency")&&(V.on("mouseover",V[l]=function(){x._clearTimer(),w.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,dataIndex:V.dataIndex})}),V.on("mouseout",V[f]=function(){x._dispatchUnfocus(w)}))},this),L.graph.eachEdge(function(V){var R=V.getGraphicEl();R[l]&&R.off("mouseover",R[l]),R[f]&&R.off("mouseout",R[f]),V.getModel().get("focusNodeAdjacency")&&(R.on("mouseover",R[l]=function(){x._clearTimer(),w.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,edgeDataIndex:V.dataIndex})}),R.on("mouseout",R[f]=function(){x._dispatchUnfocus(w)}))});var O=A.get("layout")==="circular"&&A.get("circular.rotateLabel"),B=L.getLayout("cx"),q=L.getLayout("cy");L.eachItemGraphicEl(function(V,R){var z=L.getItemModel(R),k=z.get("label.rotate")||0,N=V.getSymbolPath();if(O){var G=L.getItemLayout(R),H=Math.atan2(G[1]-q,G[0]-B);H<0&&(H=Math.PI*2+H);var F=G[0]<B;F&&(H=H-Math.PI);var $=F?"left":"right";n.modifyLabelStyle(N,{textRotation:-H,textPosition:$,textOrigin:"center"},{textPosition:$})}else n.modifyLabelStyle(N,{textRotation:k*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(A,b){var w=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){w._unfocusDelayTimer=null,A.dispatchAction({type:"unfocusNodeAdjacency",seriesId:w._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(A,b,w,x){var S=A.getData(),T=S.graph,C=x.dataIndex,M=x.edgeDataIndex,D=T.getNodeByIndex(C),L=T.getEdgeByIndex(M);!D&&!L||(T.eachNode(function(I){g(I,d,.1)}),T.eachEdge(function(I){g(I,m,.1)}),D&&(y(D,d),t.each(D.edges,function(I){I.dataIndex<0||(y(I,m),y(I.node1,d),y(I.node2,d))})),L&&(y(L,m),y(L.node1,d),y(L.node2,d)))},unfocusNodeAdjacency:function(A,b,w,x){var S=A.getData().graph;S.eachNode(function(T){g(T,d)}),S.eachEdge(function(T){g(T,m)})},_startForceLayoutIteration:function(A,b){var w=this;(function x(){A.step(function(S){w.updateLayout(w._model),(w._layouting=!S)&&(b?w._layoutTimeout=setTimeout(x,16):x())})})()},_updateController:function(A,b,w){var x=this._controller,S=this._controllerHost,T=this.group;if(x.setPointerChecker(function(C,M,D){var L=T.getBoundingRect();return L.applyTransform(T.transform),L.contain(M,D)&&!p(C,w,A)}),A.coordinateSystem.type!=="view"){x.disable();return}x.enable(A.get("roam")),S.zoomLimit=A.get("scaleLimit"),S.zoom=A.coordinateSystem.getZoom(),x.off("pan").off("zoom").on("pan",function(C){o.updateViewOnPan(S,C.dx,C.dy),w.dispatchAction({seriesId:A.id,type:"graphRoam",dx:C.dx,dy:C.dy})}).on("zoom",function(C){o.updateViewOnZoom(S,C.scale,C.originX,C.originY),w.dispatchAction({seriesId:A.id,type:"graphRoam",zoom:C.scale,originX:C.originX,originY:C.originY}),this._updateNodeAndLinkScale(),h(A.getGraph(),v(A)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var A=this._model,b=A.getData(),w=v(A),x=[w,w];b.eachItemGraphicEl(function(S,T){S.attr("scale",x)})},updateLayout:function(A){h(A.getGraph(),v(A)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(A,b){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return Cv=_,Cv}var Z_={},Y_={},X_;function HM(){if(X_)return Y_;X_=1;var e=ye;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),Y_}var K_;function m5(){if(K_)return Z_;K_=1;var e=ye,t=gg(),r=t.updateCenterAndZoom;HM();var a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,o){o.eachComponent({mainType:"series",query:i},function(s){var p=s.coordinateSystem,n=r(p,i);s.setCenter&&s.setCenter(n.center),s.setZoom&&s.setZoom(n.zoom)})}),Z_}var Mv,Q_;function y5(){if(Q_)return Mv;Q_=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getGraph(),s=o.data,p=i.mapArray(i.getName);s.filterSelf(function(n){var h=s.getItemModel(n),u=h.getShallow("category");if(u!=null){typeof u=="number"&&(u=p[u]);for(var v=0;v<r.length;v++)if(!r[v].isSelected(u))return!1}return!0})},this)}return Mv=e,Mv}var Dv,j_;function _5(){if(j_)return Dv;j_=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getData(),s={};i.each(function(p){var n=i.getName(p);s["ec-"+n]=p;var h=i.getItemModel(p),u=h.get("itemStyle.color")||a.getColorFromPalette(n,r);i.setItemVisual(p,"color",u);for(var v=["opacity","symbol","symbolSize","symbolKeepAspect"],l=0;l<v.length;l++){var f=h.getShallow(v[l],!0);f!=null&&i.setItemVisual(p,v[l],f)}}),i.count()&&o.each(function(p){var n=o.getItemModel(p),h=n.getShallow("category");if(h!=null){typeof h=="string"&&(h=s["ec-"+h]);for(var u=["color","opacity","symbol","symbolSize","symbolKeepAspect"],v=0;v<u.length;v++)o.getItemVisual(p,u[v],!0)==null&&o.setItemVisual(p,u[v],i.getItemVisual(h,u[v]))}})})}return Dv=e,Dv}var Lv,J_;function x5(){if(J_)return Lv;J_=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),o=a.getEdgeData(),s=e(a.get("edgeSymbol")),p=e(a.get("edgeSymbolSize")),n="lineStyle.color".split("."),h="lineStyle.opacity".split(".");o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",p&&p[0]),o.setVisual("toSymbolSize",p&&p[1]),o.setVisual("color",a.get(n)),o.setVisual("opacity",a.get(h)),o.each(function(u){var v=o.getItemModel(u),l=i.getEdgeByIndex(u),f=e(v.getShallow("symbol",!0)),d=e(v.getShallow("symbolSize",!0)),m=v.get(n),c=v.get(h);switch(m){case"source":m=l.node1.getVisual("color");break;case"target":m=l.node2.getVisual("color");break}f[0]&&l.setVisual("fromSymbol",f[0]),f[1]&&l.setVisual("toSymbol",f[1]),d[0]&&l.setVisual("fromSymbolSize",d[0]),d[1]&&l.setVisual("toSymbolSize",d[1]),l.setVisual("color",m),l.setVisual("opacity",c)})})}return Lv=t,Lv}var _o={},e1;function qM(){if(e1)return _o;e1=1;var e=Ye(),t=W,r=Ms(),a=r.getCurvenessForEdge;function i(s){var p=s.coordinateSystem;if(!(p&&p.type!=="view")){var n=s.getGraph();n.eachNode(function(h){var u=h.getModel();h.setLayout([+u.get("x"),+u.get("y")])}),o(n,s)}}function o(s,p){s.eachEdge(function(n,h){var u=t.retrieve3(n.getModel().get("lineStyle.curveness"),-a(n,p,h,!0),0),v=e.clone(n.node1.getLayout()),l=e.clone(n.node2.getLayout()),f=[v,l];+u&&f.push([(v[0]+l[0])/2-(v[1]-l[1])*u,(v[1]+l[1])/2-(l[0]-v[0])*u]),n.setLayout(f)})}return _o.simpleLayout=i,_o.simpleLayoutEdge=o,_o}var Iv,t1;function S5(){if(t1)return Iv;t1=1;var e=W,t=e.each,r=qM(),a=r.simpleLayout,i=r.simpleLayoutEdge;function o(s,p){s.eachSeriesByType("graph",function(n){var h=n.get("layout"),u=n.coordinateSystem;if(u&&u.type!=="view"){var v=n.getData(),l=[];t(u.dimensions,function(y){l=l.concat(v.mapDimension(y,!0))});for(var f=0;f<v.count();f++){for(var d=[],m=!1,c=0;c<l.length;c++){var g=v.get(l[c],f);isNaN(g)||(m=!0),d.push(g)}m?v.setItemLayout(f,u.dataToPoint(d)):v.setItemLayout(f,[NaN,NaN])}i(v.graph,n)}else(!h||h==="none")&&a(n)})}return Iv=o,Iv}var Pv={},r1;function GM(){if(r1)return Pv;r1=1;var e=Ye(),t=Sg(),r=t.getSymbolSize,a=t.getNodeGlobalScale,i=W,o=Ms(),s=o.getCurvenessForEdge,p=Math.PI,n=[];function h(v,l){var f=v.coordinateSystem;if(!(f&&f.type!=="view")){var d=f.getBoundingRect(),m=v.getData(),c=m.graph,g=d.width/2+d.x,y=d.height/2+d.y,_=Math.min(d.width,d.height)/2,A=m.count();m.setLayout({cx:g,cy:y}),A&&(u[l](v,f,c,m,_,g,y,A),c.eachEdge(function(b,w){var x=i.retrieve3(b.getModel().get("lineStyle.curveness"),s(b,v,w),0),S=e.clone(b.node1.getLayout()),T=e.clone(b.node2.getLayout()),C,M=(S[0]+T[0])/2,D=(S[1]+T[1])/2;+x&&(x*=3,C=[g*x+M*(1-x),y*x+D*(1-x)]),b.setLayout([S,T,C])}))}}var u={value:function(v,l,f,d,m,c,g,y){var _=0,A=d.getSum("value"),b=Math.PI*2/(A||y);f.eachNode(function(w){var x=w.getValue("value"),S=b*(A?x:1)/2;_+=S,w.setLayout([m*Math.cos(_)+c,m*Math.sin(_)+g]),_+=S})},symbolSize:function(v,l,f,d,m,c,g,y){var _=0;n.length=y;var A=a(v);f.eachNode(function(x){var S=r(x);isNaN(S)&&(S=2),S<0&&(S=0),S*=A;var T=Math.asin(S/2/m);isNaN(T)&&(T=p/2),n[x.dataIndex]=T,_+=T*2});var b=(2*p-_)/y/2,w=0;f.eachNode(function(x){var S=b+n[x.dataIndex];w+=S,x.setLayout([m*Math.cos(w)+c,m*Math.sin(w)+g]),w+=S})}};return Pv.circularLayout=h,Pv}var Rv,a1;function b5(){if(a1)return Rv;a1=1;var e=GM(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i,"symbolSize")})}return Rv=r,Rv}var Ev={},i1;function w5(){if(i1)return Ev;i1=1;var e=Ye(),t=e.scaleAndAdd;function r(a,i,o){for(var s=o.rect,p=s.width,n=s.height,h=[s.x+p/2,s.y+n/2],u=o.gravity==null?.1:o.gravity,v=0;v<a.length;v++){var l=a[v];l.p||(l.p=e.create(p*(Math.random()-.5)+h[0],n*(Math.random()-.5)+h[1])),l.pp=e.clone(l.p),l.edges=null}var f=o.friction==null?.6:o.friction,d=f;return{warmUp:function(){d=f*.8},setFixed:function(m){a[m].fixed=!0},setUnfixed:function(m){a[m].fixed=!1},step:function(m){for(var c=[],g=a.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var A=_.n1,b=_.n2;e.sub(c,b.p,A.p);var w=e.len(c)-_.d,x=b.w/(A.w+b.w);isNaN(x)&&(x=0),e.normalize(c,c),!A.fixed&&t(A.p,A.p,c,x*w*d),!b.fixed&&t(b.p,b.p,c,-(1-x)*w*d)}}for(var y=0;y<g;y++){var S=a[y];S.fixed||(e.sub(c,h,S.p),t(S.p,S.p,c,u*d))}for(var y=0;y<g;y++)for(var A=a[y],T=y+1;T<g;T++){var b=a[T];e.sub(c,b.p,A.p);var w=e.len(c);w===0&&(e.set(c,Math.random()-.5,Math.random()-.5),w=1);var C=(A.rep+b.rep)/w/w;!A.fixed&&t(A.pp,A.pp,c,C),!b.fixed&&t(b.pp,b.pp,c,-C)}for(var M=[],y=0;y<g;y++){var S=a[y];S.fixed||(e.sub(M,S.p,S.pp),t(S.p,S.p,M,d),e.copy(S.pp,S.p))}d=d*.992,m&&m(a,i,d<.01)}}}return Ev.forceLayout=r,Ev}var kv,n1;function A5(){if(n1)return kv;n1=1;var e=w5(),t=e.forceLayout,r=qM(),a=r.simpleLayout,i=GM(),o=i.circularLayout,s=Re(),p=s.linearMap,n=Ye(),h=W,u=Ms(),v=u.getCurvenessForEdge;function l(f){f.eachSeriesByType("graph",function(d){var m=d.coordinateSystem;if(!(m&&m.type!=="view"))if(d.get("layout")==="force"){var c=d.preservedPoints||{},g=d.getGraph(),y=g.data,_=g.edgeData,A=d.getModel("force"),b=A.get("initLayout");d.preservedPoints?y.each(function(E){var O=y.getId(E);y.setItemLayout(E,c[O]||[NaN,NaN])}):!b||b==="none"?a(d):b==="circular"&&o(d,"value");var w=y.getDataExtent("value"),x=_.getDataExtent("value"),S=A.get("repulsion"),T=A.get("edgeLength");h.isArray(S)||(S=[S,S]),h.isArray(T)||(T=[T,T]),T=[T[1],T[0]];var C=y.mapArray("value",function(E,O){var B=y.getItemLayout(O),q=p(E,w,S);return isNaN(q)&&(q=(S[0]+S[1])/2),{w:q,rep:q,fixed:y.getItemModel(O).get("fixed"),p:!B||isNaN(B[0])||isNaN(B[1])?null:B}}),M=_.mapArray("value",function(E,O){var B=g.getEdgeByIndex(O),q=p(E,x,T);isNaN(q)&&(q=(T[0]+T[1])/2);var V=B.getModel(),R=h.retrieve3(V.get("lineStyle.curveness"),-v(B,d,O,!0),0);return{n1:C[B.node1.dataIndex],n2:C[B.node2.dataIndex],d:q,curveness:R,ignoreForceLayout:V.get("ignoreForceLayout")}}),m=d.coordinateSystem,D=m.getBoundingRect(),L=t(C,M,{rect:D,gravity:A.get("gravity"),friction:A.get("friction")}),I=L.step;L.step=function(E){for(var O=0,B=C.length;O<B;O++)C[O].fixed&&n.copy(C[O].p,g.getNodeByIndex(O).getLayout());I(function(q,V,R){for(var z=0,k=q.length;z<k;z++)q[z].fixed||g.getNodeByIndex(z).setLayout(q[z].p),c[y.getId(z)]=q[z].p;for(var z=0,k=V.length;z<k;z++){var N=V[z],G=g.getEdgeByIndex(z),H=N.n1.p,F=N.n2.p,$=G.getLayout();$=$?$.slice():[],$[0]=$[0]||[],$[1]=$[1]||[],n.copy($[0],H),n.copy($[1],F),+N.curveness&&($[2]=[(H[0]+F[0])/2-(H[1]-F[1])*N.curveness,(H[1]+F[1])/2-(F[0]-H[0])*N.curveness]),G.setLayout($)}E&&E(R)})},d.forceLayout=L,d.preservedPoints=c,L.step()}else d.forceLayout=null})}return kv=l,kv}var Ov,o1;function T5(){if(o1)return Ov;o1=1;var e=pg(),t=ze,r=t.getLayoutRect,a=bn();function i(s,p,n){var h=s.getBoxLayoutParams();return h.aspect=n,r(h,{width:p.getWidth(),height:p.getHeight()})}function o(s,p){var n=[];return s.eachSeriesByType("graph",function(h){var u=h.get("coordinateSystem");if(!u||u==="view"){var v=h.getData(),l=v.mapArray(function(w){var x=v.getItemModel(w);return[+x.get("x"),+x.get("y")]}),f=[],d=[];a.fromPoints(l,f,d),d[0]-f[0]===0&&(d[0]+=1,f[0]-=1),d[1]-f[1]===0&&(d[1]+=1,f[1]-=1);var m=(d[0]-f[0])/(d[1]-f[1]),c=i(h,p,m);isNaN(m)&&(f=[c.x,c.y],d=[c.x+c.width,c.y+c.height]);var g=d[0]-f[0],y=d[1]-f[1],_=c.width,A=c.height,b=h.coordinateSystem=new e;b.zoomLimit=h.get("scaleLimit"),b.setBoundingRect(f[0],f[1],g,y),b.setViewRect(c.x,c.y,_,A),b.setCenter(h.get("center")),b.setZoom(h.get("zoom")),n.push(b)}}),n}return Ov=o,Ov}var s1;function C5(){if(s1)return z_;s1=1;var e=ye;f5(),p5(),m5();var t=y5(),r=Ia(),a=_5(),i=x5(),o=S5(),s=b5(),p=A5(),n=T5();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(o),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,s),e.registerLayout(p),e.registerCoordinateSystem("graphView",{create:n}),z_}var l1={},zv,u1;function M5(){if(u1)return zv;u1=1;var e=Ai(),t=ft,r=t.extend({type:"series.gauge",getInitialData:function(i,o){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),a=r;return zv=a,zv}var Bv,v1;function D5(){if(v1)return Bv;v1=1;var e=at,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,o=Math.sin,s=a.r,p=a.width,n=a.angle,h=a.x-i(n)*p*(p>=s/3?1:2),u=a.y-o(n)*p*(p>=s/3?1:2);n=a.angle-Math.PI/2,r.moveTo(h,u),r.lineTo(a.x+i(n)*p,a.y+o(n)*p),r.lineTo(a.x+i(a.angle)*s,a.y+o(a.angle)*s),r.lineTo(a.x-i(n)*p,a.y-o(n)*p),r.lineTo(h,u)}});return Bv=t,Bv}var Nv,h1;function L5(){if(h1)return Nv;h1=1;var e=D5(),t=fe,r=Mr,a=Re(),i=a.parsePercent,o=a.round,s=a.linearMap;function p(l,f){var d=l.get("center"),m=f.getWidth(),c=f.getHeight(),g=Math.min(m,c),y=i(d[0],f.getWidth()),_=i(d[1],f.getHeight()),A=i(l.get("radius"),g/2);return{cx:y,cy:_,r:A}}function n(l,f){return f&&(typeof f=="string"?l=f.replace("{value}",l??""):typeof f=="function"&&(l=f(l))),l}var h=Math.PI*2,u=r.extend({type:"gauge",render:function(l,f,d){this.group.removeAll();var m=l.get("axisLine.lineStyle.color"),c=p(l,d);this._renderMain(l,f,d,m,c)},dispose:function(){},_renderMain:function(l,f,d,m,c){for(var g=this.group,y=l.getModel("axisLine"),_=y.getModel("lineStyle"),A=l.get("clockwise"),b=-l.get("startAngle")/180*Math.PI,w=-l.get("endAngle")/180*Math.PI,x=(w-b)%h,S=b,T=_.get("width"),C=y.get("show"),M=0;C&&M<m.length;M++){var D=Math.min(Math.max(m[M][0],0),1),w=b+x*D,L=new t.Sector({shape:{startAngle:S,endAngle:w,cx:c.cx,cy:c.cy,clockwise:A,r0:c.r-T,r:c.r},silent:!0});L.setStyle({fill:m[M][1]}),L.setStyle(_.getLineStyle(["color","borderWidth","borderColor"])),g.add(L),S=w}var I=function(E){if(E<=0)return m[0][1];for(var O=0;O<m.length;O++)if(m[O][0]>=E&&(O===0?0:m[O-1][0])<E)return m[O][1];return m[O-1][1]};if(!A){var P=b;b=w,w=P}this._renderTicks(l,f,d,I,c,b,w,A),this._renderPointer(l,f,d,I,c,b,w,A),this._renderTitle(l,f,d,I,c),this._renderDetail(l,f,d,I,c)},_renderTicks:function(l,f,d,m,c,g,y,_){for(var A=this.group,b=c.cx,w=c.cy,x=c.r,S=+l.get("min"),T=+l.get("max"),C=l.getModel("splitLine"),M=l.getModel("axisTick"),D=l.getModel("axisLabel"),L=l.get("splitNumber"),I=M.get("splitNumber"),P=i(C.get("length"),x),E=i(M.get("length"),x),O=g,B=(y-g)/L,q=B/I,V=C.getModel("lineStyle").getLineStyle(),R=M.getModel("lineStyle").getLineStyle(),z=0;z<=L;z++){var k=Math.cos(O),N=Math.sin(O);if(C.get("show")){var G=new t.Line({shape:{x1:k*x+b,y1:N*x+w,x2:k*(x-P)+b,y2:N*(x-P)+w},style:V,silent:!0});V.stroke==="auto"&&G.setStyle({stroke:m(z/L)}),A.add(G)}if(D.get("show")){var H=n(o(z/L*(T-S)+S),D.get("formatter")),F=D.get("distance"),$=m(z/L);A.add(new t.Text({style:t.setTextStyle({},D,{text:H,x:k*(x-P-F)+b,y:N*(x-P-F)+w,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:k<-.4?"left":k>.4?"right":"center"},{autoColor:$}),silent:!0}))}if(M.get("show")&&z!==L){for(var U=0;U<=I;U++){var k=Math.cos(O),N=Math.sin(O),K=new t.Line({shape:{x1:k*x+b,y1:N*x+w,x2:k*(x-E)+b,y2:N*(x-E)+w},silent:!0,style:R});R.stroke==="auto"&&K.setStyle({stroke:m((z+U/I)/L)}),A.add(K),O+=q}O-=q}else O+=B}},_renderPointer:function(l,f,d,m,c,g,y,_){var A=this.group,b=this._data;if(!l.get("pointer.show")){b&&b.eachItemGraphicEl(function(C){A.remove(C)});return}var w=[+l.get("min"),+l.get("max")],x=[g,y],S=l.getData(),T=S.mapDimension("value");S.diff(b).add(function(C){var M=new e({shape:{angle:g}});t.initProps(M,{shape:{angle:s(S.get(T,C),w,x,!0)}},l),A.add(M),S.setItemGraphicEl(C,M)}).update(function(C,M){var D=b.getItemGraphicEl(M);t.updateProps(D,{shape:{angle:s(S.get(T,C),w,x,!0)}},l),A.add(D),S.setItemGraphicEl(C,D)}).remove(function(C){var M=b.getItemGraphicEl(C);A.remove(M)}).execute(),S.eachItemGraphicEl(function(C,M){var D=S.getItemModel(M),L=D.getModel("pointer");C.setShape({x:c.cx,y:c.cy,width:i(L.get("width"),c.r),r:i(L.get("length"),c.r)}),C.useStyle(D.getModel("itemStyle").getItemStyle()),C.style.fill==="auto"&&C.setStyle("fill",m(s(S.get(T,M),w,[0,1],!0))),t.setHoverStyle(C,D.getModel("emphasis.itemStyle").getItemStyle())}),this._data=S},_renderTitle:function(l,f,d,m,c){var g=l.getData(),y=g.mapDimension("value"),_=l.getModel("title");if(_.get("show")){var A=_.get("offsetCenter"),b=c.cx+i(A[0],c.r),w=c.cy+i(A[1],c.r),x=+l.get("min"),S=+l.get("max"),T=l.getData().get(y,0),C=m(s(T,[x,S],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},_,{x:b,y:w,text:g.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}},_renderDetail:function(l,f,d,m,c){var g=l.getModel("detail"),y=+l.get("min"),_=+l.get("max");if(g.get("show")){var A=g.get("offsetCenter"),b=c.cx+i(A[0],c.r),w=c.cy+i(A[1],c.r),x=i(g.get("width"),c.r),S=i(g.get("height"),c.r),T=l.getData(),C=T.get(T.mapDimension("value"),0),M=m(s(C,[y,_],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},g,{x:b,y:w,text:n(C,g.get("formatter")),textWidth:isNaN(x)?null:x,textHeight:isNaN(S)?null:S,textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}}}),v=u;return Nv=v,Nv}var c1;function I5(){return c1||(c1=1,M5(),L5()),l1}var f1={},Vv,d1;function P5(){if(d1)return Vv;d1=1;var e=ye,t=W,r=Ai(),a=Ie,i=a.defaultEmphasis,o=St,s=o.makeSeriesEncodeForNameBased,p=zn(),n=e.extendSeriesModel({type:"series.funnel",init:function(u){n.superApply(this,"init",arguments),this.legendVisualProvider=new p(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(u)},getInitialData:function(u,v){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(s,this)})},_defaultLabelLine:function(u){i(u,"labelLine",["show"]);var v=u.labelLine,l=u.emphasis.labelLine;v.show=v.show&&u.label.show,l.show=l.show&&u.emphasis.label.show},getDataParams:function(u){var v=this.getData(),l=n.superCall(this,"getDataParams",u),f=v.mapDimension("value"),d=v.getSum(f);return l.percent=d?+(v.get(f,u)/d*100).toFixed(2):0,l.$vars.push("percent"),l},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),h=n;return Vv=h,Vv}var Hv,g1;function R5(){if(g1)return Hv;g1=1;var e=fe,t=W,r=Mr;function a(n,h){e.Group.call(this);var u=new e.Polygon,v=new e.Polyline,l=new e.Text;this.add(u),this.add(v),this.add(l),this.highDownOnUpdate=function(f,d){d==="emphasis"?(v.ignore=v.hoverIgnore,l.ignore=l.hoverIgnore):(v.ignore=v.normalIgnore,l.ignore=l.normalIgnore)},this.updateData(n,h,!0)}var i=a.prototype,o=["itemStyle","opacity"];i.updateData=function(n,h,u){var v=this.childAt(0),l=n.hostModel,f=n.getItemModel(h),d=n.getItemLayout(h),m=n.getItemModel(h).get(o);m=m??1,v.useStyle({}),u?(v.setShape({points:d.points}),v.setStyle({opacity:0}),e.initProps(v,{style:{opacity:m}},l,h)):e.updateProps(v,{style:{opacity:m},shape:{points:d.points}},l,h);var c=f.getModel("itemStyle"),g=n.getItemVisual(h,"color");v.setStyle(t.defaults({lineJoin:"round",fill:g},c.getItemStyle(["opacity"]))),v.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(n,h),e.setHoverStyle(this)},i._updateLabel=function(n,h){var u=this.childAt(1),v=this.childAt(2),l=n.hostModel,f=n.getItemModel(h),d=n.getItemLayout(h),m=d.label,A=n.getItemVisual(h,"color");e.updateProps(u,{shape:{points:m.linePoints||m.linePoints}},l,h),e.updateProps(v,{style:{x:m.x,y:m.y}},l,h),v.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var c=f.getModel("label"),g=f.getModel("emphasis.label"),y=f.getModel("labelLine"),_=f.getModel("emphasis.labelLine"),A=n.getItemVisual(h,"color");e.setLabelStyle(v.style,v.hoverStyle={},c,g,{labelFetcher:n.hostModel,labelDataIndex:h,defaultText:n.getName(h),autoColor:A,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),v.ignore=v.normalIgnore=!c.get("show"),v.hoverIgnore=!g.get("show"),u.ignore=u.normalIgnore=!y.get("show"),u.hoverIgnore=!_.get("show"),u.setStyle({stroke:A}),u.setStyle(y.getModel("lineStyle").getLineStyle()),u.hoverStyle=_.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var s=r.extend({type:"funnel",render:function(n,h,u){var v=n.getData(),l=this._data,f=this.group;v.diff(l).add(function(d){var m=new a(v,d);v.setItemGraphicEl(d,m),f.add(m)}).update(function(d,m){var c=l.getItemGraphicEl(m);c.updateData(v,d),f.add(c),v.setItemGraphicEl(d,c)}).remove(function(d){var m=l.getItemGraphicEl(d);f.remove(m)}).execute(),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),p=s;return Hv=p,Hv}var qv,p1;function E5(){if(p1)return qv;p1=1;var e=ze,t=Re(),r=t.parsePercent,a=t.linearMap;function i(n,h){return e.getLayoutRect(n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function o(n,h){for(var u=n.mapDimension("value"),v=n.mapArray(u,function(c){return c}),l=[],f=h==="ascending",d=0,m=n.count();d<m;d++)l[d]=d;return typeof h=="function"?l.sort(h):h!=="none"&&l.sort(function(c,g){return f?v[c]-v[g]:v[g]-v[c]}),l}function s(n){n.each(function(h){var u=n.getItemModel(h),v=u.getModel("label"),l=v.get("position"),f=u.get("orient"),d=u.getModel("labelLine"),m=n.getItemLayout(h),c=m.points,g=l==="inner"||l==="inside"||l==="center"||l==="insideLeft"||l==="insideRight",y,_,A,b;if(g)l==="insideLeft"?(_=(c[0][0]+c[3][0])/2+5,A=(c[0][1]+c[3][1])/2,y="left"):l==="insideRight"?(_=(c[1][0]+c[2][0])/2-5,A=(c[1][1]+c[2][1])/2,y="right"):(_=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,A=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,y="center"),b=[[_,A],[_,A]];else{var w,x,S,T,C=d.get("length");l==="left"?(w=(c[3][0]+c[0][0])/2,x=(c[3][1]+c[0][1])/2,S=w-C,_=S-5,y="right"):l==="right"?(w=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,S=w+C,_=S+5,y="left"):l==="top"?(w=(c[3][0]+c[0][0])/2,x=(c[3][1]+c[0][1])/2,T=x-C,A=T-5,y="center"):l==="bottom"?(w=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,T=x+C,A=T+5,y="center"):l==="rightTop"?(w=f==="horizontal"?c[3][0]:c[1][0],x=f==="horizontal"?c[3][1]:c[1][1],f==="horizontal"?(T=x-C,A=T-5,y="center"):(S=w+C,_=S+5,y="top")):l==="rightBottom"?(w=c[2][0],x=c[2][1],f==="horizontal"?(T=x+C,A=T+5,y="center"):(S=w+C,_=S+5,y="bottom")):l==="leftTop"?(w=c[0][0],x=f==="horizontal"?c[0][1]:c[1][1],f==="horizontal"?(T=x-C,A=T-5,y="center"):(S=w-C,_=S-5,y="right")):l==="leftBottom"?(w=f==="horizontal"?c[1][0]:c[3][0],x=f==="horizontal"?c[1][1]:c[2][1],f==="horizontal"?(T=x+C,A=T+5,y="center"):(S=w-C,_=S-5,y="right")):(w=(c[1][0]+c[2][0])/2,x=(c[1][1]+c[2][1])/2,f==="horizontal"?(T=x+C,A=T+5,y="center"):(S=w+C,_=S+5,y="left")),f==="horizontal"?(S=w,_=S):(T=x,A=T),b=[[w,x],[S,T]]}m.label={linePoints:b,x:_,y:A,verticalAlign:"middle",textAlign:y,inside:g}})}function p(n,h,u){n.eachSeriesByType("funnel",function(v){var l=v.getData(),f=l.mapDimension("value"),d=v.get("sort"),m=i(v,h),c=o(l,d),g=v.get("orient"),y=m.width,_=m.height,A=m.x,b=m.y,w=g==="horizontal"?[r(v.get("minSize"),_),r(v.get("maxSize"),_)]:[r(v.get("minSize"),y),r(v.get("maxSize"),y)],x=l.getDataExtent(f),S=v.get("min"),T=v.get("max");S==null&&(S=Math.min(x[0],0)),T==null&&(T=x[1]);var C=v.get("funnelAlign"),M=v.get("gap"),D=g==="horizontal"?y:_,L=(D-M*(l.count()-1))/l.count(),I=function(k,N){if(g==="horizontal"){var F=l.get(f,k)||0,G=a(F,[S,T],w,!0),H;switch(C){case"top":H=b;break;case"center":H=b+(_-G)/2;break;case"bottom":H=b+(_-G);break}return[[N,H],[N,H+G]]}var F=l.get(f,k)||0,$=a(F,[S,T],w,!0),U;switch(C){case"left":U=A;break;case"center":U=A+(y-$)/2;break;case"right":U=A+y-$;break}return[[U,N],[U+$,N]]};d==="ascending"&&(L=-L,M=-M,g==="horizontal"?A+=y:b+=_,c=c.reverse());for(var P=0;P<c.length;P++){var E=c[P],O=c[P+1],B=l.getItemModel(E);if(g==="horizontal"){var q=B.get("itemStyle.width");q==null?q=L:(q=r(q,y),d==="ascending"&&(q=-q));var V=I(E,A),R=I(O,A+q);A+=q+M,l.setItemLayout(E,{points:V.concat(R.slice().reverse())})}else{var z=B.get("itemStyle.height");z==null?z=L:(z=r(z,_),d==="ascending"&&(z=-z));var V=g==="horizontal"?I(E,A):I(E,b),R=g==="horizontal"?I(O,A+q):I(O,b+z);b+=z+M,l.setItemLayout(E,{points:V.concat(R.slice().reverse())})}}s(l)})}return qv=p,qv}var m1;function k5(){if(m1)return f1;m1=1;var e=ye;P5(),R5();var t=As(),r=E5(),a=Bn();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),f1}var y1={},_1={},Gv,x1;function O5(){if(x1)return Gv;x1=1;var e=W,t=Ie;function r(o){a(o),i(o)}function a(o){if(!o.parallel){var s=!1;e.each(o.series,function(p){p&&p.type==="parallel"&&(s=!0)}),s&&(o.parallel=[{}])}}function i(o){var s=t.normalizeToArray(o.parallelAxis);e.each(s,function(p){if(e.isObject(p)){var n=p.parallelIndex||0,h=t.normalizeToArray(o.parallel)[n];h&&h.parallelAxisDefault&&e.merge(p,h.parallelAxisDefault,!1)}})}return Gv=r,Gv}var S1={},Fv,b1;function z5(){if(b1)return Fv;b1=1;var e=W,t=sa(),r=function(i,o,s,p,n){t.call(this,i,o,s),this.type=p||"value",this.axisIndex=n};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return Fv=a,Fv}var $v,w1;function Ti(){if(w1)return $v;w1=1;function e(a,i,o,s,p,n){a=a||0;var h=o[1]-o[0];if(p!=null&&(p=r(p,[0,h])),n!=null&&(n=Math.max(n,p??0)),s==="all"){var u=Math.abs(i[1]-i[0]);u=r(u,[0,h]),p=n=r(u,[p,n]),s=0}i[0]=r(i[0],o),i[1]=r(i[1],o);var v=t(i,s);i[s]+=a;var l=p||0,f=o.slice();v.sign<0?f[0]+=l:f[1]-=l,i[s]=r(i[s],f);var d=t(i,s);p!=null&&(d.sign!==v.sign||d.span<p)&&(i[1-s]=i[s]+v.sign*p);var d=t(i,s);return n!=null&&d.span>n&&(i[1-s]=i[s]+d.sign*n),i}function t(a,i){var o=a[i]-a[1-i];return{span:Math.abs(o),sign:o>0?-1:o<0?1:i?-1:1}}function r(a,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,a))}return $v=e,$v}var Uv,A1;function B5(){if(A1)return Uv;A1=1;var e=W,t=Rt(),r=ze,a=hr(),i=z5(),o=fe,s=Re(),p=Ti(),n=e.each,h=Math.min,u=Math.max,v=Math.floor,l=Math.ceil,f=s.round,d=Math.PI;function m(A,b,w){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=A.dimensions,this._rect,this._model=A,this._init(A,b,w)}m.prototype={type:"parallel",constructor:m,_init:function(A,b,w){var x=A.dimensions,S=A.parallelAxisIndex;n(x,function(T,C){var M=S[C],D=b.getComponent("parallelAxis",M),L=this._axesMap.set(T,new i(T,a.createScaleByModel(D),[0,0],D.get("type"),M)),I=L.type==="category";L.onBand=I&&D.get("boundaryGap"),L.inverse=D.get("inverse"),D.axis=L,L.model=D,L.coordinateSystem=D.coordinateSystem=this},this)},update:function(A,b){this._updateAxesFromSeries(this._model,A)},containPoint:function(A){var b=this._makeLayoutInfo(),w=b.axisBase,x=b.layoutBase,S=b.pixelDimIndex,T=A[1-S],C=A[S];return T>=w&&T<=w+b.axisLength&&C>=x&&C<=x+b.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(A,b){b.eachSeries(function(w){if(A.contains(w,b)){var x=w.getData();n(this.dimensions,function(S){var T=this._axesMap.get(S);T.scale.unionExtentFromData(x,x.mapDimension(S)),a.niceScaleExtent(T.scale,T.model)},this)}},this)},resize:function(A,b){this._rect=r.getLayoutRect(A.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var A=this._model,b=this._rect,w=["x","y"],x=["width","height"],S=A.get("layout"),T=S==="horizontal"?0:1,C=b[x[T]],M=[0,C],D=this.dimensions.length,L=c(A.get("axisExpandWidth"),M),I=c(A.get("axisExpandCount")||0,[0,D]),P=A.get("axisExpandable")&&D>3&&D>I&&I>1&&L>0&&C>0,E=A.get("axisExpandWindow"),O;if(E)O=c(E[1]-E[0],M),E[1]=E[0]+O;else{O=c(L*(I-1),M);var B=A.get("axisExpandCenter")||v(D/2);E=[L*B-O/2],E[1]=E[0]+O}var q=(C-O)/(D-I);q<3&&(q=0);var V=[v(f(E[0]/L,1))+1,l(f(E[1]/L,1))-1],R=q/L*E[0];return{layout:S,pixelDimIndex:T,layoutBase:b[w[T]],layoutLength:C,axisBase:b[w[1-T]],axisLength:b[x[1-T]],axisExpandable:P,axisExpandWidth:L,axisCollapseWidth:q,axisExpandWindow:E,axisCount:D,winInnerIndices:V,axisExpandWindow0Pos:R}},_layoutAxes:function(){var A=this._rect,b=this._axesMap,w=this.dimensions,x=this._makeLayoutInfo(),S=x.layout;b.each(function(T){var C=[0,x.axisLength],M=T.inverse?1:0;T.setExtent(C[M],C[1-M])}),n(w,function(T,C){var M=(x.axisExpandable?y:g)(C,x),D={horizontal:{x:M.position,y:x.axisLength},vertical:{x:0,y:M.position}},L={horizontal:d/2,vertical:0},I=[D[S].x+A.x,D[S].y+A.y],P=L[S],E=t.create();t.rotate(E,E,P),t.translate(E,E,I),this._axesLayout[T]={position:I,rotation:P,transform:E,axisNameAvailableWidth:M.axisNameAvailableWidth,axisLabelShow:M.axisLabelShow,nameTruncateMaxWidth:M.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(A){return this._axesMap.get(A)},dataToPoint:function(A,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(A),b)},eachActiveState:function(A,b,w,x){w==null&&(w=0),x==null&&(x=A.count());var S=this._axesMap,T=this.dimensions,C=[],M=[];e.each(T,function(q){C.push(A.mapDimension(q)),M.push(S.get(q).model)});for(var D=this.hasAxisBrushed(),L=w;L<x;L++){var I;if(!D)I="normal";else{I="active";for(var P=A.getValues(C,L),E=0,O=T.length;E<O;E++){var B=M[E].getActiveState(P[E]);if(B==="inactive"){I="inactive";break}}}b(I,L)}},hasAxisBrushed:function(){for(var A=this.dimensions,b=this._axesMap,w=!1,x=0,S=A.length;x<S;x++)b.get(A[x]).model.getActiveState()!=="normal"&&(w=!0);return w},axisCoordToPoint:function(A,b){var w=this._axesLayout[b];return o.applyTransform([A,0],w.transform)},getAxisLayout:function(A){return e.clone(this._axesLayout[A])},getSlidedAxisExpandWindow:function(A){var b=this._makeLayoutInfo(),w=b.pixelDimIndex,x=b.axisExpandWindow.slice(),S=x[1]-x[0],T=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(A))return{behavior:"none",axisExpandWindow:x};var C=A[w]-b.layoutBase-b.axisExpandWindow0Pos,M,D="slide",L=b.axisCollapseWidth,I=this._model.get("axisExpandSlideTriggerArea"),P=I[0]!=null;if(L)P&&L&&C<S*I[0]?(D="jump",M=C-S*I[2]):P&&L&&C>S*(1-I[0])?(D="jump",M=C-S*(1-I[2])):(M=C-S*I[1])>=0&&(M=C-S*(1-I[1]))<=0&&(M=0),M*=b.axisExpandWidth/L,M?p(M,x,T,"all"):D="none";else{var S=x[1]-x[0],E=T[1]*C/S;x=[u(0,E-S/2)],x[1]=h(T[1],x[0]+S),x[0]=x[1]-S}return{axisExpandWindow:x,behavior:D}}};function c(A,b){return h(u(A,b[0]),b[1])}function g(A,b){var w=b.layoutLength/(b.axisCount-1);return{position:w*A,axisNameAvailableWidth:w,axisLabelShow:!0}}function y(A,b){var w=b.layoutLength,x=b.axisExpandWidth,S=b.axisCount,T=b.axisCollapseWidth,C=b.winInnerIndices,M,D=T,L=!1,I;return A<C[0]?(M=A*T,I=T):A<=C[1]?(M=b.axisExpandWindow0Pos+A*x-b.axisExpandWindow[0],D=x,L=!0):(M=w-(S-1-A)*T,I=T),{position:M,axisNameAvailableWidth:D,axisLabelShow:L,nameTruncateMaxWidth:I}}var _=m;return Uv=_,Uv}var T1;function FM(){if(T1)return S1;T1=1;var e=B5(),t=Cr;function r(a,i){var o=[];return a.eachComponent("parallel",function(s,p){var n=new e(s,a,i);n.name="parallel_"+p,n.resize(s,i),s.coordinateSystem=n,n.model=s,o.push(n)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="parallel"){var p=a.queryComponents({mainType:"parallel",index:s.get("parallelIndex"),id:s.get("parallelId")})[0];s.coordinateSystem=p.coordinateSystem}}),o}return t.register("parallel",{create:r}),S1}var Wv,C1;function N5(){if(C1)return Wv;C1=1;var e=W,t=ct,r=gi(),a=bs(),i=Re(),o=wi(),s=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(u){var v=this.activeIntervals=e.clone(u);if(v)for(var l=v.length-1;l>=0;l--)i.asc(v[l])},getActiveState:function(u){var v=this.activeIntervals;if(!v.length)return"normal";if(u==null||isNaN(u))return"inactive";if(v.length===1){var l=v[0];if(l[0]<=u&&u<=l[1])return"active"}else for(var f=0,d=v.length;f<d;f++)if(v[f][0]<=u&&u<=v[f][1])return"active";return"inactive"}}),p={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(s.prototype,o);function n(u,v){return v.type||(v.data?"category":"value")}a("parallel",s,n,p);var h=s;return Wv=h,Wv}var Zv,M1;function V5(){if(M1)return Zv;M1=1;var e=W,t=ct;N5();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var o=a.get("parallelIndex");return o!=null&&i.getComponent("parallel",o)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],o=e.filter(this.dependentModels.parallelAxis,function(s){return(s.get("parallelIndex")||0)===this.componentIndex},this);e.each(o,function(s){a.push("dim"+s.get("dim")),i.push(s.componentIndex)})}});return Zv=r,Zv}var D1={},L1={},I1;function H5(){if(I1)return L1;I1=1;var e=ye,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),L1}var Yv,P1;function bg(){if(P1)return Yv;P1=1;var e=W,t=Aa,r=fe,a=kM(),i=La(),o=e.curry,s=e.each,p=e.map,n=Math.min,h=Math.max,u=Math.pow,v=1e4,l=6,f=6,d="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},c={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function _(Z){t.call(this),this._zr=Z,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},s(se,function(X,J){this._handlers[J]=e.bind(X,this)},this)}_.prototype={constructor:_,enableBrush:function(Z){return this._brushType&&b(this),Z.brushType&&A(this,Z),this},setPanels:function(Z){if(Z&&Z.length){var X=this._panels={};e.each(Z,function(J){X[J.panelId]=e.clone(J)})}else this._panels=null;return this},mount:function(Z){Z=Z||{},this._enableGlobalPan=Z.enableGlobalPan;var X=this.group;return this._zr.add(X),X.attr({position:Z.position||[0,0],rotation:Z.rotation||0,scale:Z.scale||[1,1]}),this._transform=X.getLocalTransform(),this},eachCover:function(Z,X){s(this._covers,Z,X)},updateCovers:function(Z){Z=e.map(Z,function(Me){return e.merge(e.clone(g),Me,!0)});var X="\0-brush-index-",J=this._covers,ue=this._covers=[],le=this,ve=this._creatingCover;return new i(J,Z,pe,he).add(_e).update(_e).remove(Ce).execute(),this;function he(Me,Ae){return(Me.id!=null?Me.id:X+Ae)+"-"+Me.brushType}function pe(Me,Ae){return he(Me.__brushOption,Ae)}function _e(Me,Ae){var Be=Z[Me];if(Ae!=null&&J[Ae]===ve)ue[Me]=J[Ae];else{var Ve=ue[Me]=Ae!=null?(J[Ae].__brushOption=Be,J[Ae]):T(le,S(le,Be));D(le,Ve)}}function Ce(Me){J[Me]!==ve&&le.group.remove(J[Me])}},unmount:function(){return this.enableBrush(!1),E(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(_,t);function A(Z,X){var J=Z._zr;Z._enableGlobalPan||a.take(J,d,Z._uid),w(J,Z._handlers),Z._brushType=X.brushType,Z._brushOption=e.merge(e.clone(g),X,!0)}function b(Z){var X=Z._zr;a.release(X,d,Z._uid),x(X,Z._handlers),Z._brushType=Z._brushOption=null}function w(Z,X){s(X,function(J,ue){Z.on(ue,J)})}function x(Z,X){s(X,function(J,ue){Z.off(ue,J)})}function S(Z,X){var J=ie[X.brushType].createCover(Z,X);return J.__brushOption=X,M(J,X),Z.group.add(J),J}function T(Z,X){var J=L(X);return J.endCreating&&(J.endCreating(Z,X),M(X,X.__brushOption)),X}function C(Z,X){var J=X.__brushOption;L(X).updateCoverShape(Z,X,J.range,J)}function M(Z,X){var J=X.z;J==null&&(J=v),Z.traverse(function(ue){ue.z=J,ue.z2=J})}function D(Z,X){L(X).updateCommon(Z,X),C(Z,X)}function L(Z){return ie[Z.__brushOption.brushType]}function I(Z,X,J){var ue=Z._panels;if(!ue)return!0;var le,ve=Z._transform;return s(ue,function(he){he.isTargetByCursor(X,J,ve)&&(le=he)}),le}function P(Z,X){var J=Z._panels;if(!J)return!0;var ue=X.__brushOption.panelId;return ue!=null?J[ue]:!0}function E(Z){var X=Z._covers,J=X.length;return s(X,function(ue){Z.group.remove(ue)},Z),X.length=0,!!J}function O(Z,X){var J=p(Z._covers,function(ue){var le=ue.__brushOption,ve=e.clone(le.range);return{brushType:le.brushType,panelId:le.panelId,range:ve}});Z.trigger("brush",J,{isEnd:!!X.isEnd,removeOnClick:!!X.removeOnClick})}function B(Z){var X=Z._track;if(!X.length)return!1;var J=X[X.length-1],ue=X[0],le=J[0]-ue[0],ve=J[1]-ue[1],he=u(le*le+ve*ve,.5);return he>l}function q(Z){var X=Z.length-1;return X<0&&(X=0),[Z[0],Z[X]]}function V(Z,X,J,ue){var le=new r.Group;return le.add(new r.Rect({name:"main",style:N(J),silent:!0,draggable:!0,cursor:"move",drift:o(Z,X,le,"nswe"),ondragend:o(O,X,{isEnd:!0})})),s(ue,function(ve){le.add(new r.Rect({name:ve,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:o(Z,X,le,ve),ondragend:o(O,X,{isEnd:!0})}))}),le}function R(Z,X,J,ue){var le=ue.brushStyle.lineWidth||0,ve=h(le,f),he=J[0][0],pe=J[1][0],_e=he-le/2,Ce=pe-le/2,Me=J[0][1],Ae=J[1][1],Be=Me-ve+le/2,Ve=Ae-ve+le/2,We=Me-he,He=Ae-pe,Ze=We+le,Qe=He+le;k(Z,X,"main",he,pe,We,He),ue.transformable&&(k(Z,X,"w",_e,Ce,ve,Qe),k(Z,X,"e",Be,Ce,ve,Qe),k(Z,X,"n",_e,Ce,Ze,ve),k(Z,X,"s",_e,Ve,Ze,ve),k(Z,X,"nw",_e,Ce,ve,ve),k(Z,X,"ne",Be,Ce,ve,ve),k(Z,X,"sw",_e,Ve,ve,ve),k(Z,X,"se",Be,Ve,ve,ve))}function z(Z,X){var J=X.__brushOption,ue=J.transformable,le=X.childAt(0);le.useStyle(N(J)),le.attr({silent:!ue,cursor:ue?"move":"default"}),s(["w","e","n","s","se","sw","ne","nw"],function(ve){var he=X.childOfName(ve),pe=F(Z,ve);he&&he.attr({silent:!ue,invisible:!ue,cursor:ue?c[pe]+"-resize":null})})}function k(Z,X,J,ue,le,ve,he){var pe=X.childOfName(J);pe&&pe.setShape(j(Q(Z,X,[[ue,le],[ue+ve,le+he]])))}function N(Z){return e.defaults({strokeNoScale:!0},Z.brushStyle)}function G(Z,X,J,ue){var le=[n(Z,J),n(X,ue)],ve=[h(Z,J),h(X,ue)];return[[le[0],ve[0]],[le[1],ve[1]]]}function H(Z){return r.getTransform(Z.group)}function F(Z,X){if(X.length>1){X=X.split("");var J=[F(Z,X[0]),F(Z,X[1])];return(J[0]==="e"||J[0]==="w")&&J.reverse(),J.join("")}else{var ue={w:"left",e:"right",n:"top",s:"bottom"},le={left:"w",right:"e",top:"n",bottom:"s"},J=r.transformDirection(ue[X],H(Z));return le[J]}}function $(Z,X,J,ue,le,ve,he,pe){var _e=ue.__brushOption,Ce=Z(_e.range),Me=K(J,ve,he);s(le.split(""),function(Ae){var Be=m[Ae];Ce[Be[0]][Be[1]]+=Me[Be[0]]}),_e.range=X(G(Ce[0][0],Ce[1][0],Ce[0][1],Ce[1][1])),D(J,ue),O(J,{isEnd:!1})}function U(Z,X,J,ue,le){var ve=X.__brushOption.range,he=K(Z,J,ue);s(ve,function(pe){pe[0]+=he[0],pe[1]+=he[1]}),D(Z,X),O(Z,{isEnd:!1})}function K(Z,X,J){var ue=Z.group,le=ue.transformCoordToLocal(X,J),ve=ue.transformCoordToLocal(0,0);return[le[0]-ve[0],le[1]-ve[1]]}function Q(Z,X,J){var ue=P(Z,X);return ue&&ue!==!0?ue.clipPath(J,Z._transform):e.clone(J)}function j(Z){var X=n(Z[0][0],Z[1][0]),J=n(Z[0][1],Z[1][1]),ue=h(Z[0][0],Z[1][0]),le=h(Z[0][1],Z[1][1]);return{x:X,y:J,width:ue-X,height:le-J}}function ee(Z,X,J){if(!(!Z._brushType||we(Z,X))){var ue=Z._zr,le=Z._covers,ve=I(Z,X,J);if(!Z._dragging)for(var he=0;he<le.length;he++){var pe=le[he].__brushOption;if(ve&&(ve===!0||pe.panelId===ve.panelId)&&ie[pe.brushType].contain(le[he],J[0],J[1]))return}ve&&ue.setCursorStyle("crosshair")}}function re(Z){var X=Z.event;X.preventDefault&&X.preventDefault()}function te(Z,X,J){return Z.childOfName("main").contain(X,J)}function oe(Z,X,J,ue){var le=Z._creatingCover,ve=Z._creatingPanel,he=Z._brushOption,pe;if(Z._track.push(J.slice()),B(Z)||le){if(ve&&!le){he.brushMode==="single"&&E(Z);var _e=e.clone(he);_e.brushType=xe(_e.brushType,ve),_e.panelId=ve===!0?null:ve.panelId,le=Z._creatingCover=S(Z,_e),Z._covers.push(le)}if(le){var Ce=ie[xe(Z._brushType,ve)],Me=le.__brushOption;Me.range=Ce.getCreatingRange(Q(Z,le,Z._track)),ue&&(T(Z,le),Ce.updateCommon(Z,le)),C(Z,le),pe={isEnd:ue}}}else ue&&he.brushMode==="single"&&he.removeOnClick&&I(Z,X,J)&&E(Z)&&(pe={isEnd:ue,removeOnClick:!0});return pe}function xe(Z,X){return Z==="auto"?X.defaultBrushType:Z}var se={mousedown:function(Z){if(this._dragging)ge(this,Z);else if(!Z.target||!Z.target.draggable){re(Z);var X=this.group.transformCoordToLocal(Z.offsetX,Z.offsetY);this._creatingCover=null;var J=this._creatingPanel=I(this,Z,X);J&&(this._dragging=!0,this._track=[X.slice()])}},mousemove:function(Z){var X=Z.offsetX,J=Z.offsetY,ue=this.group.transformCoordToLocal(X,J);if(ee(this,Z,ue),this._dragging){re(Z);var le=oe(this,Z,ue,!1);le&&O(this,le)}},mouseup:function(Z){ge(this,Z)}};function ge(Z,X){if(Z._dragging){re(X);var J=X.offsetX,ue=X.offsetY,le=Z.group.transformCoordToLocal(J,ue),ve=oe(Z,X,le,!0);Z._dragging=!1,Z._track=[],Z._creatingCover=null,ve&&O(Z,ve)}}function we(Z,X,J){var ue=Z._zr;return X<0||X>ue.getWidth()||J<0||J>ue.getHeight()}var ie={lineX:ne(0),lineY:ne(1),rect:{createCover:function(Z,X){return V(o($,function(J){return J},function(J){return J}),Z,X,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(Z){var X=q(Z);return G(X[1][0],X[1][1],X[0][0],X[0][1])},updateCoverShape:function(Z,X,J,ue){R(Z,X,J,ue)},updateCommon:z,contain:te},polygon:{createCover:function(Z,X){var J=new r.Group;return J.add(new r.Polyline({name:"main",style:N(X),silent:!0})),J},getCreatingRange:function(Z){return Z},endCreating:function(Z,X){X.remove(X.childAt(0)),X.add(new r.Polygon({name:"main",draggable:!0,drift:o(U,Z,X),ondragend:o(O,Z,{isEnd:!0})}))},updateCoverShape:function(Z,X,J,ue){X.childAt(0).setShape({points:Q(Z,X,J)})},updateCommon:z,contain:te}};function ne(Z){return{createCover:function(X,J){return V(o($,function(ue){var le=[ue,[0,100]];return Z&&le.reverse(),le},function(ue){return ue[Z]}),X,J,[["w","e"],["n","s"]][Z])},getCreatingRange:function(X){var J=q(X),ue=n(J[0][Z],J[1][Z]),le=h(J[0][Z],J[1][Z]);return[ue,le]},updateCoverShape:function(X,J,ue,le){var ve,he=P(X,J);if(he!==!0&&he.getLinearBrushOtherExtent)ve=he.getLinearBrushOtherExtent(Z,X._transform);else{var pe=X._zr;ve=[0,[pe.getWidth(),pe.getHeight()][1-Z]]}var _e=[ue,ve];Z&&_e.reverse(),R(X,J,_e,le)},updateCommon:z,contain:te}}var de=_;return Yv=de,Yv}var Ui={},R1;function $M(){if(R1)return Ui;R1=1;var e=Ke,t=Cs(),r=t.onIrrelevantElement,a=fe;function i(n){return n=p(n),function(h,u){return a.clipPointsByRect(h,n)}}function o(n,h){return n=p(n),function(u){var v=h??u,l=v?n.width:n.height,f=v?n.x:n.y;return[f,f+(l||0)]}}function s(n,h,u){return n=p(n),function(v,l,f){return n.contain(l[0],l[1])&&!r(v,h,u)}}function p(n){return e.create(n)}return Ui.makeRectPanelClipPath=i,Ui.makeLinearBrushOtherExtent=o,Ui.makeRectIsTargetByCursor=s,Ui}var Xv,E1;function q5(){if(E1)return Xv;E1=1;var e=ye,t=W,r=la(),a=bg(),i=$M(),o=fe,s=["axisLine","axisTickLabel","axisName"],p=e.extendComponentView({type:"parallelAxis",init:function(l,f){p.superApply(this,"init",arguments),(this._brushController=new a(f.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(l,f,d,m){if(!n(l,f,m)){this.axisModel=l,this.api=d,this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),!!l.get("show")){var g=u(l,f),y=g.coordinateSystem,_=l.getAreaSelectStyle(),A=_.width,b=l.axis.dim,w=y.getAxisLayout(b),x=t.extend({strokeContainThreshold:A},w),S=new r(l,x);t.each(s,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(x,_,l,g,A,d);var T=m&&m.animation===!1?null:l;o.groupTransition(c,this._axisGroup,T)}}},_refreshBrushController:function(l,f,d,m,c,g){var y=d.axis.getExtent(),_=y[1]-y[0],A=Math.min(30,Math.abs(_)*.1),b=o.BoundingRect.create({x:y[0],y:-c/2,width:_,height:c});b.x-=A,b.width+=2*A,this._brushController.mount({enableGlobalPan:!0,rotation:l.rotation,position:l.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(b),isTargetByCursor:i.makeRectIsTargetByCursor(b,g,m),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(b,0)}]).enableBrush({brushType:"lineX",brushStyle:f,removeOnClick:!0}).updateCovers(h(d))},_onBrush:function(l,f){var d=this.axisModel,m=d.axis,c=t.map(l,function(g){return[m.coordToData(g.range[0],!0),m.coordToData(g.range[1],!0)]});(!d.option.realtime===f.isEnd||f.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:c})},dispose:function(){this._brushController.dispose()}});function n(l,f,d){return d&&d.type==="axisAreaSelect"&&f.findComponents({mainType:"parallelAxis",query:d})[0]===l}function h(l){var f=l.axis;return t.map(l.activeIntervals,function(d){return{brushType:"lineX",panelId:"pl",range:[f.dataToCoord(d[0],!0),f.dataToCoord(d[1],!0)]}})}function u(l,f){return f.getComponent("parallel",l.get("parallelIndex"))}var v=p;return Xv=v,Xv}var k1;function G5(){return k1||(k1=1,FM(),H5(),q5()),D1}var O1;function UM(){if(O1)return _1;O1=1;var e=ye,t=W,r=vr,a=O5();FM(),V5(),G5();var i=5;e.extendComponentView({type:"parallel",render:function(p,n,h){this._model=p,this._api=h,this._handlers||(this._handlers={},t.each(o,function(u,v){h.getZr().on(v,this._handlers[v]=t.bind(u,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",p.get("axisExpandRate"),"fixRate")},dispose:function(p,n){t.each(this._handlers,function(h,u){n.getZr().off(u,h)}),this._handlers=null},_throttledDispatchExpand:function(p){this._dispatchExpand(p)},_dispatchExpand:function(p){p&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},p))}});var o={mousedown:function(p){s(this,"click")&&(this._mouseDownPoint=[p.offsetX,p.offsetY])},mouseup:function(p){var n=this._mouseDownPoint;if(s(this,"click")&&n){var h=[p.offsetX,p.offsetY],u=Math.pow(n[0]-h[0],2)+Math.pow(n[1]-h[1],2);if(u>i)return;var v=this._model.coordinateSystem.getSlidedAxisExpandWindow([p.offsetX,p.offsetY]);v.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:v.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(p){if(!(this._mouseDownPoint||!s(this,"mousemove"))){var n=this._model,h=n.coordinateSystem.getSlidedAxisExpandWindow([p.offsetX,p.offsetY]),u=h.behavior;u==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(u==="none"?null:{axisExpandWindow:h.axisExpandWindow,animation:u==="jump"?null:!1})}}};function s(p,n){var h=p._model;return h.get("axisExpandable")&&h.get("axisExpandTriggerOn")===n}return e.registerPreprocessor(a),_1}var Kv,z1;function F5(){if(z1)return Kv;z1=1;var e=W,t=e.each,r=e.createHashMap,a=ft,i=qr(),o=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(n,h){var u=this.getSource();return s(u,this),i(u,this)},getRawIndicesByActiveState:function(n){var h=this.coordinateSystem,u=this.getData(),v=[];return h.eachActiveState(u,function(l,f){n===l&&v.push(u.getRawIndex(f))}),v},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function s(n,h){if(!n.encodeDefine){var u=h.ecModel.getComponent("parallel",h.get("parallelIndex"));if(u){var v=n.encodeDefine=r();t(u.dimensions,function(l){var f=p(l);v.set(l,f)})}}}function p(n){return+n.replace("dim","")}return Kv=o,Kv}var Qv,B1;function $5(){if(B1)return Qv;B1=1;var e=fe,t=Mr,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(v,l,f,d){var m=this._dataGroup,c=v.getData(),g=this._data,y=v.coordinateSystem,_=y.dimensions,A=p(v);c.diff(g).add(b).update(w).remove(x).execute();function b(T){var C=s(c,m,T,_,y);n(C,c,T,A)}function w(T,C){var M=g.getItemGraphicEl(C),D=o(c,T,_,y);c.setItemGraphicEl(T,M);var L=d&&d.animation===!1?null:v;e.updateProps(M,{shape:{points:D}},L,T),n(M,c,T,A)}function x(T){var C=g.getItemGraphicEl(T);m.remove(C)}if(!this._initialized){this._initialized=!0;var S=i(y,v,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(S)}this._data=c},incrementalPrepareRender:function(v,l,f){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(v,l,f){for(var d=l.getData(),m=l.coordinateSystem,c=m.dimensions,g=p(l),y=v.start;y<v.end;y++){var _=s(d,this._dataGroup,y,c,m);_.incremental=!0,n(_,d,y,g)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(v,l,f){var d=v.model,m=v.getRect(),c=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),g=d.get("layout")==="horizontal"?"width":"height";return c.setShape(g,0),e.initProps(c,{shape:{width:m.width,height:m.height}},l,f),c}function o(v,l,f,d){for(var m=[],c=0;c<f.length;c++){var g=f[c],y=v.get(v.mapDimension(g),l);h(y,d.getAxis(g).type)||m.push(d.dataToPoint(y,g))}return m}function s(v,l,f,d,m){var c=o(v,f,d,m),g=new e.Polyline({shape:{points:c},silent:!0,z2:10});return l.add(g),v.setItemGraphicEl(f,g),g}function p(v){var l=v.get("smooth",!0);return l===!0&&(l=r),{lineStyle:v.getModel("lineStyle").getLineStyle(),smooth:l??r}}function n(v,l,f,d){var m=d.lineStyle;if(l.hasItemOption){var c=l.getItemModel(f).getModel("lineStyle");m=c.getLineStyle()}v.useStyle(m);var g=v.style;g.fill=null,g.stroke=l.getItemVisual(f,"color"),g.opacity=l.getItemVisual(f,"opacity"),d.smooth&&(v.shape.smooth=d.smooth)}function h(v,l){return l==="category"?v==null:v==null||isNaN(v)}var u=a;return Qv=u,Qv}var jv,N1;function U5(){if(N1)return jv;N1=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var o=r.getModel("itemStyle"),s=r.getModel("lineStyle"),p=a.get("color"),n=s.get("color")||o.get("color")||p[r.seriesIndex%p.length],h=r.get("inactiveOpacity"),u=r.get("activeOpacity"),v=r.getModel("lineStyle").getLineStyle(),l=r.coordinateSystem,f=r.getData(),d={normal:v.opacity,active:u,inactive:h};f.setVisual("color",n);function m(c,g){l.eachActiveState(g,function(y,_){var A=d[y];if(y==="normal"&&g.hasItemOption){var b=g.getItemModel(_).get(e,!0);b!=null&&(A=b)}g.setItemVisual(_,"opacity",A)},c.start,c.end)}return{progress:m}}};return jv=t,jv}var V1;function W5(){if(V1)return y1;V1=1;var e=ye;UM(),F5(),$5();var t=U5();return e.registerVisual(t),y1}var H1={},Jv,q1;function Z5(){if(q1)return Jv;q1=1;var e=ft,t=VM(),r=Ge(),a=r.encodeHTML,i=ot(),o=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(p,n){for(var h=p.edges||p.links,u=p.data||p.nodes,v=p.levels,l=this.levelModels={},f=0;f<v.length;f++)v[f].depth!=null&&v[f].depth>=0&&(l[v[f].depth]=new i(v[f],this,n));if(u&&h){var d=t(u,h,this,!0,m);return d.data}function m(c,g){c.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(A){var b=this.parentModel,w=b.getData().getItemLayout(_).depth,x=b.levelModels[w];return x||this.parentModel}),y}),g.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(A){var b=this.parentModel,w=b.getGraph().getEdgeByIndex(_),x=w.node1.getLayout().depth,S=b.levelModels[x];return S||this.parentModel}),y})}},setNodePosition:function(p,n){var h=this.option.data[p];h.localX=n[0],h.localY=n[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(p,n,h){if(h==="edge"){var u=this.getDataParams(p,h),v=u.data,l=v.source+" -- "+v.target;return u.value&&(l+=" : "+u.value),a(l)}else if(h==="node"){var f=this.getGraph().getNodeByIndex(p),d=f.getLayout().value,m=this.getDataParams(p,h).data.name;if(d)var l=m+" : "+d;return a(l)}return o.superCall(this,"formatTooltip",p,n)},optionUpdated:function(){var p=this.option;p.focusNodeAdjacency===!0&&(p.focusNodeAdjacency="allEdges")},getDataParams:function(p,n){var h=o.superCall(this,"getDataParams",p,n);if(h.value==null&&n==="node"){var u=this.getGraph().getNodeByIndex(p),v=u.getLayout().value;h.value=v}return h},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),s=o;return Jv=s,Jv}var eh,G1;function Y5(){if(G1)return eh;G1=1;var e=fe,t=ye,r=W,a=["itemStyle","opacity"],i=["emphasis","itemStyle","opacity"],o=["lineStyle","opacity"],s=["emphasis","lineStyle","opacity"];function p(f,d){return f.getVisual("opacity")||f.getModel().get(d)}function n(f,d,m){var c=f.getGraphicEl(),g=p(f,d);m!=null&&(g==null&&(g=1),g*=m),c.downplay&&c.downplay(),c.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",g)})}function h(f,d){var m=p(f,d),c=f.getGraphicEl();c.traverse(function(g){g.type!=="group"&&g.setStyle("opacity",m)}),c.highlight&&c.highlight()}var u=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(f,d){var m=d.extent;f.moveTo(d.x1,d.y1),f.bezierCurveTo(d.cpx1,d.cpy1,d.cpx2,d.cpy2,d.x2,d.y2),d.orient==="vertical"?(f.lineTo(d.x2+m,d.y2),f.bezierCurveTo(d.cpx2+m,d.cpy2,d.cpx1+m,d.cpy1,d.x1+m,d.y1)):(f.lineTo(d.x2,d.y2+m),f.bezierCurveTo(d.cpx2,d.cpy2+m,d.cpx1,d.cpy1+m,d.x1,d.y1+m)),f.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),v=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(f,d,m){var c=this,g=f.getGraph(),y=this.group,_=f.layoutInfo,A=_.width,b=_.height,w=f.getData(),x=f.getData("edge"),S=f.get("orient");this._model=f,y.removeAll(),y.attr("position",[_.x,_.y]),g.eachEdge(function(T){var C=new u;C.dataIndex=T.dataIndex,C.seriesIndex=f.seriesIndex,C.dataType="edge";var M=T.getModel("lineStyle"),D=M.get("curveness"),L=T.node1.getLayout(),I=T.node1.getModel(),P=I.get("localX"),E=I.get("localY"),O=T.node2.getLayout(),B=T.node2.getModel(),q=B.get("localX"),V=B.get("localY"),R=T.getLayout(),z,k,N,G,H,F,$,U;switch(C.shape.extent=Math.max(1,R.dy),C.shape.orient=S,S==="vertical"?(z=(P!=null?P*A:L.x)+R.sy,k=(E!=null?E*b:L.y)+L.dy,N=(q!=null?q*A:O.x)+R.ty,G=V!=null?V*b:O.y,H=z,F=k*(1-D)+G*D,$=N,U=k*D+G*(1-D)):(z=(P!=null?P*A:L.x)+L.dx,k=(E!=null?E*b:L.y)+R.sy,N=q!=null?q*A:O.x,G=(V!=null?V*b:O.y)+R.ty,H=z*(1-D)+N*D,F=k,$=z*D+N*(1-D),U=G),C.setShape({x1:z,y1:k,x2:N,y2:G,cpx1:H,cpy1:F,cpx2:$,cpy2:U}),C.setStyle(M.getItemStyle()),C.style.fill){case"source":C.style.fill=T.node1.getVisual("color");break;case"target":C.style.fill=T.node2.getVisual("color");break}e.setHoverStyle(C,T.getModel("emphasis.lineStyle").getItemStyle()),y.add(C),x.setItemGraphicEl(T.dataIndex,C)}),g.eachNode(function(T){var C=T.getLayout(),M=T.getModel(),D=M.get("localX"),L=M.get("localY"),I=M.getModel("label"),P=M.getModel("emphasis.label"),E=new e.Rect({shape:{x:D!=null?D*A:C.x,y:L!=null?L*b:C.y,width:C.dx,height:C.dy},style:M.getModel("itemStyle").getItemStyle()}),O=T.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(E.style,O,I,P,{labelFetcher:f,labelDataIndex:T.dataIndex,defaultText:T.id,isRectText:!0}),E.setStyle("fill",T.getVisual("color")),e.setHoverStyle(E,O),y.add(E),w.setItemGraphicEl(T.dataIndex,E),E.dataType="node"}),w.eachItemGraphicEl(function(T,C){var M=w.getItemModel(C);M.get("draggable")&&(T.drift=function(D,L){c._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=L,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:f.id,dataIndex:w.getRawIndex(C),localX:this.shape.x/A,localY:this.shape.y/b})},T.ondragend=function(){c._focusAdjacencyDisabled=!1},T.draggable=!0,T.cursor="move"),T.highlight=function(){this.trigger("emphasis")},T.downplay=function(){this.trigger("normal")},T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){c._focusAdjacencyDisabled||(c._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:f.id,dataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){c._focusAdjacencyDisabled||c._dispatchUnfocus(m)}))}),x.eachItemGraphicEl(function(T,C){var M=x.getItemModel(C);T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),M.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){c._focusAdjacencyDisabled||(c._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:f.id,edgeDataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){c._focusAdjacencyDisabled||c._dispatchUnfocus(m)}))}),!this._data&&f.get("animation")&&y.setClipPath(l(y.getBoundingRect(),f,function(){y.removeClipPath()})),this._data=f.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(f){var d=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){d._unfocusDelayTimer=null,f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:d._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(f,d,m,c){var g=f.getData(),y=g.graph,_=c.dataIndex,A=g.getItemModel(_),b=c.edgeDataIndex;if(!(_==null&&b==null)){var w=y.getNodeByIndex(_),x=y.getEdgeByIndex(b);if(y.eachNode(function(T){n(T,a,.1)}),y.eachEdge(function(T){n(T,o,.1)}),w){h(w,i);var S=A.get("focusNodeAdjacency");S==="outEdges"?r.each(w.outEdges,function(T){T.dataIndex<0||(h(T,s),h(T.node2,i))}):S==="inEdges"?r.each(w.inEdges,function(T){T.dataIndex<0||(h(T,s),h(T.node1,i))}):S==="allEdges"&&r.each(w.edges,function(T){T.dataIndex<0||(h(T,s),T.node1!==w&&h(T.node1,i),T.node2!==w&&h(T.node2,i))})}x&&(h(x,s),h(x.node1,i),h(x.node2,i))}},unfocusNodeAdjacency:function(f,d,m,c){var g=f.getGraph();g.eachNode(function(y){n(y,a)}),g.eachEdge(function(y){n(y,o)})}});function l(f,d,m){var c=new e.Rect({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}});return e.initProps(c,{shape:{width:f.width+20}},d,m),c}return eh=v,eh}var F1={},$1;function X5(){if($1)return F1;$1=1;var e=ye;return HM(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),F1}var th,U1;function K5(){if(U1)return th;U1=1;var e=ze,t=W,r=Ie,a=r.groupData;function i(M,D,L){M.eachSeriesByType("sankey",function(I){var P=I.get("nodeWidth"),E=I.get("nodeGap"),O=o(I,D);I.layoutInfo=O;var B=O.width,q=O.height,V=I.getGraph(),R=V.nodes,z=V.edges;p(R);var k=t.filter(R,function(F){return F.getLayout().value===0}),N=k.length!==0?0:I.get("layoutIterations"),G=I.get("orient"),H=I.get("nodeAlign");s(R,z,P,E,B,q,N,G,H)})}function o(M,D){return e.getLayoutRect(M.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()})}function s(M,D,L,I,P,E,O,B,q){n(M,D,L,P,E,B,q),f(M,D,E,P,I,O,B),C(M,B)}function p(M){t.each(M,function(D){var L=S(D.outEdges,x),I=S(D.inEdges,x),P=D.getValue()||0,E=Math.max(L,I,P);D.setLayout({value:E},!0)})}function n(M,D,L,I,P,E,O){for(var B=[],q=[],V=[],R=[],z=0,te=0,k=0;k<D.length;k++)B[k]=1;for(k=0;k<M.length;k++)q[k]=M[k].inEdges.length,q[k]===0&&V.push(M[k]);for(var N=-1;V.length;){for(var G=0;G<V.length;G++){var H=V[G],F=H.hostGraph.data.getRawDataItem(H.dataIndex),$=F.depth!=null&&F.depth>=0;$&&F.depth>N&&(N=F.depth),H.setLayout({depth:$?F.depth:z},!0),E==="vertical"?H.setLayout({dy:L},!0):H.setLayout({dx:L},!0);for(var U=0;U<H.outEdges.length;U++){var K=H.outEdges[U],Q=D.indexOf(K);B[Q]=0;var j=K.node2,ee=M.indexOf(j);--q[ee]===0&&R.indexOf(j)<0&&R.push(j)}}++z,V=R,R=[]}for(k=0;k<B.length;k++)if(B[k]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var re=N>z-1?N:z-1;O&&O!=="left"&&u(M,O,E,re);var te=E==="vertical"?(P-L)/re:(I-L)/re;l(M,te,E)}function h(M){var D=M.hostGraph.data.getRawDataItem(M.dataIndex);return D.depth!=null&&D.depth>=0}function u(M,D,L,I){if(D==="right"){for(var P=[],E=M,O=0;E.length;){for(var B=0;B<E.length;B++){var q=E[B];q.setLayout({skNodeHeight:O},!0);for(var V=0;V<q.inEdges.length;V++){var R=q.inEdges[V];P.indexOf(R.node1)<0&&P.push(R.node1)}}E=P,P=[],++O}t.each(M,function(z){h(z)||z.setLayout({depth:Math.max(0,I-z.getLayout().skNodeHeight)},!0)})}else D==="justify"&&v(M,I)}function v(M,D){t.each(M,function(L){!h(L)&&!L.outEdges.length&&L.setLayout({depth:D},!0)})}function l(M,D,L){t.each(M,function(I){var P=I.getLayout().depth*D;L==="vertical"?I.setLayout({y:P},!0):I.setLayout({x:P},!0)})}function f(M,D,L,I,P,E,O){var B=d(M,O);m(B,D,L,I,P,O),c(B,P,L,I,O);for(var q=1;E>0;E--)q*=.99,g(B,q,O),c(B,P,L,I,O),T(B,q,O),c(B,P,L,I,O)}function d(M,D){var L=[],I=D==="vertical"?"y":"x",P=a(M,function(E){return E.getLayout()[I]});return P.keys.sort(function(E,O){return E-O}),t.each(P.keys,function(E){L.push(P.buckets.get(E))}),L}function m(M,D,L,I,P,E){var O=1/0;t.each(M,function(B){var q=B.length,V=0;t.each(B,function(z){V+=z.getLayout().value});var R=E==="vertical"?(I-(q-1)*P)/V:(L-(q-1)*P)/V;R<O&&(O=R)}),t.each(M,function(B){t.each(B,function(q,V){var R=q.getLayout().value*O;E==="vertical"?(q.setLayout({x:V},!0),q.setLayout({dx:R},!0)):(q.setLayout({y:V},!0),q.setLayout({dy:R},!0))})}),t.each(D,function(B){var q=+B.getValue()*O;B.setLayout({dy:q},!0)})}function c(M,D,L,I,P){var E=P==="vertical"?"x":"y";t.each(M,function(O){O.sort(function(H,F){return H.getLayout()[E]-F.getLayout()[E]});for(var B,q,V,R=0,z=O.length,k=P==="vertical"?"dx":"dy",N=0;N<z;N++)q=O[N],V=R-q.getLayout()[E],V>0&&(B=q.getLayout()[E]+V,P==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0)),R=q.getLayout()[E]+q.getLayout()[k]+D;var G=P==="vertical"?I:L;if(V=R-D-G,V>0)for(B=q.getLayout()[E]-V,P==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0),R=B,N=z-2;N>=0;--N)q=O[N],V=q.getLayout()[E]+q.getLayout()[k]+D-R,V>0&&(B=q.getLayout()[E]-V,P==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0)),R=q.getLayout()[E]})}function g(M,D,L){t.each(M.slice().reverse(),function(I){t.each(I,function(P){if(P.outEdges.length){var E=S(P.outEdges,y,L)/S(P.outEdges,x,L);if(isNaN(E)){var O=P.outEdges.length;E=O?S(P.outEdges,_,L)/O:0}if(L==="vertical"){var B=P.getLayout().x+(E-w(P,L))*D;P.setLayout({x:B},!0)}else{var q=P.getLayout().y+(E-w(P,L))*D;P.setLayout({y:q},!0)}}})})}function y(M,D){return w(M.node2,D)*M.getValue()}function _(M,D){return w(M.node2,D)}function A(M,D){return w(M.node1,D)*M.getValue()}function b(M,D){return w(M.node1,D)}function w(M,D){return D==="vertical"?M.getLayout().x+M.getLayout().dx/2:M.getLayout().y+M.getLayout().dy/2}function x(M){return M.getValue()}function S(M,D,L){for(var I=0,P=M.length,E=-1;++E<P;){var O=+D.call(M,M[E],L);isNaN(O)||(I+=O)}return I}function T(M,D,L){t.each(M,function(I){t.each(I,function(P){if(P.inEdges.length){var E=S(P.inEdges,A,L)/S(P.inEdges,x,L);if(isNaN(E)){var O=P.inEdges.length;E=O?S(P.inEdges,b,L)/O:0}if(L==="vertical"){var B=P.getLayout().x+(E-w(P,L))*D;P.setLayout({x:B},!0)}else{var q=P.getLayout().y+(E-w(P,L))*D;P.setLayout({y:q},!0)}}})})}function C(M,D){var L=D==="vertical"?"x":"y";t.each(M,function(I){I.outEdges.sort(function(P,E){return P.node2.getLayout()[L]-E.node2.getLayout()[L]}),I.inEdges.sort(function(P,E){return P.node1.getLayout()[L]-E.node1.getLayout()[L]})}),t.each(M,function(I){var P=0,E=0;t.each(I.outEdges,function(O){O.setLayout({sy:P},!0),P+=O.getLayout().dy}),t.each(I.inEdges,function(O){O.setLayout({ty:E},!0),E+=O.getLayout().dy})})}return th=i,th}var rh,W1;function Q5(){if(W1)return rh;W1=1;var e=Ea(),t=W;function r(a,i){a.eachSeriesByType("sankey",function(o){var s=o.getGraph(),p=s.nodes;if(p.length){var n=1/0,h=-1/0;t.each(p,function(u){var v=u.getLayout().value;v<n&&(n=v),v>h&&(h=v)}),t.each(p,function(u){var v=new e({type:"color",mappingMethod:"linear",dataExtent:[n,h],visual:o.get("color")}),l=v.mapValueToVisual(u.getLayout().value),f=u.getModel().get("itemStyle.color");f!=null?u.setVisual("color",f):u.setVisual("color",l)})}})}return rh=r,rh}var Z1;function j5(){if(Z1)return H1;Z1=1;var e=ye;Z5(),Y5(),X5();var t=K5(),r=Q5();return e.registerLayout(t),e.registerVisual(r),H1}var Y1={},ah={},X1;function WM(){if(X1)return ah;X1=1;var e=Ai(),t=W,r=Pn(),a=r.getDimensionTypeByAxis,i=St,o=i.makeSeriesEncodeForAxisCoordSys,s={_baseAxisDim:null,getInitialData:function(p,n){var h,u=n.getComponent("xAxis",this.get("xAxisIndex")),v=n.getComponent("yAxis",this.get("yAxisIndex")),l=u.get("type"),f=v.get("type"),d;l==="category"?(p.layout="horizontal",h=u.getOrdinalMeta(),d=!0):f==="category"?(p.layout="vertical",h=v.getOrdinalMeta(),d=!0):p.layout=p.layout||"horizontal";var m=["x","y"],c=p.layout==="horizontal"?0:1,g=this._baseAxisDim=m[c],y=m[1-c],_=[u,v],A=_[c].get("type"),b=_[1-c].get("type"),w=p.data;if(w&&d){var x=[];t.each(w,function(C,M){var D;C.value&&t.isArray(C.value)?(D=C.value.slice(),C.value.unshift(M)):t.isArray(C)?(D=C.slice(),C.unshift(M)):D=C,x.push(D)}),p.data=x}var S=this.defaultValueDimensions,T=[{name:g,type:a(A),ordinalMeta:h,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:a(b),dimsDef:S.slice()}];return e(this,{coordDimensions:T,dimensionsCount:S.length+1,encodeDefaulter:t.curry(o,T,this)})},getBaseAxis:function(){var p=this._baseAxisDim;return this.ecModel.getComponent(p+"Axis",this.get(p+"AxisIndex")).axis}};return ah.seriesModelMixin=s,ah}var ih,K1;function J5(){if(K1)return ih;K1=1;var e=W,t=ft,r=WM(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var o=i;return ih=o,ih}var nh,Q1;function eq(){if(Q1)return nh;Q1=1;var e=W,t=Mr,r=fe,a=at,i=["itemStyle"],o=["emphasis","itemStyle"],s=t.extend({type:"boxplot",render:function(l,f,d){var m=l.getData(),c=this.group,g=this._data;this._data||c.removeAll();var y=l.get("layout")==="horizontal"?1:0;m.diff(g).add(function(_){if(m.hasValue(_)){var A=m.getItemLayout(_),b=n(A,m,_,y,!0);m.setItemGraphicEl(_,b),c.add(b)}}).update(function(_,A){var b=g.getItemGraphicEl(A);if(!m.hasValue(_)){c.remove(b);return}var w=m.getItemLayout(_);b?h(w,b,m,_):b=n(w,m,_,y),c.add(b),m.setItemGraphicEl(_,b)}).remove(function(_){var A=g.getItemGraphicEl(_);A&&c.remove(A)}).execute(),this._data=m},remove:function(l){var f=this.group,d=this._data;this._data=null,d&&d.eachItemGraphicEl(function(m){m&&f.remove(m)})},dispose:e.noop}),p=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(l,f){var d=f.points,m=0;for(l.moveTo(d[m][0],d[m][1]),m++;m<4;m++)l.lineTo(d[m][0],d[m][1]);for(l.closePath();m<d.length;m++)l.moveTo(d[m][0],d[m][1]),m++,l.lineTo(d[m][0],d[m][1])}});function n(l,f,d,m,c){var g=l.ends,y=new p({shape:{points:c?u(g,m,l):g}});return h(l,y,f,d,c),y}function h(l,f,d,m,c){var g=d.hostModel,y=r[c?"initProps":"updateProps"];y(f,{shape:{points:l.ends}},g,m);var _=d.getItemModel(m),A=_.getModel(i),b=d.getItemVisual(m,"color"),w=A.getItemStyle(["borderColor"]);w.stroke=b,w.strokeNoScale=!0,f.useStyle(w),f.z2=100;var x=_.getModel(o).getItemStyle();r.setHoverStyle(f,x)}function u(l,f,d){return e.map(l,function(m){return m=m.slice(),m[f]=d.initBaseline,m})}var v=s;return nh=v,nh}var oh,j1;function tq(){if(j1)return oh;j1=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(o){var s=i[o.seriesIndex%i.length],p=o.getData();p.setVisual({legendSymbol:"roundRect",color:o.get(e)||s}),r.isSeriesFiltered(o)||p.each(function(n){var h=p.getItemModel(n);p.setItemVisual(n,{color:h.get(e,!0)})})})}return oh=t,oh}var sh,J1;function rq(){if(J1)return sh;J1=1;var e=W,t=Re(),r=t.parsePercent,a=e.each;function i(n){var h=o(n);a(h,function(u){var v=u.seriesModels;v.length&&(s(u),a(v,function(l,f){p(l,u.boxOffsetList[f],u.boxWidthList[f])}))})}function o(n){var h=[],u=[];return n.eachSeriesByType("boxplot",function(v){var l=v.getBaseAxis(),f=e.indexOf(u,l);f<0&&(f=u.length,u[f]=l,h[f]={axis:l,seriesModels:[]}),h[f].seriesModels.push(v)}),h}function s(n){var h,u=n.axis,v=n.seriesModels,l=v.length,f=n.boxWidthList=[],d=n.boxOffsetList=[],m=[],c;if(u.type==="category")c=u.getBandWidth();else{var g=0;a(v,function(w){g=Math.max(g,w.getData().count())}),h=u.getExtent(),Math.abs(h[1]-h[0])/g}a(v,function(w){var x=w.get("boxWidth");e.isArray(x)||(x=[x,x]),m.push([r(x[0],c)||0,r(x[1],c)||0])});var y=c*.8-2,_=y/l*.3,A=(y-_*(l-1))/l,b=A/2-y/2;a(v,function(w,x){d.push(b),b+=_+A,f.push(Math.min(Math.max(A,m[x][0]),m[x][1]))})}function p(n,h,u){var v=n.coordinateSystem,l=n.getData(),f=u/2,d=n.get("layout")==="horizontal"?0:1,m=1-d,c=["x","y"],g=l.mapDimension(c[d]),y=l.mapDimension(c[m],!0);if(g==null||y.length<5)return;for(var _=0;_<l.count();_++){var A=l.get(g,_),b=M(A,y[2],_),w=M(A,y[0],_),x=M(A,y[1],_),S=M(A,y[3],_),T=M(A,y[4],_),C=[];D(C,x,0),D(C,S,1),C.push(w,x,T,S),L(C,w),L(C,T),L(C,b),l.setItemLayout(_,{initBaseline:b[m],ends:C})}function M(I,P,E){var O=l.get(P,E),B=[];B[d]=I,B[m]=O;var q;return isNaN(I)||isNaN(O)?q=[NaN,NaN]:(q=v.dataToPoint(B),q[d]+=h),q}function D(I,P,E){var O=P.slice(),B=P.slice();O[d]+=f,B[d]-=f,E?I.push(O,B):I.push(B,O)}function L(I,P){var E=P.slice(),O=P.slice();E[d]-=f,O[d]+=f,I.push(E,O)}}return sh=i,sh}var ex;function aq(){if(ex)return Y1;ex=1;var e=ye;J5(),eq();var t=tq(),r=rq();return e.registerVisual(t),e.registerLayout(r),Y1}var tx={},lh,rx;function iq(){if(rx)return lh;rx=1;var e=W,t=ft,r=WM(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(s,p,n){var h=p.getItemLayout(s);return h&&n.rect(h.brushRect)}});e.mixin(i,a,!0);var o=i;return lh=o,lh}var uh,ax;function nq(){if(ax)return uh;ax=1;var e=W,t=Mr,r=fe,a=at,i=En(),o=i.createClipPath,s=["itemStyle"],p=["emphasis","itemStyle"],n=["color","color0","borderColor","borderColor0"],h=t.extend({type:"candlestick",render:function(_,A,b){this.group.removeClipPath(),this._updateDrawMode(_),this._isLargeDraw?this._renderLarge(_):this._renderNormal(_)},incrementalPrepareRender:function(_,A,b){this._clear(),this._updateDrawMode(_)},incrementalRender:function(_,A,b,w){this._isLargeDraw?this._incrementalRenderLarge(_,A):this._incrementalRenderNormal(_,A)},_updateDrawMode:function(_){var A=_.pipelineContext.large;(this._isLargeDraw==null||A^this._isLargeDraw)&&(this._isLargeDraw=A,this._clear())},_renderNormal:function(_){var A=_.getData(),b=this._data,w=this.group,x=A.getLayout("isSimpleBox"),S=_.get("clip",!0),T=_.coordinateSystem,C=T.getArea&&T.getArea();this._data||w.removeAll(),A.diff(b).add(function(M){if(A.hasValue(M)){var D,L=A.getItemLayout(M);if(S&&l(C,L))return;D=v(L,M,!0),r.initProps(D,{shape:{points:L.ends}},_,M),f(D,A,M,x),w.add(D),A.setItemGraphicEl(M,D)}}).update(function(M,D){var L=b.getItemGraphicEl(D);if(!A.hasValue(M)){w.remove(L);return}var I=A.getItemLayout(M);if(S&&l(C,I)){w.remove(L);return}L?r.updateProps(L,{shape:{points:I.ends}},_,M):L=v(I),f(L,A,M,x),w.add(L),A.setItemGraphicEl(M,L)}).remove(function(M){var D=b.getItemGraphicEl(M);D&&w.remove(D)}).execute(),this._data=A},_renderLarge:function(_){this._clear(),c(_,this.group);var A=_.get("clip",!0)?o(_.coordinateSystem,!1,_):null;A?this.group.setClipPath(A):this.group.removeClipPath()},_incrementalRenderNormal:function(_,A){for(var b=A.getData(),w=b.getLayout("isSimpleBox"),x;(x=_.next())!=null;){var S,T=b.getItemLayout(x);S=v(T),f(S,b,x,w),S.incremental=!0,this.group.add(S)}},_incrementalRenderLarge:function(_,A){c(A,this.group,!0)},remove:function(_){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),u=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(_,A){var b=A.points;this.__simpleBox?(_.moveTo(b[4][0],b[4][1]),_.lineTo(b[6][0],b[6][1])):(_.moveTo(b[0][0],b[0][1]),_.lineTo(b[1][0],b[1][1]),_.lineTo(b[2][0],b[2][1]),_.lineTo(b[3][0],b[3][1]),_.closePath(),_.moveTo(b[4][0],b[4][1]),_.lineTo(b[5][0],b[5][1]),_.moveTo(b[6][0],b[6][1]),_.lineTo(b[7][0],b[7][1]))}});function v(_,A,b){var w=_.ends;return new u({shape:{points:b?d(w,_):w},z2:100})}function l(_,A){for(var b=!0,w=0;w<A.ends.length;w++)if(_.contain(A.ends[w][0],A.ends[w][1])){b=!1;break}return b}function f(_,A,b,w){var x=A.getItemModel(b),S=x.getModel(s),T=A.getItemVisual(b,"color"),C=A.getItemVisual(b,"borderColor")||T,M=S.getItemStyle(n);_.useStyle(M),_.style.strokeNoScale=!0,_.style.fill=T,_.style.stroke=C,_.__simpleBox=w;var D=x.getModel(p).getItemStyle();r.setHoverStyle(_,D)}function d(_,A){return e.map(_,function(b){return b=b.slice(),b[1]=A.initBaseline,b})}var m=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(_,A){for(var b=A.points,w=0;w<b.length;)if(this.__sign===b[w++]){var x=b[w++];_.moveTo(x,b[w++]),_.lineTo(x,b[w++])}else w+=3}});function c(_,A,b){var w=_.getData(),x=w.getLayout("largePoints"),S=new m({shape:{points:x},__sign:1});A.add(S);var T=new m({shape:{points:x},__sign:-1});A.add(T),g(1,S,_,w),g(-1,T,_,w),b&&(S.incremental=!0,T.incremental=!0)}function g(_,A,b,w){var x=_>0?"P":"N",S=w.getVisual("borderColor"+x)||w.getVisual("color"+x),T=b.getModel(s).getItemStyle(n);A.useStyle(T),A.style.fill=null,A.style.stroke=S}var y=h;return uh=y,uh}var vh,ix;function oq(){if(ix)return vh;ix=1;var e=W;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return vh=t,vh}var hh,nx;function sq(){if(nx)return hh;nx=1;var e=xi,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],o={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(s,p){var n=s.getData();if(n.setVisual({legendSymbol:"roundRect",colorP:v(1,s),colorN:v(-1,s),borderColorP:l(1,s),borderColorN:l(-1,s)}),p.isSeriesFiltered(s))return;var h=s.pipelineContext.large;return!h&&{progress:u};function u(f,d){for(var m;(m=f.next())!=null;){var c=d.getItemModel(m),g=d.getItemLayout(m).sign;d.setItemVisual(m,{color:v(g,c),borderColor:l(g,c)})}}function v(f,d){return d.get(f>0?a:i)}function l(f,d){return d.get(f>0?t:r)}}};return hh=o,hh}var ch,ox;function lq(){if(ox)return ch;ox=1;var e=fe,t=e.subPixelOptimize,r=xi,a=Re(),i=a.parsePercent,o=W,s=o.retrieve2,p=typeof Float32Array<"u"?Float32Array:Array,n={seriesType:"candlestick",plan:r(),reset:function(v){var l=v.coordinateSystem,f=v.getData(),d=u(v,f),m=0,c=1,g=["x","y"],y=f.mapDimension(g[m]),_=f.mapDimension(g[c],!0),A=_[0],b=_[1],w=_[2],x=_[3];if(f.setLayout({candleWidth:d,isSimpleBox:d<=1.3}),y==null||_.length<4)return;return{progress:v.pipelineContext.large?T:S};function S(C,M){for(var D;(D=C.next())!=null;){var L=M.get(y,D),I=M.get(A,D),P=M.get(b,D),E=M.get(w,D),O=M.get(x,D),B=Math.min(I,P),q=Math.max(I,P),V=G(B,L),R=G(q,L),z=G(E,L),k=G(O,L),N=[];H(N,R,0),H(N,V,1),N.push($(k),$(R),$(z),$(V)),M.setItemLayout(D,{sign:h(M,D,I,P,b),initBaseline:I>P?R[c]:V[c],ends:N,brushRect:F(E,O,L)})}function G(U,K){var Q=[];return Q[m]=K,Q[c]=U,isNaN(K)||isNaN(U)?[NaN,NaN]:l.dataToPoint(Q)}function H(U,K,Q){var j=K.slice(),ee=K.slice();j[m]=t(j[m]+d/2,1,!1),ee[m]=t(ee[m]-d/2,1,!0),Q?U.push(j,ee):U.push(ee,j)}function F(U,K,Q){var j=G(U,Q),ee=G(K,Q);return j[m]-=d/2,ee[m]-=d/2,{x:j[0],y:j[1],width:d,height:ee[1]-j[1]}}function $(U){return U[m]=t(U[m],1),U}}function T(C,M){for(var D=new p(C.count*4),L=0,I,P=[],E=[],O;(O=C.next())!=null;){var B=M.get(y,O),q=M.get(A,O),V=M.get(b,O),R=M.get(w,O),z=M.get(x,O);if(isNaN(B)||isNaN(R)||isNaN(z)){D[L++]=NaN,L+=3;continue}D[L++]=h(M,O,q,V,b),P[m]=B,P[c]=R,I=l.dataToPoint(P,null,E),D[L++]=I?I[0]:NaN,D[L++]=I?I[1]:NaN,P[c]=z,I=l.dataToPoint(P,null,E),D[L++]=I?I[1]:NaN}M.setLayout("largePoints",D)}}};function h(v,l,f,d,m){var c;return f>d?c=-1:f<d?c=1:c=l>0?v.get(m,l-1)<=d?1:-1:1,c}function u(v,l){var f=v.getBaseAxis(),d,m=f.type==="category"?f.getBandWidth():(d=f.getExtent(),Math.abs(d[1]-d[0])/l.count()),c=i(s(v.get("barMaxWidth"),m),m),g=i(s(v.get("barMinWidth"),1),m),y=v.get("barWidth");return y!=null?i(y,m):Math.max(Math.min(m/2,c),g)}return ch=n,ch}var sx;function uq(){if(sx)return tx;sx=1;var e=ye;iq(),nq();var t=oq(),r=sq(),a=lq();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),tx}var lx={},fh,ux;function vq(){if(ux)return fh;ux=1;var e=qr(),t=ft,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return fh=r,fh}var dh,vx;function hq(){if(vx)return dh;vx=1;var e=W,t=Kt(),r=t.createSymbol,a=fe,i=a.Group,o=Re(),s=o.parsePercent,p=Ss(),n=3;function h(d){return e.isArray(d)||(d=[+d,+d]),d}function u(d,m){var c=m.rippleEffectColor||m.color;d.eachChild(function(g){g.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?c:null,fill:m.brushType==="fill"?c:null}})})}function v(d,m){i.call(this);var c=new p(d,m),g=new i;this.add(c),this.add(g),g.beforeUpdate=function(){this.attr(c.getScale())},this.updateData(d,m)}var l=v.prototype;l.stopEffectAnimation=function(){this.childAt(1).removeAll()},l.startEffectAnimation=function(d){for(var m=d.symbolType,c=d.color,g=this.childAt(1),y=0;y<n;y++){var _=r(m,-1,-1,2,2,c);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var A=-y/n*d.period+d.effectOffset;_.animate("",!0).when(d.period,{scale:[d.rippleScale/2,d.rippleScale/2]}).delay(A).start(),_.animateStyle(!0).when(d.period,{opacity:0}).delay(A).start(),g.add(_)}u(g,d)},l.updateEffectAnimation=function(d){for(var m=this._effectCfg,c=this.childAt(1),g=["symbolType","period","rippleScale"],y=0;y<g.length;y++){var _=g[y];if(m[_]!==d[_]){this.stopEffectAnimation(),this.startEffectAnimation(d);return}}u(c,d)},l.highlight=function(){this.trigger("emphasis")},l.downplay=function(){this.trigger("normal")},l.updateData=function(d,m){var c=d.hostModel;this.childAt(0).updateData(d,m);var g=this.childAt(1),y=d.getItemModel(m),_=d.getItemVisual(m,"symbol"),A=h(d.getItemVisual(m,"symbolSize")),b=d.getItemVisual(m,"color");g.attr("scale",A),g.traverse(function(L){L.attr({fill:b})});var w=y.getShallow("symbolOffset");if(w){var x=g.position;x[0]=s(w[0],A[0]),x[1]=s(w[1],A[1])}var S=d.getItemVisual(m,"symbolRotate");g.rotation=(S||0)*Math.PI/180||0;var T={};if(T.showEffectOn=c.get("showEffectOn"),T.rippleScale=y.get("rippleEffect.scale"),T.brushType=y.get("rippleEffect.brushType"),T.period=y.get("rippleEffect.period")*1e3,T.effectOffset=m/d.count(),T.z=y.getShallow("z")||0,T.zlevel=y.getShallow("zlevel")||0,T.symbolType=_,T.color=b,T.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),T.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T;else{this._effectCfg=null,this.stopEffectAnimation();var C=this.childAt(0),M=function(){C.highlight(),T.showEffectOn!=="render"&&this.startEffectAnimation(T)},D=function(){C.downplay(),T.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",M,this).on("mouseout",D,this).on("emphasis",M,this).on("normal",D,this)}this._effectCfg=T},l.fadeOut=function(d){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),d&&d()},e.inherits(v,i);var f=v;return dh=f,dh}var gh,hx;function cq(){if(hx)return gh;hx=1;var e=ye,t=Rn(),r=hq(),a=Rt(),i=kn(),o=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(s,p,n){var h=s.getData(),u=this._symbolDraw;u.updateData(h),this.group.add(u.group)},updateTransform:function(s,p,n){var h=s.getData();this.group.dirty();var u=i().reset(s);u.progress&&u.progress({start:0,end:h.count()},h),this._symbolDraw.updateLayout(h)},_updateGroupTransform:function(s){var p=s.coordinateSystem;p&&p.getRoamTransform&&(this.group.transform=a.clone(p.getRoamTransform()),this.group.decomposeTransform())},remove:function(s,p){this._symbolDraw&&this._symbolDraw.remove(p)},dispose:function(){}});return gh=o,gh}var cx;function fq(){if(cx)return lx;cx=1;var e=ye;vq(),cq();var t=Ia(),r=kn();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),lx}var fx={},ph,dx;function dq(){if(dx)return ph;dx=1;var e=ft,t=Xt(),r=W,a=r.concatArray,i=r.mergeAll,o=r.map,s=Ge(),p=s.encodeHTML,n=typeof Uint32Array>"u"?Array:Uint32Array,h=typeof Float64Array>"u"?Array:Float64Array;function u(f){var d=f.data;d&&d[0]&&d[0][0]&&d[0][0].coord&&(f.data=o(d,function(m){var c=[m[0].coord,m[1].coord],g={coords:c};return m[0].name&&(g.fromName=m[0].name),m[1].name&&(g.toName=m[1].name),i([g,m[0],m[1]])}))}var v=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(f){f.data=f.data||[],u(f);var d=this._processFlatCoordsArray(f.data);this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset,d.flatCoords&&(f.data=new Float32Array(d.count)),v.superApply(this,"init",arguments)},mergeOption:function(f){if(u(f),f.data){var d=this._processFlatCoordsArray(f.data);this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset,d.flatCoords&&(f.data=new Float32Array(d.count))}v.superApply(this,"mergeOption",arguments)},appendData:function(f){var d=this._processFlatCoordsArray(f.data);d.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,d.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,d.flatCoordsOffset)):(this._flatCoords=d.flatCoords,this._flatCoordsOffset=d.flatCoordsOffset),f.data=new Float32Array(d.count)),this.getRawData().appendData(f.data)},_getCoordsFromItemModel:function(f){var d=this.getData().getItemModel(f),m=d.option instanceof Array?d.option:d.getShallow("coords");return m},getLineCoordsCount:function(f){return this._flatCoordsOffset?this._flatCoordsOffset[f*2+1]:this._getCoordsFromItemModel(f).length},getLineCoords:function(f,d){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[f*2],c=this._flatCoordsOffset[f*2+1],g=0;g<c;g++)d[g]=d[g]||[],d[g][0]=this._flatCoords[m+g*2],d[g][1]=this._flatCoords[m+g*2+1];return c}else{for(var y=this._getCoordsFromItemModel(f),g=0;g<y.length;g++)d[g]=d[g]||[],d[g][0]=y[g][0],d[g][1]=y[g][1];return y.length}},_processFlatCoordsArray:function(f){var d=0;if(this._flatCoords&&(d=this._flatCoords.length),typeof f[0]=="number"){for(var m=f.length,c=new n(m),g=new h(m),y=0,_=0,A=0,b=0;b<m;){A++;var w=f[b++];c[_++]=y+d,c[_++]=w;for(var x=0;x<w;x++){var S=f[b++],T=f[b++];g[y++]=S,g[y++]=T}}return{flatCoordsOffset:new Uint32Array(c.buffer,0,_),flatCoords:g,count:A}}return{flatCoordsOffset:null,flatCoords:null,count:f.length}},getInitialData:function(f,d){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(f.data,[],function(c,g,y,_){if(c instanceof Array)return NaN;m.hasItemOption=!0;var A=c.value;if(A!=null)return A instanceof Array?A[_]:A}),m},formatTooltip:function(f){var d=this.getData(),m=d.getItemModel(f),c=m.get("name");if(c)return c;var g=m.get("fromName"),y=m.get("toName"),_=[];return g!=null&&_.push(g),y!=null&&_.push(y),p(_.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var f=this.option.progressive;return f??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var f=this.option.progressiveThreshold;return f??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),l=v;return ph=l,ph}var mh,gx;function ZM(){if(gx)return mh;gx=1;var e=fe,t=_g(),r=W,a=Kt(),i=a.createSymbol,o=Ye(),s=vt;function p(u,v,l){e.Group.call(this),this.add(this.createLine(u,v,l)),this._updateEffectSymbol(u,v)}var n=p.prototype;n.createLine=function(u,v,l){return new t(u,v,l)},n._updateEffectSymbol=function(u,v){var l=u.getItemModel(v),f=l.getModel("effect"),d=f.get("symbolSize"),m=f.get("symbol");r.isArray(d)||(d=[d,d]);var c=f.get("color")||u.getItemVisual(v,"color"),g=this.childAt(1);this._symbolType!==m&&(this.remove(g),g=i(m,-.5,-.5,1,1,c),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",c),g.setStyle(f.getItemStyle(["color"])),g.attr("scale",d),g.setColor(c),g.attr("scale",d),this._symbolType=m,this._symbolScale=d,this._updateEffectAnimation(u,f,v))},n._updateEffectAnimation=function(u,v,l){var f=this.childAt(1);if(f){var d=this,m=u.getItemLayout(l),c=v.get("period")*1e3,g=v.get("loop"),y=v.get("constantSpeed"),_=r.retrieve(v.get("delay"),function(x){return x/u.count()*c/3}),A=typeof _=="function";if(f.ignore=!0,this.updateAnimationPoints(f,m),y>0&&(c=this.getLineLength(f)/y*1e3),c!==this._period||g!==this._loop){f.stopAnimation();var b=_;A&&(b=_(l)),f.__t>0&&(b=-c*f.__t),f.__t=0;var w=f.animate("",g).when(c,{__t:1}).delay(b).during(function(){d.updateSymbolPosition(f)});g||w.done(function(){d.remove(f)}),w.start()}this._period=c,this._loop=g}},n.getLineLength=function(u){return o.dist(u.__p1,u.__cp1)+o.dist(u.__cp1,u.__p2)},n.updateAnimationPoints=function(u,v){u.__p1=v[0],u.__p2=v[1],u.__cp1=v[2]||[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]},n.updateData=function(u,v,l){this.childAt(0).updateData(u,v,l),this._updateEffectSymbol(u,v)},n.updateSymbolPosition=function(u){var v=u.__p1,l=u.__p2,f=u.__cp1,d=u.__t,m=u.position,c=[m[0],m[1]],g=s.quadraticAt,y=s.quadraticDerivativeAt;m[0]=g(v[0],f[0],l[0],d),m[1]=g(v[1],f[1],l[1],d);var _=y(v[0],f[0],l[0],d),A=y(v[1],f[1],l[1],d);if(u.rotation=-Math.atan2(A,_)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(u.__lastT!==void 0&&u.__lastT<u.__t){var b=o.dist(c,m)*1.05;u.attr("scale",[u.scale[0],b]),d===1&&(m[0]=c[0]+(m[0]-c[0])/2,m[1]=c[1]+(m[1]-c[1])/2)}else if(u.__lastT===1){var b=2*o.dist(v,m);u.attr("scale",[u.scale[0],b])}else u.attr("scale",this._symbolScale);u.__lastT=u.__t,u.ignore=!1},n.updateLayout=function(u,v){this.childAt(0).updateLayout(u,v);var l=u.getItemModel(v).getModel("effect");this._updateEffectAnimation(u,l,v)},r.inherits(p,e.Group);var h=p;return mh=h,mh}var yh,px;function YM(){if(px)return yh;px=1;var e=fe,t=W;function r(o,s,p){e.Group.call(this),this._createPolyline(o,s,p)}var a=r.prototype;a._createPolyline=function(o,s,p){var n=o.getItemLayout(s),h=new e.Polyline({shape:{points:n}});this.add(h),this._updateCommonStl(o,s,p)},a.updateData=function(o,s,p){var n=o.hostModel,h=this.childAt(0),u={shape:{points:o.getItemLayout(s)}};e.updateProps(h,u,n,s),this._updateCommonStl(o,s,p)},a._updateCommonStl=function(o,s,p){var n=this.childAt(0),h=o.getItemModel(s),u=o.getItemVisual(s,"color"),v=p&&p.lineStyle,l=p&&p.hoverLineStyle;(!p||o.hasItemOption)&&(v=h.getModel("lineStyle").getLineStyle(),l=h.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:u},v)),n.hoverStyle=l,e.setHoverStyle(this)},a.updateLayout=function(o,s){var p=this.childAt(0);p.setShape("points",o.getItemLayout(s))},t.inherits(r,e.Group);var i=r;return yh=i,yh}var _h,mx;function gq(){if(mx)return _h;mx=1;var e=YM(),t=W,r=ZM(),a=Ye();function i(p,n,h){r.call(this,p,n,h),this._lastFrame=0,this._lastFramePercent=0}var o=i.prototype;o.createLine=function(p,n,h){return new e(p,n,h)},o.updateAnimationPoints=function(p,n){this._points=n;for(var h=[0],u=0,v=1;v<n.length;v++){var l=n[v-1],f=n[v];u+=a.dist(l,f),h.push(u)}if(u!==0){for(var v=0;v<h.length;v++)h[v]/=u;this._offsets=h,this._length=u}},o.getLineLength=function(p){return this._length},o.updateSymbolPosition=function(p){var n=p.__t,h=this._points,u=this._offsets,v=h.length;if(u){var l=this._lastFrame,f;if(n<this._lastFramePercent){var d=Math.min(l+1,v-1);for(f=d;f>=0&&!(u[f]<=n);f--);f=Math.min(f,v-2)}else{for(var f=l;f<v&&!(u[f]>n);f++);f=Math.min(f-1,v-2)}a.lerp(p.position,h[f],h[f+1],(n-u[f])/(u[f+1]-u[f]));var m=h[f+1][0]-h[f][0],c=h[f+1][1]-h[f][1];p.rotation=-Math.atan2(c,m)-Math.PI/2,this._lastFrame=f,this._lastFramePercent=n,p.ignore=!1}},t.inherits(i,r);var s=i;return _h=s,_h}var xh,yx;function pq(){if(yx)return xh;yx=1;var e=fe,t=Fd,r=kd,a=Od,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(n,h){var u=h.segs,v=h.curveness;if(h.polyline)for(var l=0;l<u.length;){var f=u[l++];if(f>0){n.moveTo(u[l++],u[l++]);for(var d=1;d<f;d++)n.lineTo(u[l++],u[l++])}}else for(var l=0;l<u.length;){var m=u[l++],c=u[l++],g=u[l++],y=u[l++];if(n.moveTo(m,c),v>0){var _=(m+g)/2-(c-y)*v,A=(c+y)/2-(g-m)*v;n.quadraticCurveTo(_,A,g,y)}else n.lineTo(g,y)}},findDataIndex:function(n,h){var u=this.shape,v=u.segs,l=u.curveness;if(u.polyline)for(var f=0,d=0;d<v.length;){var m=v[d++];if(m>0)for(var c=v[d++],g=v[d++],y=1;y<m;y++){var _=v[d++],A=v[d++];if(r.containStroke(c,g,_,A))return f}f++}else for(var f=0,d=0;d<v.length;){var c=v[d++],g=v[d++],_=v[d++],A=v[d++];if(l>0){var b=(c+_)/2-(g-A)*l,w=(g+A)/2-(_-c)*l;if(a.containStroke(c,g,b,w,_,A))return f}else if(r.containStroke(c,g,_,A))return f;f++}return-1}});function o(){this.group=new e.Group}var s=o.prototype;s.isPersistent=function(){return!this._incremental},s.updateData=function(n){this.group.removeAll();var h=new i({rectHover:!0,cursor:"default"});h.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(h,n),this.group.add(h),this._incremental=null},s.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},s.incrementalUpdate=function(n,h){var u=new i;u.setShape({segs:h.getLayout("linesPoints")}),this._setCommon(u,h,!!this._incremental),this._incremental?this._incremental.addDisplayable(u,!0):(u.rectHover=!0,u.cursor="default",u.__startIndex=n.start,this.group.add(u))},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._setCommon=function(n,h,u){var v=h.hostModel;n.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")}),n.useStyle(v.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var l=h.getVisual("color");l&&n.setStyle("stroke",l),n.setStyle("fill"),u||(n.seriesIndex=v.seriesIndex,n.on("mousemove",function(f){n.dataIndex=null;var d=n.findDataIndex(f.offsetX,f.offsetY);d>0&&(n.dataIndex=d+n.__startIndex)}))},s._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};var p=o;return xh=p,xh}var Sh,_x;function XM(){if(_x)return Sh;_x=1;var e=xi,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),o=r.pipelineContext.large;function s(p,n){var h=[];if(o){var u,v=p.end-p.start;if(i){for(var l=0,f=p.start;f<p.end;f++)l+=r.getLineCoordsCount(f);u=new Float32Array(v+l*2)}else u=new Float32Array(v*4);for(var d=0,m=[],f=p.start;f<p.end;f++){var c=r.getLineCoords(f,h);i&&(u[d++]=c);for(var g=0;g<c;g++)m=a.dataToPoint(h[g],!1,m),u[d++]=m[0],u[d++]=m[1]}n.setLayout("linesPoints",u)}else for(var f=p.start;f<p.end;f++){var y=n.getItemModel(f),c=r.getLineCoords(f,h),_=[];if(i)for(var A=0;A<c;A++)_.push(a.dataToPoint(h[A]));else{_[0]=a.dataToPoint(h[0]),_[1]=a.dataToPoint(h[1]);var b=y.get("lineStyle.curveness");+b&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*b,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*b])}n.setItemLayout(f,_)}}return{progress:s}}};return Sh=t,Sh}var bh,xx;function mq(){if(xx)return bh;xx=1;var e=ye,t=xg(),r=ZM(),a=_g(),i=YM(),o=gq(),s=pq(),p=XM(),n=En(),h=n.createClipPath,u=e.extendChartView({type:"lines",init:function(){},render:function(v,l,f){var d=v.getData(),m=this._updateLineDraw(d,v),c=v.get("zlevel"),g=v.get("effect.trailLength"),y=f.getZr(),_=y.painter.getType()==="svg";_||y.painter.getLayer(c).clear(!0),this._lastZlevel!=null&&!_&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(v)&&g&&(_||y.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),m.updateData(d);var A=v.get("clip",!0)&&h(v.coordinateSystem,!1,v);A?this.group.setClipPath(A):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},incrementalPrepareRender:function(v,l,f){var d=v.getData(),m=this._updateLineDraw(d,v);m.incrementalPrepareUpdate(d),this._clearLayer(f),this._finished=!1},incrementalRender:function(v,l,f){this._lineDraw.incrementalUpdate(v,l.getData()),this._finished=v.end===l.getData().count()},updateTransform:function(v,l,f){var d=v.getData(),m=v.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var c=p.reset(v);c.progress&&c.progress({start:0,end:d.count()},d),this._lineDraw.updateLayout(),this._clearLayer(f)},_updateLineDraw:function(v,l){var f=this._lineDraw,d=this._showEffect(l),m=!!l.get("polyline"),c=l.pipelineContext,g=c.large;return(!f||d!==this._hasEffet||m!==this._isPolyline||g!==this._isLargeDraw)&&(f&&f.remove(),f=this._lineDraw=g?new s:new t(m?d?o:i:d?r:a),this._hasEffet=d,this._isPolyline=m,this._isLargeDraw=g,this.group.removeAll()),this.group.add(f.group),f},_showEffect:function(v){return!!v.get("effect.show")},_clearLayer:function(v){var l=v.getZr(),f=l.painter.getType()==="svg";!f&&this._lastZlevel!=null&&l.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(v,l){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(l)},dispose:function(){}});return bh=u,bh}var wh,Sx;function yq(){if(Sx)return wh;Sx=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,o){var s=e(a.get("symbol")),p=e(a.get("symbolSize")),n=a.getData();n.setVisual("fromSymbol",s&&s[0]),n.setVisual("toSymbol",s&&s[1]),n.setVisual("fromSymbolSize",p&&p[0]),n.setVisual("toSymbolSize",p&&p[1]),n.setVisual("opacity",a.get(t));function h(u,v){var l=u.getItemModel(v),f=e(l.getShallow("symbol",!0)),d=e(l.getShallow("symbolSize",!0)),m=l.get(t);f[0]&&u.setItemVisual(v,"fromSymbol",f[0]),f[1]&&u.setItemVisual(v,"toSymbol",f[1]),d[0]&&u.setItemVisual(v,"fromSymbolSize",d[0]),d[1]&&u.setItemVisual(v,"toSymbolSize",d[1]),u.setItemVisual(v,"opacity",m)}return{dataEach:n.hasItemOption?h:null}}};return wh=r,wh}var bx;function _q(){if(bx)return fx;bx=1;var e=ye;dq(),mq();var t=XM(),r=yq();return e.registerLayout(t),e.registerVisual(r),fx}var Ax={},Ah,Tx;function xq(){if(Tx)return Ah;Tx=1;var e=ft,t=qr(),r=Cr,a=e.extend({type:"series.heatmap",getInitialData:function(i,o){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return Ah=a,Ah}var Th,Cx;function Sq(){if(Cx)return Th;Cx=1;var e=W,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,o,s,p,n,h){var u=this._getBrush(),v=this._getGradient(i,n,"inRange"),l=this._getGradient(i,n,"outOfRange"),f=this.pointSize+this.blurSize,d=this.canvas,m=d.getContext("2d"),c=i.length;d.width=o,d.height=s;for(var g=0;g<c;++g){var y=i[g],_=y[0],A=y[1],b=y[2],w=p(b);m.globalAlpha=w,m.drawImage(u,_-f,A-f)}if(!d.width||!d.height)return d;for(var x=m.getImageData(0,0,d.width,d.height),S=x.data,T=0,C=S.length,M=this.minOpacity,D=this.maxOpacity,L=D-M;T<C;){var w=S[T+3]/256,I=Math.floor(w*(t-1))*4;if(w>0){var P=h(w)?v:l;w>0&&(w=w*L+M),S[T++]=P[I],S[T++]=P[I+1],S[T++]=P[I+2],S[T++]=P[I+3]*w*256}else T+=4}return m.putImageData(x,0,0),d},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),o=this.pointSize+this.blurSize,s=o*2;i.width=s,i.height=s;var p=i.getContext("2d");return p.clearRect(0,0,s,s),p.shadowOffsetX=s,p.shadowBlur=this.blurSize,p.shadowColor="#000",p.beginPath(),p.arc(-o,o,this.pointSize,0,Math.PI*2,!0),p.closePath(),p.fill(),i},_getGradient:function(i,o,s){for(var p=this._gradientPixels,n=p[s]||(p[s]=new Uint8ClampedArray(256*4)),h=[0,0,0,0],u=0,v=0;v<256;v++)o[s](v/255,!0,h),n[u++]=h[0],n[u++]=h[1],n[u++]=h[2],n[u++]=h[3];return n}};var a=r;return Th=a,Th}var Ch,Mx;function bq(){if(Mx)return Ch;Mx=1;var e=ye,t=fe,r=Sq(),a=W;function i(n,h,u){var v=n[1]-n[0];h=a.map(h,function(d){return{interval:[(d.interval[0]-n[0])/v,(d.interval[1]-n[0])/v]}});var l=h.length,f=0;return function(d){for(var m=f;m<l;m++){var c=h[m].interval;if(c[0]<=d&&d<=c[1]){f=m;break}}if(m===l)for(var m=f-1;m>=0;m--){var c=h[m].interval;if(c[0]<=d&&d<=c[1]){f=m;break}}return m>=0&&m<l&&u[m]}}function o(n,h){var u=n[1]-n[0];return h=[(h[0]-n[0])/u,(h[1]-n[0])/u],function(v){return v>=h[0]&&v<=h[1]}}function s(n){var h=n.dimensions;return h[0]==="lng"&&h[1]==="lat"}var p=e.extendChartView({type:"heatmap",render:function(n,h,u){var v;h.eachComponent("visualMap",function(f){f.eachTargetSeries(function(d){d===n&&(v=f)})}),this.group.removeAll(),this._incrementalDisplayable=null;var l=n.coordinateSystem;l.type==="cartesian2d"||l.type==="calendar"?this._renderOnCartesianAndCalendar(n,u,0,n.getData().count()):s(l)&&this._renderOnGeo(l,n,v,u)},incrementalPrepareRender:function(n,h,u){this.group.removeAll()},incrementalRender:function(n,h,u,v){var l=h.coordinateSystem;l&&this._renderOnCartesianAndCalendar(h,v,n.start,n.end,!0)},_renderOnCartesianAndCalendar:function(n,h,u,v,l){var f=n.coordinateSystem,d,m;if(f.type==="cartesian2d"){var c=f.getAxis("x"),g=f.getAxis("y");d=c.getBandWidth(),m=g.getBandWidth()}for(var y=this.group,_=n.getData(),A="itemStyle",b="emphasis.itemStyle",w="label",x="emphasis.label",S=n.getModel(A).getItemStyle(["color"]),T=n.getModel(b).getItemStyle(),C=n.getModel(w),M=n.getModel(x),D=f.type,L=D==="cartesian2d"?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],I=u;I<v;I++){var P;if(D==="cartesian2d"){if(isNaN(_.get(L[2],I)))continue;var E=f.dataToPoint([_.get(L[0],I),_.get(L[1],I)]);P=new t.Rect({shape:{x:Math.floor(Math.round(E[0])-d/2),y:Math.floor(Math.round(E[1])-m/2),width:Math.ceil(d),height:Math.ceil(m)},style:{fill:_.getItemVisual(I,"color"),opacity:_.getItemVisual(I,"opacity")}})}else{if(isNaN(_.get(L[1],I)))continue;P=new t.Rect({z2:1,shape:f.dataToRect([_.get(L[0],I)]).contentShape,style:{fill:_.getItemVisual(I,"color"),opacity:_.getItemVisual(I,"opacity")}})}var O=_.getItemModel(I);_.hasItemOption&&(S=O.getModel(A).getItemStyle(["color"]),T=O.getModel(b).getItemStyle(),C=O.getModel(w),M=O.getModel(x));var B=n.getRawValue(I),q="-";B&&B[2]!=null&&(q=B[2]),t.setLabelStyle(S,T,C,M,{labelFetcher:n,labelDataIndex:I,defaultText:q,isRectText:!0}),P.setStyle(S),t.setHoverStyle(P,_.hasItemOption?T:a.extend({},T)),P.incremental=l,l&&(P.useHoverLayer=!0),y.add(P),_.setItemGraphicEl(I,P)}},_renderOnGeo:function(n,h,u,v){var l=u.targetVisuals.inRange,f=u.targetVisuals.outOfRange,d=h.getData(),m=this._hmLayer||this._hmLayer||new r;m.blurSize=h.get("blurSize"),m.pointSize=h.get("pointSize"),m.minOpacity=h.get("minOpacity"),m.maxOpacity=h.get("maxOpacity");var c=n.getViewRect().clone(),g=n.getRoamTransform();c.applyTransform(g);var y=Math.max(c.x,0),_=Math.max(c.y,0),A=Math.min(c.width+c.x,v.getWidth()),b=Math.min(c.height+c.y,v.getHeight()),w=A-y,x=b-_,S=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],T=d.mapArray(S,function(L,I,P){var E=n.dataToPoint([L,I]);return E[0]-=y,E[1]-=_,E.push(P),E}),C=u.getExtent(),M=u.type==="visualMap.continuous"?o(C,u.option.range):i(C,u.getPieceList(),u.option.selected);m.update(T,w,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:f.color.getColorMapper()},M);var D=new t.Image({style:{width:w,height:x,x:y,y:_,image:m.canvas},silent:!0});this.group.add(D)},dispose:function(){}});return Ch=p,Ch}var Dx;function wq(){return Dx||(Dx=1,xq(),bq()),Ax}var Lx={},Mh,Ix;function Aq(){if(Ix)return Mh;Ix=1;var e=PM(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return Mh=r,Mh}var Dh,Px;function Tq(){if(Px)return Dh;Px=1;var e=ye,t=W,r=fe,a=Kt(),i=a.createSymbol,o=Re(),s=o.parsePercent,p=o.isNumeric,n=RM(),h=n.setLabel,u=["itemStyle","borderWidth"],v=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],l=new r.Circle,f=e.extendChartView({type:"pictorialBar",render:function(z,k,N){var G=this.group,H=z.getData(),F=this._data,$=z.coordinateSystem,U=$.getBaseAxis(),K=!!U.isHorizontal(),Q=$.grid.getRect(),j={ecSize:{width:N.getWidth(),height:N.getHeight()},seriesModel:z,coordSys:$,coordSysExtent:[[Q.x,Q.x+Q.width],[Q.y,Q.y+Q.height]],isHorizontal:K,valueDim:v[+K],categoryDim:v[1-K]};return H.diff(F).add(function(ee){if(H.hasValue(ee)){var re=T(H,ee),te=d(H,ee,re,j),oe=L(H,j,te);H.setItemGraphicEl(ee,oe),G.add(oe),q(oe,j,te)}}).update(function(ee,re){var te=F.getItemGraphicEl(re);if(!H.hasValue(ee)){G.remove(te);return}var oe=T(H,ee),xe=d(H,ee,oe,j),se=E(H,xe);te&&se!==te.__pictorialShapeStr&&(G.remove(te),H.setItemGraphicEl(ee,null),te=null),te?I(te,j,xe):te=L(H,j,xe,!0),H.setItemGraphicEl(ee,te),te.__pictorialSymbolMeta=xe,G.add(te),q(te,j,xe)}).remove(function(ee){var re=F.getItemGraphicEl(ee);re&&P(F,ee,re.__pictorialSymbolMeta.animationModel,re)}).execute(),this._data=H,this.group},dispose:t.noop,remove:function(z,k){var N=this.group,G=this._data;z.get("animation")?G&&G.eachItemGraphicEl(function(H){P(G,H.dataIndex,z,H)}):N.removeAll()}});function d(z,k,N,G){var H=z.getItemLayout(k),F=N.get("symbolRepeat"),$=N.get("symbolClip"),U=N.get("symbolPosition")||"start",K=N.get("symbolRotate"),Q=(K||0)*Math.PI/180||0,j=N.get("symbolPatternSize")||2,ee=N.isAnimationEnabled(),re={dataIndex:k,layout:H,itemModel:N,symbolType:z.getItemVisual(k,"symbol")||"circle",color:z.getItemVisual(k,"color"),symbolClip:$,symbolRepeat:F,symbolRepeatDirection:N.get("symbolRepeatDirection"),symbolPatternSize:j,rotation:Q,animationModel:ee?N:null,hoverAnimation:ee&&N.get("hoverAnimation"),z2:N.getShallow("z",!0)||0};m(N,F,H,G,re),g(z,k,H,F,$,re.boundingLength,re.pxSign,j,G,re),y(N,re.symbolScale,Q,G,re);var te=re.symbolSize,oe=N.get("symbolOffset");return t.isArray(oe)&&(oe=[s(oe[0],te[0]),s(oe[1],te[1])]),_(N,te,H,F,$,oe,U,re.valueLineWidth,re.boundingLength,re.repeatCutLength,G,re),re}function m(z,k,N,G,H){var F=G.valueDim,$=z.get("symbolBoundingData"),U=G.coordSys.getOtherAxis(G.coordSys.getBaseAxis()),K=U.toGlobalCoord(U.dataToCoord(0)),Q=1-+(N[F.wh]<=0),j;if(t.isArray($)){var ee=[c(U,$[0])-K,c(U,$[1])-K];ee[1]<ee[0]&&ee.reverse(),j=ee[Q]}else $!=null?j=c(U,$)-K:k?j=G.coordSysExtent[F.index][Q]-K:j=N[F.wh];H.boundingLength=j,k&&(H.repeatCutLength=N[F.wh]),H.pxSign=j>0?1:j<0?-1:0}function c(z,k){return z.toGlobalCoord(z.dataToCoord(z.scale.parse(k)))}function g(z,k,N,G,H,F,$,U,K,Q){var j=K.valueDim,ee=K.categoryDim,re=Math.abs(N[ee.wh]),te=z.getItemVisual(k,"symbolSize");t.isArray(te)?te=te.slice():(te==null&&(te="100%"),te=[te,te]),te[ee.index]=s(te[ee.index],re),te[j.index]=s(te[j.index],G?re:Math.abs(F)),Q.symbolSize=te;var oe=Q.symbolScale=[te[0]/U,te[1]/U];oe[j.index]*=(K.isHorizontal?-1:1)*$}function y(z,k,N,G,H){var F=z.get(u)||0;F&&(l.attr({scale:k.slice(),rotation:N}),l.updateTransform(),F/=l.getLineScale(),F*=k[G.valueDim.index]),H.valueLineWidth=F}function _(z,k,N,G,H,F,$,U,K,Q,j,ee){var re=j.categoryDim,te=j.valueDim,oe=ee.pxSign,xe=Math.max(k[te.index]+U,0),se=xe;if(G){var ge=Math.abs(K),we=t.retrieve(z.get("symbolMargin"),"15%")+"",ie=!1;we.lastIndexOf("!")===we.length-1&&(ie=!0,we=we.slice(0,we.length-1)),we=s(we,k[te.index]);var ne=Math.max(xe+we*2,0),de=ie?0:we*2,Z=p(G),X=Z?G:V((ge+de)/ne),J=ge-X*xe;we=J/2/(ie?X:X-1),ne=xe+we*2,de=ie?0:we*2,!Z&&G!=="fixed"&&(X=Q?V((Math.abs(Q)+de)/ne):0),se=X*ne-de,ee.repeatTimes=X,ee.symbolMargin=we}var ue=oe*(se/2),le=ee.pathPosition=[];le[re.index]=N[re.wh]/2,le[te.index]=$==="start"?ue:$==="end"?K-ue:K/2,F&&(le[0]+=F[0],le[1]+=F[1]);var ve=ee.bundlePosition=[];ve[re.index]=N[re.xy],ve[te.index]=N[te.xy];var he=ee.barRectShape=t.extend({},N);he[te.wh]=oe*Math.max(Math.abs(N[te.wh]),Math.abs(le[te.index]+ue)),he[re.wh]=N[re.wh];var pe=ee.clipShape={};pe[re.xy]=-N[re.xy],pe[re.wh]=j.ecSize[re.wh],pe[te.xy]=0,pe[te.wh]=N[te.wh]}function A(z){var k=z.symbolPatternSize,N=i(z.symbolType,-k/2,-k/2,k,k,z.color);return N.attr({culling:!0}),N.type!=="image"&&N.setStyle({strokeNoScale:!0}),N}function b(z,k,N,G){var H=z.__pictorialBundle,F=N.symbolSize,$=N.valueLineWidth,U=N.pathPosition,K=k.valueDim,Q=N.repeatTimes||0,j=0,ee=F[k.valueDim.index]+$+N.symbolMargin*2;for(O(z,function(ge){ge.__pictorialAnimationIndex=j,ge.__pictorialRepeatTimes=Q,j<Q?B(ge,null,oe(j),N,G):B(ge,null,{scale:[0,0]},N,G,function(){H.remove(ge)}),D(ge,N),j++});j<Q;j++){var re=A(N);re.__pictorialAnimationIndex=j,re.__pictorialRepeatTimes=Q,H.add(re);var te=oe(j);B(re,{position:te.position,scale:[0,0]},{scale:te.scale,rotation:te.rotation},N,G),re.on("mouseover",xe).on("mouseout",se),D(re,N)}function oe(ge){var we=U.slice(),ie=N.pxSign,ne=ge;return(N.symbolRepeatDirection==="start"?ie>0:ie<0)&&(ne=Q-1-ge),we[K.index]=ee*(ne-Q/2+.5)+U[K.index],{position:we,scale:N.symbolScale.slice(),rotation:N.rotation}}function xe(){O(z,function(ge){ge.trigger("emphasis")})}function se(){O(z,function(ge){ge.trigger("normal")})}}function w(z,k,N,G){var H=z.__pictorialBundle,F=z.__pictorialMainPath;F?B(F,null,{position:N.pathPosition.slice(),scale:N.symbolScale.slice(),rotation:N.rotation},N,G):(F=z.__pictorialMainPath=A(N),H.add(F),B(F,{position:N.pathPosition.slice(),scale:[0,0],rotation:N.rotation},{scale:N.symbolScale.slice()},N,G),F.on("mouseover",$).on("mouseout",U)),D(F,N);function $(){this.trigger("emphasis")}function U(){this.trigger("normal")}}function x(z,k,N){var G=t.extend({},k.barRectShape),H=z.__pictorialBarRect;H?B(H,null,{shape:G},k,N):(H=z.__pictorialBarRect=new r.Rect({z2:2,shape:G,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),z.add(H))}function S(z,k,N,G){if(N.symbolClip){var H=z.__pictorialClipPath,F=t.extend({},N.clipShape),$=k.valueDim,U=N.animationModel,K=N.dataIndex;if(H)r.updateProps(H,{shape:F},U,K);else{F[$.wh]=0,H=new r.Rect({shape:F}),z.__pictorialBundle.setClipPath(H),z.__pictorialClipPath=H;var Q={};Q[$.wh]=N.clipShape[$.wh],r[G?"updateProps":"initProps"](H,{shape:Q},U,K)}}}function T(z,k){var N=z.getItemModel(k);return N.getAnimationDelayParams=C,N.isAnimationEnabled=M,N}function C(z){return{index:z.__pictorialAnimationIndex,count:z.__pictorialRepeatTimes}}function M(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function D(z,k){z.off("emphasis").off("normal");var N=k.symbolScale.slice();k.hoverAnimation&&z.on("emphasis",function(){this.animateTo({scale:[N[0]*1.1,N[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:N.slice()},400,"elasticOut")})}function L(z,k,N,G){var H=new r.Group,F=new r.Group;return H.add(F),H.__pictorialBundle=F,F.attr("position",N.bundlePosition.slice()),N.symbolRepeat?b(H,k,N):w(H,k,N),x(H,N,G),S(H,k,N,G),H.__pictorialShapeStr=E(z,N),H.__pictorialSymbolMeta=N,H}function I(z,k,N){var G=N.animationModel,H=N.dataIndex,F=z.__pictorialBundle;r.updateProps(F,{position:N.bundlePosition.slice()},G,H),N.symbolRepeat?b(z,k,N,!0):w(z,k,N,!0),x(z,N,!0),S(z,k,N,!0)}function P(z,k,N,G){var H=G.__pictorialBarRect;H&&(H.style.text=null);var F=[];O(G,function($){F.push($)}),G.__pictorialMainPath&&F.push(G.__pictorialMainPath),G.__pictorialClipPath&&(N=null),t.each(F,function($){r.updateProps($,{scale:[0,0]},N,k,function(){G.parent&&G.parent.remove(G)})}),z.setItemGraphicEl(k,null)}function E(z,k){return[z.getItemVisual(k.dataIndex,"symbol")||"none",!!k.symbolRepeat,!!k.symbolClip].join(":")}function O(z,k,N){t.each(z.__pictorialBundle.children(),function(G){G!==z.__pictorialBarRect&&k.call(N,G)})}function B(z,k,N,G,H,F){k&&z.attr(k),G.symbolClip&&!H?N&&z.attr(N):N&&r[H?"updateProps":"initProps"](z,N,G.animationModel,G.dataIndex,F)}function q(z,k,N){var G=N.color,H=N.dataIndex,F=N.itemModel,$=F.getModel("itemStyle").getItemStyle(["color"]),U=F.getModel("emphasis.itemStyle").getItemStyle(),K=F.getShallow("cursor");O(z,function(re){re.setColor(G),re.setStyle(t.defaults({fill:G,opacity:N.opacity},$)),r.setHoverStyle(re,U),K&&(re.cursor=K),re.z2=N.z2});var Q={},j=k.valueDim.posDesc[+(N.boundingLength>0)],ee=z.__pictorialBarRect;h(ee.style,Q,F,G,k.seriesModel,H,j),r.setHoverStyle(ee,Q)}function V(z){var k=Math.round(z);return Math.abs(z-k)<1e-4?k:Math.ceil(z)}var R=f;return Dh=R,Dh}var Rx;function Cq(){if(Rx)return Lx;Rx=1;var e=ye,t=W;cg(),Aq(),Tq();var r=xs(),a=r.layout,i=Ia();return On(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),Lx}var Ex={},kx={},Ox={},Lh,zx;function Mq(){if(zx)return Lh;zx=1;var e=W,t=sa(),r=function(i,o,s,p,n){t.call(this,i,o,s),this.type=p||"value",this.position=n||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,o){return this.coordinateSystem.pointToData(i,o)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return Lh=a,Lh}var Ih,Bx;function Dq(){if(Bx)return Ih;Bx=1;var e=Mq(),t=hr(),r=ze,a=r.getLayoutRect,i=W,o=i.each;function s(n,h,u){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(n,h,u),this.model=n}s.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:s,_init:function(n,h,u){var v=this.dimension,l=new e(v,t.createScaleByModel(n),[0,0],n.get("type"),n.get("position")),f=l.type==="category";l.onBand=f&&n.get("boundaryGap"),l.inverse=n.get("inverse"),l.orient=n.get("orient"),n.axis=l,l.model=n,l.coordinateSystem=this,this._axis=l},update:function(n,h){n.eachSeries(function(u){if(u.coordinateSystem===this){var v=u.getData();o(v.mapDimension(this.dimension,!0),function(l){this._axis.scale.unionExtentFromData(v,l)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(n,h){this._rect=a({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:h.getWidth(),height:h.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,h=this._axis,u=h.isHorizontal(),v=u?[0,n.width]:[0,n.height],l=h.reverse?1:0;h.setExtent(v[l],v[1-l]),this._updateAxisTransform(h,u?n.x:n.y)},_updateAxisTransform:function(n,h){var u=n.getExtent(),v=u[0]+u[1],l=n.isHorizontal();n.toGlobalCoord=l?function(f){return f+h}:function(f){return v-f+h},n.toLocalCoord=l?function(f){return f-h}:function(f){return v-f+h}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var h=this.getRect(),u=this.getAxis(),v=u.orient;return v==="horizontal"?u.contain(u.toLocalCoord(n[0]))&&n[1]>=h.y&&n[1]<=h.y+h.height:u.contain(u.toLocalCoord(n[1]))&&n[0]>=h.y&&n[0]<=h.y+h.height},pointToData:function(n){var h=this.getAxis();return[h.coordToData(h.toLocalCoord(n[h.orient==="horizontal"?0:1]))]},dataToPoint:function(n){var h=this.getAxis(),u=this.getRect(),v=[],l=h.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),v[l]=h.toGlobalCoord(h.dataToCoord(+n)),v[1-l]=l===0?u.y+u.height/2:u.x+u.width/2,v}};var p=s;return Ih=p,Ih}var Nx;function Lq(){if(Nx)return Ox;Nx=1;var e=Dq(),t=Cr;function r(a,i){var o=[];return a.eachComponent("singleAxis",function(s,p){var n=new e(s,a,i);n.name="single_"+p,n.resize(s,i),s.coordinateSystem=n,o.push(n)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="singleAxis"){var p=a.queryComponents({mainType:"singleAxis",index:s.get("singleAxisIndex"),id:s.get("singleAxisId")})[0];s.coordinateSystem=p&&p.coordinateSystem}}),o}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),Ox}var Ph={},Vx;function KM(){if(Vx)return Ph;Vx=1;var e=W;function t(r,a){a=a||{};var i=r.coordinateSystem,o=r.axis,s={},p=o.position,n=o.orient,h=i.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],v={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};s.position=[n==="vertical"?v.vertical[p]:u[0],n==="horizontal"?v.horizontal[p]:u[3]];var l={horizontal:0,vertical:1};s.rotation=Math.PI/2*l[n];var f={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=f[p],r.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var d=a.rotate;return d==null&&(d=r.get("axisLabel.rotate")),s.labelRotation=p==="top"?-d:d,s.z2=1,s}return Ph.layout=t,Ph}var Rh,Hx;function Iq(){if(Hx)return Rh;Hx=1;var e=W,t=la(),r=fe,a=KM(),i=Pa(),o=IM(),s=o.rectCoordAxisBuildSplitArea,p=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],u=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(l,f,d,m){var c=this.group;c.removeAll();var g=this._axisGroup;this._axisGroup=new r.Group;var y=a.layout(l),_=new t(l,y);e.each(n,_.add,_),c.add(this._axisGroup),c.add(_.getGroup()),e.each(h,function(A){l.get(A+".show")&&this["_"+A](l)},this),r.groupTransition(g,this._axisGroup,l),u.superCall(this,"render",l,f,d,m)},remove:function(){p(this)},_splitLine:function(l){var f=l.axis;if(!f.scale.isBlank()){var d=l.getModel("splitLine"),m=d.getModel("lineStyle"),c=m.get("width"),g=m.get("color");g=g instanceof Array?g:[g];for(var y=l.coordinateSystem.getRect(),_=f.isHorizontal(),A=[],b=0,w=f.getTicksCoords({tickModel:d}),x=[],S=[],T=0;T<w.length;++T){var C=f.toGlobalCoord(w[T].coord);_?(x[0]=C,x[1]=y.y,S[0]=C,S[1]=y.y+y.height):(x[0]=y.x,x[1]=C,S[0]=y.x+y.width,S[1]=C);var M=b++%g.length;A[M]=A[M]||[],A[M].push(new r.Line({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:S[0],y2:S[1]},style:{lineWidth:c},silent:!0}))}for(var T=0;T<A.length;++T)this.group.add(r.mergePath(A[T],{style:{stroke:g[T%g.length],lineDash:m.getLineDash(c),lineWidth:c},silent:!0}))}},_splitArea:function(l){s(this,this._axisGroup,l,l)}}),v=u;return Rh=v,Rh}var Eh,qx;function Pq(){if(qx)return Eh;qx=1;var e=W,t=ct,r=bs(),a=wi(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),o={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function s(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a),r("single",i,s,o);var p=i;return Eh=p,Eh}var Gx={},kh,Fx;function QM(){if(Fx)return kh;Fx=1;var e=W,t=Ie;function r(a,i){var o=[],s=a.seriesIndex,p;if(s==null||!(p=i.getSeriesByIndex(s)))return{point:[]};var n=p.getData(),h=t.queryDataIndex(n,a);if(h==null||h<0||e.isArray(h))return{point:[]};var u=n.getItemGraphicEl(h),v=p.coordinateSystem;if(p.getTooltipPosition)o=p.getTooltipPosition(h)||[];else if(v&&v.dataToPoint)o=v.dataToPoint(n.getValues(e.map(v.dimensions,function(f){return n.mapDimension(f)}),h,!0))||[];else if(u){var l=u.getBoundingRect().clone();l.applyTransform(u.transform),o=[l.x+l.width/2,l.y+l.height/2]}return{point:o,el:u}}return kh=r,kh}var Oh,$x;function Rq(){if($x)return Oh;$x=1;var e=W,t=Ie,r=t.makeInner,a=ws(),i=QM(),o=e.each,s=e.curry,p=r();function n(_,A,b){var w=_.currTrigger,x=[_.x,_.y],S=_,T=_.dispatchAction||e.bind(b.dispatchAction,b),C=A.getComponent("axisPointer").coordSysAxesInfo;if(C){y(x)&&(x=i({seriesIndex:S.seriesIndex,dataIndex:S.dataIndex},A).point);var M=y(x),D=S.axesInfo,L=C.axesInfo,I=w==="leave"||y(x),P={},E={},O={list:[],map:{}},B={showPointer:s(v,E),showTooltip:s(l,O)};o(C.coordSysMap,function(V,R){var z=M||V.containPoint(x);o(C.coordSysAxesInfo[R],function(k,N){var G=k.axis,H=c(D,k);if(!I&&z&&(!D||H)){var F=H&&H.value;F==null&&!M&&(F=G.pointToData(x)),F!=null&&h(k,F,B,!1,P)}})});var q={};return o(L,function(V,R){var z=V.linkGroup;z&&!E[R]&&o(z.axesInfo,function(k,N){var G=E[N];if(k!==V&&G){var H=G.value;z.mapper&&(H=V.axis.scale.parse(z.mapper(H,g(k),g(V)))),q[V.key]=H}})}),o(q,function(V,R){h(L[R],V,B,!0,P)}),f(E,L,P),d(O,x,_,T),m(L,T,b),P}}function h(_,A,b,w,x){var S=_.axis;if(!(S.scale.isBlank()||!S.containData(A))){if(!_.involveSeries){b.showPointer(_,A);return}var T=u(A,_),C=T.payloadBatch,M=T.snapToValue;C[0]&&x.seriesIndex==null&&e.extend(x,C[0]),!w&&_.snap&&S.containData(M)&&M!=null&&(A=M),b.showPointer(_,A,C,x),b.showTooltip(_,T,M)}}function u(_,A){var b=A.axis,w=b.dim,x=_,S=[],T=Number.MAX_VALUE,C=-1;return o(A.seriesModels,function(M,D){var L=M.getData().mapDimension(w,!0),I,P;if(M.getAxisTooltipData){var E=M.getAxisTooltipData(L,_,b);P=E.dataIndices,I=E.nestestValue}else{if(P=M.getData().indicesOfNearest(L[0],_,b.type==="category"?.5:null),!P.length)return;I=M.getData().get(L[0],P[0])}if(!(I==null||!isFinite(I))){var O=_-I,B=Math.abs(O);B<=T&&((B<T||O>=0&&C<0)&&(T=B,C=O,x=I,S.length=0),o(P,function(q){S.push({seriesIndex:M.seriesIndex,dataIndexInside:q,dataIndex:M.getData().getRawIndex(q)})}))}}),{payloadBatch:S,snapToValue:x}}function v(_,A,b,w){_[A.key]={value:b,payloadBatch:w}}function l(_,A,b,w){var x=b.payloadBatch,S=A.axis,T=S.model,C=A.axisPointerModel;if(!(!A.triggerTooltip||!x.length)){var M=A.coordSys.model,D=a.makeKey(M),L=_.map[D];L||(L=_.map[D]={coordSysId:M.id,coordSysIndex:M.componentIndex,coordSysType:M.type,coordSysMainType:M.mainType,dataByAxis:[]},_.list.push(L)),L.dataByAxis.push({axisDim:S.dim,axisIndex:T.componentIndex,axisType:T.type,axisId:T.id,value:w,valueLabelOpt:{precision:C.get("label.precision"),formatter:C.get("label.formatter")},seriesDataIndices:x.slice()})}}function f(_,A,b){var w=b.axesInfo=[];o(A,function(x,S){var T=x.axisPointerModel.option,C=_[S];C?(!x.useHandle&&(T.status="show"),T.value=C.value,T.seriesDataIndices=(C.payloadBatch||[]).slice()):!x.useHandle&&(T.status="hide"),T.status==="show"&&w.push({axisDim:x.axis.dim,axisIndex:x.axis.model.componentIndex,value:T.value})})}function d(_,A,b,w){if(y(A)||!_.list.length){w({type:"hideTip"});return}var x=((_.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};w({type:"showTip",escapeConnect:!0,x:A[0],y:A[1],tooltipOption:b.tooltipOption,position:b.position,dataIndexInside:x.dataIndexInside,dataIndex:x.dataIndex,seriesIndex:x.seriesIndex,dataByCoordSys:_.list})}function m(_,A,b){var w=b.getZr(),x="axisPointerLastHighlights",S=p(w)[x]||{},T=p(w)[x]={};o(_,function(D,L){var I=D.axisPointerModel.option;I.status==="show"&&o(I.seriesDataIndices,function(P){var E=P.seriesIndex+" | "+P.dataIndex;T[E]=P})});var C=[],M=[];e.each(S,function(D,L){!T[L]&&M.push(D)}),e.each(T,function(D,L){!S[L]&&C.push(D)}),M.length&&b.dispatchAction({type:"downplay",escapeConnect:!0,batch:M}),C.length&&b.dispatchAction({type:"highlight",escapeConnect:!0,batch:C})}function c(_,A){for(var b=0;b<(_||[]).length;b++){var w=_[b];if(A.axis.dim===w.axisDim&&A.axis.model.componentIndex===w.axisIndex)return w}}function g(_){var A=_.axis.model,b={},w=b.axisDim=_.axis.dim;return b.axisIndex=b[w+"AxisIndex"]=A.componentIndex,b.axisName=b[w+"AxisName"]=A.name,b.axisId=b[w+"AxisId"]=A.id,b}function y(_){return!_||_[0]==null||isNaN(_[0])||_[1]==null||isNaN(_[1])}return Oh=n,Oh}var zh,Ux;function Eq(){if(Ux)return zh;Ux=1;var e=ye,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return zh=r,zh}var xo={},Wx;function jM(){if(Wx)return xo;Wx=1;var e=W,t=nt,r=Ie,a=r.makeInner,i=a(),o=e.each;function s(f,d,m){if(!t.node){var c=d.getZr();i(c).records||(i(c).records={}),p(c,d);var g=i(c).records[f]||(i(c).records[f]={});g.handler=m}}function p(f,d){if(i(f).initialized)return;i(f).initialized=!0,m("click",e.curry(u,"click")),m("mousemove",e.curry(u,"mousemove")),m("globalout",h);function m(c,g){f.on(c,function(y){var _=v(d);o(i(f).records,function(A){A&&g(A,y,_.dispatchAction)}),n(_.pendings,d)})}}function n(f,d){var m=f.showTip.length,c=f.hideTip.length,g;m?g=f.showTip[m-1]:c&&(g=f.hideTip[c-1]),g&&(g.dispatchAction=null,d.dispatchAction(g))}function h(f,d,m){f.handler("leave",null,m)}function u(f,d,m,c){d.handler(f,m,c)}function v(f){var d={showTip:[],hideTip:[]},m=function(c){var g=d[c.type];g?g.push(c):(c.dispatchAction=m,f.dispatchAction(c))};return{dispatchAction:m,pendings:d}}function l(f,d){if(!t.node){var m=d.getZr(),c=(i(m).records||{})[f];c&&(i(m).records[f]=null)}}return xo.register=s,xo.unregister=l,xo}var Bh,Zx;function kq(){if(Zx)return Bh;Zx=1;var e=ye,t=jM(),r=e.extendComponentView({type:"axisPointer",render:function(i,o,s){var p=o.getComponent("tooltip"),n=i.get("triggerOn")||p&&p.get("triggerOn")||"mousemove|click";t.register("axisPointer",s,function(h,u,v){n!=="none"&&(h==="leave"||n.indexOf(h)>=0)&&v({type:"updateAxisPointer",currTrigger:h,x:u&&u.offsetX,y:u&&u.offsetY})})},remove:function(i,o){t.unregister(o.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,o){t.unregister("axisPointer",o),r.superApply(this._model,"dispose",arguments)}}),a=r;return Bh=a,Bh}var Nh,Yx;function wg(){if(Yx)return Nh;Yx=1;var e=W,t=zt,r=fe,a=ws(),i=ht,o=vr,s=Ie,p=s.makeInner,n=p(),h=e.clone,u=e.bind;function v(){}v.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,_,A,b){var w=_.get("value"),x=_.get("status");if(this._axisModel=y,this._axisPointerModel=_,this._api=A,!(!b&&this._lastValue===w&&this._lastStatus===x)){this._lastValue=w,this._lastStatus=x;var S=this._group,T=this._handle;if(!x||x==="hide"){S&&S.hide(),T&&T.hide();return}S&&S.show(),T&&T.show();var C={};this.makeElOption(C,w,y,_,A);var M=C.graphicKey;M!==this._lastGraphicKey&&this.clear(A),this._lastGraphicKey=M;var D=this._moveAnimation=this.determineAnimation(y,_);if(!S)S=this._group=new r.Group,this.createPointerEl(S,C,y,_),this.createLabelEl(S,C,y,_),A.getZr().add(S);else{var L=e.curry(l,_,D);this.updatePointerEl(S,C,L,_),this.updateLabelEl(S,C,L,_)}c(S,_,!0),this._renderHandle(w)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,_){var A=_.get("animation"),b=y.axis,w=b.type==="category",x=_.get("snap");if(!x&&!w)return!1;if(A==="auto"||A==null){var S=this.animationThreshold;if(w&&b.getBandWidth()>S)return!0;if(x){var T=a.getAxisInfo(y).seriesDataCount,C=b.getExtent();return Math.abs(C[0]-C[1])/T>S}return!1}return A===!0},makeElOption:function(y,_,A,b,w){},createPointerEl:function(y,_,A,b){var w=_.pointer;if(w){var x=n(y).pointerEl=new r[w.type](h(_.pointer));y.add(x)}},createLabelEl:function(y,_,A,b){if(_.label){var w=n(y).labelEl=new r.Rect(h(_.label));y.add(w),d(w,b)}},updatePointerEl:function(y,_,A){var b=n(y).pointerEl;b&&_.pointer&&(b.setStyle(_.pointer.style),A(b,{shape:_.pointer.shape}))},updateLabelEl:function(y,_,A,b){var w=n(y).labelEl;w&&(w.setStyle(_.label.style),A(w,{shape:_.label.shape,position:_.label.position}),d(w,b))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var _=this._axisPointerModel,A=this._api.getZr(),b=this._handle,w=_.getModel("handle"),x=_.get("status");if(!w.get("show")||!x||x==="hide"){b&&A.remove(b),this._handle=null;return}var S;this._handle||(S=!0,b=this._handle=r.createIcon(w.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(M){i.stop(M.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),A.add(b)),c(b,_,!1);var T=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];b.setStyle(w.getItemStyle(null,T));var C=w.get("size");e.isArray(C)||(C=[C,C]),b.attr("scale",[C[0]/2,C[1]/2]),o.createOrUpdate(this,"_doDispatchAxisPointer",w.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,S)}},_moveHandleToValue:function(y,_){l(this._axisPointerModel,!_&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,_){var A=this._handle;if(A){this._dragging=!0;var b=this.updateHandleTransform(m(A),[y,_],this._axisModel,this._axisPointerModel);this._payloadInfo=b,A.stopAnimation(),A.attr(m(b)),n(A).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var _=this._payloadInfo,A=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:_.cursorPoint[0],y:_.cursorPoint[1],tooltipOption:_.tooltipOption,axesInfo:[{axisDim:A.axis.dim,axisIndex:A.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var _=this._handle;if(_){var A=this._axisPointerModel.get("value");this._moveHandleToValue(A),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var _=y.getZr(),A=this._group,b=this._handle;_&&A&&(this._lastGraphicKey=null,A&&_.remove(A),b&&_.remove(b),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,_,A){return A=A||0,{x:y[A],y:y[1-A],width:_[A],height:_[1-A]}}},v.prototype.constructor=v;function l(y,_,A,b){f(n(A).lastProp,b)||(n(A).lastProp=b,_?r.updateProps(A,b,y):(A.stopAnimation(),A.attr(b)))}function f(y,_){if(e.isObject(y)&&e.isObject(_)){var A=!0;return e.each(_,function(b,w){A=A&&f(y[w],b)}),!!A}else return y===_}function d(y,_){y[_.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function c(y,_,A){var b=_.get("z"),w=_.get("zlevel");y&&y.traverse(function(x){x.type!=="group"&&(b!=null&&(x.z=b),w!=null&&(x.zlevel=w),x.silent=A)})}t.enableClassExtend(v);var g=v;return Nh=g,Nh}var yr={},Xx;function Ds(){if(Xx)return yr;Xx=1;var e=W,t=fe,r=Ue,a=Ge(),i=Rt(),o=hr(),s=la();function p(c){var g=c.get("type"),y=c.getModel(g+"Style"),_;return g==="line"?(_=y.getLineStyle(),_.fill=null):g==="shadow"&&(_=y.getAreaStyle(),_.stroke=null),_}function n(c,g,y,_,A){var b=y.get("value"),w=u(b,g.axis,g.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),x=y.getModel("label"),S=a.normalizeCssArray(x.get("padding")||0),T=x.getFont(),C=r.getBoundingRect(w,T),M=A.position,D=C.width+S[1]+S[3],L=C.height+S[0]+S[2],I=A.align;I==="right"&&(M[0]-=D),I==="center"&&(M[0]-=D/2);var P=A.verticalAlign;P==="bottom"&&(M[1]-=L),P==="middle"&&(M[1]-=L/2),h(M,D,L,_);var E=x.get("backgroundColor");(!E||E==="auto")&&(E=g.get("axisLine.lineStyle.color")),c.label={shape:{x:0,y:0,width:D,height:L,r:x.get("borderRadius")},position:M.slice(),style:{text:w,textFont:T,textFill:x.getTextColor(),textPosition:"inside",textPadding:S,fill:E,stroke:x.get("borderColor")||"transparent",lineWidth:x.get("borderWidth")||0,shadowBlur:x.get("shadowBlur"),shadowColor:x.get("shadowColor"),shadowOffsetX:x.get("shadowOffsetX"),shadowOffsetY:x.get("shadowOffsetY")},z2:10}}function h(c,g,y,_){var A=_.getWidth(),b=_.getHeight();c[0]=Math.min(c[0]+g,A)-g,c[1]=Math.min(c[1]+y,b)-y,c[0]=Math.max(c[0],0),c[1]=Math.max(c[1],0)}function u(c,g,y,_,A){c=g.scale.parse(c);var b=g.scale.getLabel(c,{precision:A.precision}),w=A.formatter;if(w){var x={value:o.getAxisRawValue(g,c),axisDimension:g.dim,axisIndex:g.index,seriesData:[]};e.each(_,function(S){var T=y.getSeriesByIndex(S.seriesIndex),C=S.dataIndexInside,M=T&&T.getDataParams(C);M&&x.seriesData.push(M)}),e.isString(w)?b=w.replace("{value}",b):e.isFunction(w)&&(b=w(x))}return b}function v(c,g,y){var _=i.create();return i.rotate(_,_,y.rotation),i.translate(_,_,y.position),t.applyTransform([c.dataToCoord(g),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],_)}function l(c,g,y,_,A,b){var w=s.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=A.get("label.margin"),n(g,_,A,b,{position:v(_.axis,c,y),align:w.textAlign,verticalAlign:w.textVerticalAlign})}function f(c,g,y){return y=y||0,{x1:c[y],y1:c[1-y],x2:g[y],y2:g[1-y]}}function d(c,g,y){return y=y||0,{x:c[y],y:c[1-y],width:g[y],height:g[1-y]}}function m(c,g,y,_,A,b){return{cx:c,cy:g,r0:y,r:_,startAngle:A,endAngle:b,clockwise:!0}}return yr.buildElStyle=p,yr.buildLabelElOption=n,yr.getValueLabel=u,yr.getTransformedPosition=v,yr.buildCartesianSingleLabelElOption=l,yr.makeLineShape=f,yr.makeRectShape=d,yr.makeSectorShape=m,yr}var Vh,Kx;function JM(){if(Kx)return Vh;Kx=1;var e=wg(),t=Ds(),r=LM(),a=Pa(),i=e.extend({makeElOption:function(h,u,v,l,f){var d=v.axis,m=d.grid,c=l.get("type"),g=o(m,d).getOtherAxis(d).getGlobalExtent(),y=d.toGlobalCoord(d.dataToCoord(u,!0));if(c&&c!=="none"){var _=t.buildElStyle(l),A=s[c](d,y,g);A.style=_,h.graphicKey=A.type,h.pointer=A}var b=r.layout(m.model,v);t.buildCartesianSingleLabelElOption(u,h,b,v,l,f)},getHandleTransform:function(h,u,v){var l=r.layout(u.axis.grid.model,u,{labelInside:!1});return l.labelMargin=v.get("handle.margin"),{position:t.getTransformedPosition(u.axis,h,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,u,v,l){var f=v.axis,d=f.grid,m=f.getGlobalExtent(!0),c=o(d,f).getOtherAxis(f).getGlobalExtent(),g=f.dim==="x"?0:1,y=h.position;y[g]+=u[g],y[g]=Math.min(m[1],y[g]),y[g]=Math.max(m[0],y[g]);var _=(c[1]+c[0])/2,A=[_,_];A[g]=y[g];var b=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:h.rotation,cursorPoint:A,tooltipOption:b[g]}}});function o(h,u){var v={};return v[u.dim+"AxisIndex"]=u.index,h.getCartesian(v)}var s={line:function(h,u,v){var l=t.makeLineShape([u,v[0]],[u,v[1]],p(h));return{type:"Line",subPixelOptimize:!0,shape:l}},shadow:function(h,u,v){var l=Math.max(1,h.getBandWidth()),f=v[1]-v[0];return{type:"Rect",shape:t.makeRectShape([u-l/2,v[0]],[l,f],p(h))}}};function p(h){return h.dim==="x"?0:1}a.registerAxisPointerClass("CartesianAxisPointer",i);var n=i;return Vh=n,Vh}var Qx;function Vn(){if(Qx)return Gx;Qx=1;var e=ye,t=W,r=ws(),a=Rq();return Eq(),kq(),JM(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var o=i.axisPointer.link;o&&!t.isArray(o)&&(i.axisPointer.link=[o])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,o){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,o)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),Gx}var Hh,jx;function Oq(){if(jx)return Hh;jx=1;var e=wg(),t=Ds(),r=KM(),a=Pa(),i=["x","y"],o=["width","height"],s=e.extend({makeElOption:function(v,l,f,d,m){var c=f.axis,g=c.coordinateSystem,y=h(g,1-n(c)),_=g.dataToPoint(l)[0],A=d.get("type");if(A&&A!=="none"){var b=t.buildElStyle(d),w=p[A](c,_,y);w.style=b,v.graphicKey=w.type,v.pointer=w}var x=r.layout(f);t.buildCartesianSingleLabelElOption(l,v,x,f,d,m)},getHandleTransform:function(v,l,f){var d=r.layout(l,{labelInside:!1});return d.labelMargin=f.get("handle.margin"),{position:t.getTransformedPosition(l.axis,v,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(v,l,f,d){var m=f.axis,c=m.coordinateSystem,g=n(m),y=h(c,g),_=v.position;_[g]+=l[g],_[g]=Math.min(y[1],_[g]),_[g]=Math.max(y[0],_[g]);var A=h(c,1-g),b=(A[1]+A[0])/2,w=[b,b];return w[g]=_[g],{position:_,rotation:v.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}}}),p={line:function(v,l,f){var d=t.makeLineShape([l,f[0]],[l,f[1]],n(v));return{type:"Line",subPixelOptimize:!0,shape:d}},shadow:function(v,l,f){var d=v.getBandWidth(),m=f[1]-f[0];return{type:"Rect",shape:t.makeRectShape([l-d/2,f[0]],[d,m],n(v))}}};function n(v){return v.isHorizontal()?0:1}function h(v,l){var f=v.getRect();return[f[i[l]],f[i[l]]+f[o[l]]]}a.registerAxisPointerClass("SingleAxisPointer",s);var u=s;return Hh=u,Hh}var Jx;function eD(){if(Jx)return kx;Jx=1;var e=ye;return Lq(),Iq(),Pq(),Vn(),Oq(),e.extendComponentView({type:"single"}),kx}var qh,eS;function zq(){if(eS)return qh;eS=1;var e=ft,t=bi(),r=Pn(),a=r.getDimensionTypeByAxis,i=Xt(),o=W,s=Ie,p=s.groupData,n=Ge(),h=n.encodeHTML,u=zn(),v=2,l=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(d){l.superApply(this,"init",arguments),this.legendVisualProvider=new u(o.bind(this.getData,this),o.bind(this.getRawData,this))},fixData:function(d){var m=d.length,c={},g=p(d,function(S){return c.hasOwnProperty(S[0])||(c[S[0]]=-1),S[2]}),y=[];g.buckets.each(function(S,T){y.push({name:T,dataList:S})});for(var _=y.length,A=0;A<_;++A){for(var b=y[A].name,w=0;w<y[A].dataList.length;++w){var x=y[A].dataList[w][0];c[x]=A}for(var x in c)c.hasOwnProperty(x)&&c[x]!==A&&(c[x]=A,d[m]=[],d[m][0]=x,d[m][1]=0,d[m][2]=b,m++)}return d},getInitialData:function(d,m){for(var c=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],g=c.get("type"),y=o.filter(d.data,function(C){return C[2]!==void 0}),_=this.fixData(y||[]),A=[],b=this.nameMap=o.createHashMap(),w=0,x=0;x<_.length;++x)A.push(_[x][v]),b.get(_[x][v])||(b.set(_[x][v],w),w++);var S=t(_,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(g)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),T=new i(S,this);return T.initData(_),T},getLayerSeries:function(){for(var d=this.getData(),m=d.count(),c=[],g=0;g<m;++g)c[g]=g;var y=d.mapDimension("single"),_=p(c,function(b){return d.get("name",b)}),A=[];return _.buckets.each(function(b,w){b.sort(function(x,S){return d.get(y,x)-d.get(y,S)}),A.push({name:w,indices:b})}),A},getAxisTooltipData:function(d,m,c){o.isArray(d)||(d=d?[d]:[]);for(var g=this.getData(),y=this.getLayerSeries(),_=[],A=y.length,b,w=0;w<A;++w){for(var x=Number.MAX_VALUE,S=-1,T=y[w].indices.length,C=0;C<T;++C){var M=g.get(d[0],y[w].indices[C]),D=Math.abs(M-m);D<=x&&(b=M,x=D,S=y[w].indices[C])}_.push(S)}return{dataIndices:_,nestestValue:b}},formatTooltip:function(d){var m=this.getData(),c=m.getName(d),g=m.get(m.mapDimension("value"),d);return(isNaN(g)||g==null)&&(g="-"),h(c+" : "+g)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),f=l;return qh=f,qh}var Gh,tS;function Bq(){if(tS)return Gh;tS=1;var e=ye,t=CM(),r=t.Polygon,a=fe,i=W,o=i.bind,s=i.extend,p=La(),n=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(u,v,l){var f=u.getData(),d=this.group,m=u.getLayerSeries(),c=f.getLayout("layoutInfo"),g=c.rect,y=c.boundaryGap;d.attr("position",[0,g.y+y[0]]);function _(x){return x.name}var A=new p(this._layersSeries||[],m,_,_),b={};A.add(o(w,this,"add")).update(o(w,this,"update")).remove(o(w,this,"remove")).execute();function w(x,S,T){var C=this._layers;if(x==="remove"){d.remove(C[S]);return}for(var M=[],D=[],L,I=m[S].indices,P=0;P<I.length;P++){var E=f.getItemLayout(I[P]),O=E.x,B=E.y0,q=E.y;M.push([O,B]),D.push([O,B+q]),L=f.getItemVisual(I[P],"color")}var V,R,z=f.getItemLayout(I[0]),k=f.getItemModel(I[P-1]),N=k.getModel("label"),G=N.get("margin");if(x==="add"){var H=b[S]=new a.Group;V=new r({shape:{points:M,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R=new a.Text({style:{x:z.x-G,y:z.y0+z.y/2}}),H.add(V),H.add(R),d.add(H),V.setClipPath(h(V.getBoundingRect(),u,function(){V.removeClipPath()}))}else{var H=C[T];V=H.childAt(0),R=H.childAt(1),d.add(H),b[S]=H,a.updateProps(V,{shape:{points:M,stackedOnPoints:D}},u),a.updateProps(R,{style:{x:z.x-G,y:z.y0+z.y/2}},u)}var F=k.getModel("emphasis.itemStyle"),$=k.getModel("itemStyle");a.setTextStyle(R.style,N,{text:N.get("show")?u.getFormattedLabel(I[P-1],"normal")||f.getName(I[P-1]):null,textVerticalAlign:"middle"}),V.setStyle(s({fill:L},$.getItemStyle(["color"]))),a.setHoverStyle(V,F.getItemStyle())}this._layersSeries=m,this._layers=b},dispose:function(){}});function h(u,v,l){var f=new a.Rect({shape:{x:u.x-10,y:u.y-10,width:0,height:u.height+20}});return a.initProps(f,{shape:{width:u.width+20,height:u.height+20}},v,l),f}return Gh=n,Gh}var Fh,rS;function Nq(){if(rS)return Fh;rS=1;var e=W,t=Re();function r(o,s){o.eachSeriesByType("themeRiver",function(p){var n=p.getData(),h=p.coordinateSystem,u={},v=h.getRect();u.rect=v;var l=p.get("boundaryGap"),f=h.getAxis();if(u.boundaryGap=l,f.orient==="horizontal"){l[0]=t.parsePercent(l[0],v.height),l[1]=t.parsePercent(l[1],v.height);var d=v.height-l[0]-l[1];a(n,p,d)}else{l[0]=t.parsePercent(l[0],v.width),l[1]=t.parsePercent(l[1],v.width);var m=v.width-l[0]-l[1];a(n,p,m)}n.setLayout("layoutInfo",u)})}function a(o,s,p){if(o.count())for(var n=s.coordinateSystem,h=s.getLayerSeries(),u=o.mapDimension("single"),v=o.mapDimension("value"),l=e.map(h,function(b){return e.map(b.indices,function(w){var x=n.dataToPoint(o.get(u,w));return x[1]=o.get(v,w),x})}),f=i(l),d=f.y0,m=p/f.max,c=h.length,g=h[0].indices.length,y,_=0;_<g;++_){y=d[_]*m,o.setItemLayout(h[0].indices[_],{layerIndex:0,x:l[0][_][0],y0:y,y:l[0][_][1]*m});for(var A=1;A<c;++A)y+=l[A-1][_][1]*m,o.setItemLayout(h[A].indices[_],{layerIndex:A,x:l[A][_][0],y0:y,y:l[A][_][1]*m})}}function i(o){for(var s=o.length,p=o[0].length,n=[],h=[],u=0,v,l={},f=0;f<p;++f){for(var d=0,v=0;d<s;++d)v+=o[d][f][1];v>u&&(u=v),n.push(v)}for(var m=0;m<p;++m)h[m]=(u-n[m])/2;u=0;for(var c=0;c<p;++c){var g=n[c]+h[c];g>u&&(u=g)}return l.y0=h,l.max=u,l}return Fh=r,Fh}var $h,aS;function Vq(){if(aS)return $h;aS=1;var e=W,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var o=i.getData(),s=i.getRawData(),p=i.get("color"),n=t();o.each(function(h){n.set(o.getRawIndex(h),h)}),s.each(function(h){var u=s.getName(h),v=p[(i.nameMap.get(u)-1)%p.length];s.setItemVisual(h,"color",v);var l=n.get(h);l!=null&&o.setItemVisual(l,"color",v)})})}return $h=r,$h}var iS;function Hq(){if(iS)return Ex;iS=1;var e=ye;eD(),zq(),Bq();var t=Nq(),r=Vq(),a=Bn();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),Ex}var nS={},Uh,oS;function qq(){if(oS)return Uh;oS=1;var e=W,t=ft,r=yg(),a=ot(),i=Ra(),o=i.wrapTreePathInfo,s=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(n,h){var u={name:n.name,children:n.data};p(u);var v=e.map(n.levels||[],function(d){return new a(d,this,h)},this),l=r.createTree(u,this,f);function f(d){d.wrapMethod("getItemModel",function(m,c){var g=l.getNodeByDataIndex(c),y=v[g.depth];return y&&(m.parentModel=y),m})}return l.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(n){var h=t.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(n);return h.treePathInfo=o(u,this),h},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var h=this.getRawData().tree.root;(!n||n!==h&&!h.contains(n))&&(this._viewRoot=h)}});function p(n){var h=0;e.each(n.children,function(v){p(v);var l=v.value;e.isArray(l)&&(l=l[0]),h+=l});var u=n.value;e.isArray(u)&&(u=u[0]),(u==null||isNaN(u))&&(u=h),u<0&&(u=0),e.isArray(n.value)?n.value[0]=u:n.value=u}return Uh=s,Uh}var Wh,sS;function Gq(){if(sS)return Wh;sS=1;var e=W,t=fe,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function o(l,f,d){t.Group.call(this);var m=new t.Sector({z2:a});m.seriesIndex=f.seriesIndex;var c=new t.Text({z2:i,silent:l.getModel("label").get("silent")});this.add(m),this.add(c),this.updateData(!0,l,"normal",f,d);function g(){c.ignore=c.hoverIgnore}function y(){c.ignore=c.normalIgnore}this.on("emphasis",g).on("normal",y).on("mouseover",g).on("mouseout",y)}var s=o.prototype;s.updateData=function(l,f,d,m,c){this.node=f,f.piece=this,m=m||this._seriesModel,c=c||this._ecModel;var g=this.childAt(0);g.dataIndex=f.dataIndex;var y=f.getModel(),_=f.getLayout(),A=e.extend({},_);A.label=null;var b=n(f,m,c);v(f,m,b);var w=y.getModel("itemStyle").getItemStyle(),x;if(d==="normal")x=w;else{var S=y.getModel(d+".itemStyle").getItemStyle();x=e.merge(S,w)}x=e.defaults({lineJoin:"bevel",fill:x.fill||b},x),l?(g.setShape(A),g.shape.r=_.r0,t.updateProps(g,{shape:{r:_.r}},m,f.dataIndex),g.useStyle(x)):typeof x.fill=="object"&&x.fill.type||typeof g.style.fill=="object"&&g.style.fill.type?(t.updateProps(g,{shape:A},m),g.useStyle(x)):t.updateProps(g,{shape:A,style:x},m),this._updateLabel(m,b,d);var T=y.getShallow("cursor");if(T&&g.attr("cursor",T),l){var C=m.getShallow("highlightPolicy");this._initEvents(g,f,m,C)}this._seriesModel=m||this._seriesModel,this._ecModel=c||this._ecModel,t.setHoverStyle(this)},s.onEmphasis=function(l){var f=this;this.node.hostTree.root.eachNode(function(d){d.piece&&(f.node===d?d.piece.updateData(!1,d,"emphasis"):u(d,f.node,l)?d.piece.childAt(0).trigger("highlight"):l!==r.NONE&&d.piece.childAt(0).trigger("downplay"))})},s.onNormal=function(){this.node.hostTree.root.eachNode(function(l){l.piece&&l.piece.updateData(!1,l,"normal")})},s.onHighlight=function(){this.updateData(!1,this.node,"highlight")},s.onDownplay=function(){this.updateData(!1,this.node,"downplay")},s._updateLabel=function(l,f,d){var m=this.node.getModel(),c=m.getModel("label"),g=d==="normal"||d==="emphasis"?c:m.getModel(d+".label"),y=m.getModel("emphasis.label"),_=g.get("formatter"),A=_?d:"normal",b=e.retrieve(l.getFormattedLabel(this.node.dataIndex,A,null,null,"label"),this.node.name);R("show")===!1&&(b="");var w=this.node.getLayout(),x=g.get("minAngle");x==null&&(x=c.get("minAngle")),x=x/180*Math.PI;var S=w.endAngle-w.startAngle;x!=null&&Math.abs(S)<x&&(b="");var T=this.childAt(1);t.setLabelStyle(T.style,T.hoverStyle||{},c,y,{defaultText:g.getShallow("show")?b:null,autoColor:f,useInsideStyle:!0});var C=(w.startAngle+w.endAngle)/2,M=Math.cos(C),D=Math.sin(C),L,I=R("position"),P=R("distance")||0,E=R("align");I==="outside"?(L=w.r+P,E=C>Math.PI/2?"right":"left"):!E||E==="center"?(L=(w.r+w.r0)/2,E="center"):E==="left"?(L=w.r0+P,C>Math.PI/2&&(E="right")):E==="right"&&(L=w.r-P,C>Math.PI/2&&(E="left")),T.attr("style",{text:b,textAlign:E,textVerticalAlign:R("verticalAlign")||"middle",opacity:R("opacity")});var O=L*M+w.cx,B=L*D+w.cy;T.attr("position",[O,B]);var q=R("rotate"),V=0;q==="radial"?(V=-C,V<-Math.PI/2&&(V+=Math.PI)):q==="tangential"?(V=Math.PI/2-C,V>Math.PI/2?V-=Math.PI:V<-Math.PI/2&&(V+=Math.PI)):typeof q=="number"&&(V=q*Math.PI/180),T.attr("rotation",V);function R(z){var k=g.get(z);return k??c.get(z)}},s._initEvents=function(l,f,d,m){l.off("mouseover").off("mouseout").off("emphasis").off("normal");var c=this,g=function(){c.onEmphasis(m)},y=function(){c.onNormal()},_=function(){c.onDownplay()},A=function(){c.onHighlight()};d.isAnimationEnabled()&&l.on("mouseover",g).on("mouseout",y).on("emphasis",g).on("normal",y).on("downplay",_).on("highlight",A)},e.inherits(o,t.Group);var p=o;function n(l,f,d){var m=l.getVisual("color"),c=l.getVisual("visualMeta");(!c||c.length===0)&&(m=null);var g=l.getModel("itemStyle").get("color");if(g)return g;if(m)return m;if(l.depth===0)return d.option.color[0];var y=d.option.color.length;return g=d.option.color[h(l)%y],g}function h(l){for(var f=l;f.depth>1;)f=f.parentNode;var d=l.getAncestors()[0];return e.indexOf(d.children,f)}function u(l,f,d){return d===r.NONE?!1:d===r.SELF?l===f:d===r.ANCESTOR?l===f||l.isAncestorOf(f):l===f||l.isDescendantOf(f)}function v(l,f,d){var m=f.getData();m.setItemVisual(l.dataIndex,"color",d)}return Wh=p,Wh}var Zh,lS;function Fq(){if(lS)return Zh;lS=1;var e=W,t=Mr,r=Gq(),a=La(),i=Ge(),o=i.windowOpen,s="sunburstRootToNode",p=t.extend({type:"sunburst",init:function(){},render:function(h,u,v,l){var f=this;this.seriesModel=h,this.api=v,this.ecModel=u;var d=h.getData(),m=d.tree.root,c=h.getViewRoot(),g=this.group,y=h.get("renderLabelForZeroData"),_=[];c.eachNode(function(M){_.push(M)});var A=this._oldChildren||[];if(x(_,A),C(m,c),l&&l.highlight&&l.highlight.piece){var b=h.getShallow("highlightPolicy");l.highlight.piece.onEmphasis(b)}else if(l&&l.unhighlight){var w=this.virtualPiece;!w&&m.children.length&&(w=m.children[0].piece),w&&w.onNormal()}this._initEvents(),this._oldChildren=_;function x(M,D){if(M.length===0&&D.length===0)return;new a(D,M,L,L).add(I).update(I).remove(e.curry(I,null)).execute();function L(P){return P.getId()}function I(P,E){var O=P==null?null:M[P],B=E==null?null:D[E];S(O,B)}}function S(M,D){if(!y&&M&&!M.getValue()&&(M=null),M!==m&&D!==m){if(D&&D.piece)M?(D.piece.updateData(!1,M,"normal",h,u),d.setItemGraphicEl(M.dataIndex,D.piece)):T(D);else if(M){var L=new r(M,h,u);g.add(L),d.setItemGraphicEl(M.dataIndex,L)}}}function T(M){M&&M.piece&&(g.remove(M.piece),M.piece=null)}function C(M,D){if(D.depth>0){f.virtualPiece?f.virtualPiece.updateData(!1,M,"normal",h,u):(f.virtualPiece=new r(M,h,u),g.add(f.virtualPiece)),D.piece._onclickEvent&&D.piece.off("click",D.piece._onclickEvent);var L=function(I){f._rootToNode(D.parentNode)};D.piece._onclickEvent=L,f.virtualPiece.on("click",L)}else f.virtualPiece&&(g.remove(f.virtualPiece),f.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var h=this,u=function(v){var l=!1,f=h.seriesModel.getViewRoot();f.eachNode(function(d){if(!l&&d.piece&&d.piece.childAt(0)===v.target){var m=d.getModel().get("nodeClick");if(m==="rootToNode")h._rootToNode(d);else if(m==="link"){var c=d.getModel(),g=c.get("link");if(g){var y=c.get("target",!0)||"_blank";o(g,y)}}l=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",u),this.group._onclickEvent=u},_rootToNode:function(h){h!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:s,from:this.uid,seriesId:this.seriesModel.id,targetNode:h})},containPoint:function(h,u){var v=u.getData(),l=v.getItemLayout(0);if(l){var f=h[0]-l.cx,d=h[1]-l.cy,m=Math.sqrt(f*f+d*d);return m<=l.r&&m>=l.r0}}}),n=p;return Zh=n,Zh}var uS={},vS;function $q(){if(vS)return uS;vS=1;var e=ye,t=Ra(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(o,s){s.eachComponent({mainType:"series",subType:"sunburst",query:o},p);function p(n,h){var u=t.retrieveTargetInfo(o,[r],n);if(u){var v=n.getViewRoot();v&&(o.direction=t.aboveViewRoot(v,u.node)?"rollUp":"drillDown"),n.resetViewRoot(u.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(o,s){s.eachComponent({mainType:"series",subType:"sunburst",query:o},p);function p(n,h){var u=t.retrieveTargetInfo(o,[a],n);u&&(o.highlight=u.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(o,s){s.eachComponent({mainType:"series",subType:"sunburst",query:o},p);function p(n,h){o.unhighlight=!0}}),uS}var Yh,hS;function Uq(){if(hS)return Yh;hS=1;var e=Re(),t=e.parsePercent,r=W,a=Math.PI/180;function i(p,n,h,u){n.eachSeriesByType(p,function(v){var l=v.get("center"),f=v.get("radius");r.isArray(f)||(f=[0,f]),r.isArray(l)||(l=[l,l]);var d=h.getWidth(),m=h.getHeight(),c=Math.min(d,m),g=t(l[0],d),y=t(l[1],m),_=t(f[0],c/2),A=t(f[1],c/2),b=-v.get("startAngle")*a,w=v.get("minAngle")*a,x=v.getData().tree.root,S=v.getViewRoot(),T=S.depth,C=v.get("sort");C!=null&&o(S,C);var M=0;r.each(S.children,function(N){!isNaN(N.getValue())&&M++});var D=S.getValue(),L=Math.PI/(D||M)*2,I=S.depth>0,P=S.height-(I?-1:1),E=(A-_)/(P||1),O=v.get("clockwise"),B=v.get("stillShowZeroSum"),q=O?1:-1,V=function(N,G){if(N){var H=G;if(N!==x){var F=N.getValue(),$=D===0&&B?L:F*L;$<w&&($=w),H=G+q*$;var U=N.depth-T-(I?-1:1),K=_+E*U,Q=_+E*(U+1),j=N.getModel();j.get("r0")!=null&&(K=t(j.get("r0"),c/2)),j.get("r")!=null&&(Q=t(j.get("r"),c/2)),N.setLayout({angle:$,startAngle:G,endAngle:H,clockwise:O,cx:g,cy:y,r0:K,r:Q})}if(N.children&&N.children.length){var ee=0;r.each(N.children,function(re){ee+=V(re,G+ee)})}return H-G}};if(I){var R=_,z=_+E,k=Math.PI*2;x.setLayout({angle:k,startAngle:b,endAngle:b+k,clockwise:O,cx:g,cy:y,r0:R,r:z})}V(S,b)})}function o(p,n){var h=p.children||[];p.children=s(h,n),h.length&&r.each(p.children,function(u){o(u,n)})}function s(p,n){if(typeof n=="function")return p.sort(n);var h=n==="asc";return p.sort(function(u,v){var l=(u.getValue()-v.getValue())*(h?1:-1);return l===0?(u.dataIndex-v.dataIndex)*(h?-1:1):l})}return Yh=i,Yh}var cS;function Wq(){if(cS)return nS;cS=1;var e=ye,t=W;qq(),Fq(),$q();var r=As(),a=Uq(),i=Bn();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),nS}var fS={},Xh,dS;function Zq(){if(dS)return Xh;dS=1;var e=W;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(o,s){var p=this.getAxis(o),n=i[s],h=a[s]/2;return p.type==="category"?p.getBandWidth():Math.abs(p.dataToCoord(n-h)-p.dataToCoord(n+h))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Xh=r,Xh}var Kh,gS;function Yq(){if(gS)return Kh;gS=1;var e=W;function t(a,i){return i=i||[0,0],e.map([0,1],function(o){var s=i[o],p=a[o]/2,n=[],h=[];return n[o]=s-p,h[o]=s+p,n[1-o]=h[1-o]=i[1-o],Math.abs(this.dataToPoint(n)[o]-this.dataToPoint(h)[o])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:a.getZoom()},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Kh=r,Kh}var Qh,pS;function Xq(){if(pS)return Qh;pS=1;var e=W;function t(a,i){var o=this.getAxis(),s=i instanceof Array?i[0]:i,p=(a instanceof Array?a[0]:a)/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(s-p)-o.dataToCoord(s+p))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Qh=r,Qh}var jh,mS;function Kq(){if(mS)return jh;mS=1;var e=W;function t(a,i){return e.map(["Radius","Angle"],function(o,s){var p=this["get"+o+"Axis"](),n=i[s],h=a[s]/2,u="dataTo"+o,v=p.type==="category"?p.getBandWidth():Math.abs(p[u](n-h)-p[u](n+h));return o==="Angle"&&(v=v*Math.PI/180),v},this)}function r(a){var i=a.getRadiusAxis(),o=a.getAngleAxis(),s=i.getExtent();return s[0]>s[1]&&s.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:s[1],r0:s[0]},api:{coord:e.bind(function(p){var n=i.dataToRadius(p[0]),h=o.dataToAngle(p[1]),u=a.coordToPoint([n,h]);return u.push(n,h*Math.PI/180),u}),size:e.bind(t,a)}}}return jh=r,jh}var Jh,yS;function Qq(){if(yS)return Jh;yS=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,o){return t.dataToPoint(i,o)}}}}return Jh=e,Jh}var _S;function jq(){if(_S)return fS;_S=1;var e=W,t=fe,r=hg(),a=r.getDefaultLabel,i=qr(),o=xs(),s=o.getLayoutOnAxis,p=La(),n=ft,h=ot(),u=Mr,v=En(),l=v.createClipPath,f=Zq(),d=Yq(),m=Xq(),c=Kq(),g=Qq(),y=t.CACHED_LABEL_STYLE_PROPERTIES,_=["itemStyle"],A=["emphasis","itemStyle"],b=["label"],w=["emphasis","label"],x="e\0\0",S={cartesian2d:f,geo:d,singleAxis:m,polar:c,calendar:g};n.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(H,F){return i(this.getSource(),this)},getDataParams:function(H,F,$){var U=n.prototype.getDataParams.apply(this,arguments);return $&&(U.info=$.info),U}}),u.extend({type:"custom",_data:null,render:function(H,F,$,U){var K=this._data,Q=H.getData(),j=this.group,ee=D(H,Q,F,$);Q.diff(K).add(function(te){I(null,te,ee(te,U),H,j,Q)}).update(function(te,oe){var xe=K.getItemGraphicEl(oe);I(xe,te,ee(te,U),H,j,Q)}).remove(function(te){var oe=K.getItemGraphicEl(te);oe&&j.remove(oe)}).execute();var re=H.get("clip",!0)?l(H.coordinateSystem,!1,H):null;re?j.setClipPath(re):j.removeClipPath(),this._data=Q},incrementalPrepareRender:function(H,F,$){this.group.removeAll(),this._data=null},incrementalRender:function(H,F,$,U,K){var Q=F.getData(),j=D(F,Q,$,U);function ee(oe){oe.isGroup||(oe.incremental=!0,oe.useHoverLayer=!0)}for(var re=H.start;re<H.end;re++){var te=I(null,re,j(re,K),F,this.group,Q);te.traverse(ee)}},dispose:e.noop,filterForExposedEvent:function(H,F,$,U){var K=F.element;if(K==null||$.name===K)return!0;for(;($=$.parent)&&$!==this.group;)if($.name===K)return!0;return!1}});function T(H){var F=H.type,$;if(F==="path"){var U=H.shape,K=U.width!=null&&U.height!=null?{x:U.x||0,y:U.y||0,width:U.width,height:U.height}:null,Q=k(U);$=t.makePath(Q,null,K,U.layout||"center"),$.__customPathData=Q}else if(F==="image")$=new t.Image({}),$.__customImagePath=H.style.image;else if(F==="text")$=new t.Text({}),$.__customText=H.style.text;else if(F==="group")$=new t.Group;else{if(F==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var j=t.getShapeClass(F);$=new j}return $.__customGraphicType=F,$.name=H.name,$}function C(H,F,$,U,K,Q,j){var ee={},re=$.style||{};if($.shape&&(ee.shape=e.clone($.shape)),$.position&&(ee.position=$.position.slice()),$.scale&&(ee.scale=$.scale.slice()),$.origin&&(ee.origin=$.origin.slice()),$.rotation&&(ee.rotation=$.rotation),H.type==="image"&&$.style){var te=ee.style={};e.each(["x","y","width","height"],function(se){M(se,te,re,H.style,Q)})}if(H.type==="text"&&$.style){var te=ee.style={};e.each(["x","y"],function(ge){M(ge,te,re,H.style,Q)}),!re.hasOwnProperty("textFill")&&re.fill&&(re.textFill=re.fill),!re.hasOwnProperty("textStroke")&&re.stroke&&(re.textStroke=re.stroke)}if(H.type!=="group"&&(H.useStyle(re),Q)){H.style.opacity=0;var oe=re.opacity;oe==null&&(oe=1),t.initProps(H,{style:{opacity:oe}},U,F)}Q?H.attr(ee):t.updateProps(H,ee,U,F),$.hasOwnProperty("z2")&&H.attr("z2",$.z2||0),$.hasOwnProperty("silent")&&H.attr("silent",$.silent),$.hasOwnProperty("invisible")&&H.attr("invisible",$.invisible),$.hasOwnProperty("ignore")&&H.attr("ignore",$.ignore),$.hasOwnProperty("info")&&H.attr("info",$.info);var xe=$.styleEmphasis;t.setElementHoverStyle(H,xe),j&&t.setAsHighDownDispatcher(H,xe!==!1)}function M(H,F,$,U,K){$[H]!=null&&!K&&(F[H]=$[H],$[H]=U[H])}function D(H,F,$,U){var K=H.get("renderItem"),Q=H.coordinateSystem,j={};Q&&(j=Q.prepareCustoms?Q.prepareCustoms():S[Q.type](Q));var ee=e.defaults({getWidth:U.getWidth,getHeight:U.getHeight,getZr:U.getZr,getDevicePixelRatio:U.getDevicePixelRatio,value:ne,style:de,styleEmphasis:Z,visual:X,barLayout:J,currentSeriesIndices:ue,font:le},j.api||{}),re={context:{},seriesId:H.id,seriesName:H.name,seriesIndex:H.seriesIndex,coordSys:j.coordSys,dataInsideLength:F.count(),encode:L(H.getData())},te,oe=!0,xe,se,ge,we;return function(ve,he){return te=ve,oe=!0,K&&K(e.defaults({dataIndexInside:ve,dataIndex:F.getRawIndex(ve),actionType:he?he.type:null},re),ee)};function ie(ve){ve==null&&(ve=te),oe&&(xe=F.getItemModel(ve),se=xe.getModel(b),ge=xe.getModel(w),we=F.getItemVisual(ve,"color"),oe=!1)}function ne(ve,he){return he==null&&(he=te),F.get(F.getDimension(ve||0),he)}function de(ve,he){he==null&&(he=te),ie(he);var pe=xe.getModel(_).getItemStyle();we!=null&&(pe.fill=we);var _e=F.getItemVisual(he,"opacity");_e!=null&&(pe.opacity=_e);var Ce=ve?V(ve,se):se;return t.setTextStyle(pe,Ce,null,{autoColor:we,isRectText:!0}),pe.text=Ce.getShallow("show")?e.retrieve2(H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(pe,ve),pe}function Z(ve,he){he==null&&(he=te),ie(he);var pe=xe.getModel(A).getItemStyle(),_e=ve?V(ve,ge):ge;return t.setTextStyle(pe,_e,null,{isRectText:!0},!0),pe.text=_e.getShallow("show")?e.retrieve3(H.getFormattedLabel(he,"emphasis"),H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(pe,ve),pe}function X(ve,he){return he==null&&(he=te),F.getItemVisual(he,ve)}function J(ve){if(Q.getBaseAxis){var he=Q.getBaseAxis();return s(e.defaults({axis:he},ve),U)}}function ue(){return $.getCurrentSeriesIndices()}function le(ve){return t.getFont(ve,$)}}function L(H){var F={};return e.each(H.dimensions,function($,U){var K=H.getDimensionInfo($);if(!K.isExtraCoord){var Q=K.coordDim,j=F[Q]=F[Q]||[];j[K.coordDimIndex]=U}}),F}function I(H,F,$,U,K,Q){return H=P(H,F,$,U,K,Q,!0),H&&Q.setItemGraphicEl(F,H),H}function P(H,F,$,U,K,Q,j){var ee=!$;$=$||{};var re=$.type,te=$.shape,oe=$.style;if(H&&(ee||re!=null&&re!==H.__customGraphicType||re==="path"&&N(te)&&k(te)!==H.__customPathData||re==="image"&&G(oe,"image")&&oe.image!==H.__customImagePath||re==="text"&&G(te,"text")&&oe.text!==H.__customText)&&(K.remove(H),H=null),!ee){var xe=!H;return!H&&(H=T($)),C(H,F,$,U,Q,xe,j),re==="group"&&E(H,F,$,U,Q),K.add(H),H}}function E(H,F,$,U,K){var Q=$.children,j=Q?Q.length:0,ee=$.$mergeChildren,re=ee==="byName"||$.diffChildrenByName,te=ee===!1;if(!(!j&&!re&&!te)){if(re){O({oldChildren:H.children()||[],newChildren:Q||[],dataIndex:F,animatableModel:U,group:H,data:K});return}te&&H.removeAll();for(var oe=0;oe<j;oe++)Q[oe]&&P(H.childAt(oe),F,Q[oe],U,H,K)}}function O(H){new p(H.oldChildren,H.newChildren,B,B,H).add(q).update(q).remove(z).execute()}function B(H,F){var $=H&&H.name;return $??x+F}function q(H,F){var $=this.context,U=H!=null?$.newChildren[H]:null,K=F!=null?$.oldChildren[F]:null;P(K,$.dataIndex,U,$.animatableModel,$.group,$.data)}function V(H,F){var $=new h({},F);return e.each(y,function(U,K){H.hasOwnProperty(U)&&($.option[K]=H[U])}),$}function R(H,F){for(var $ in F)(F.hasOwnProperty($)||!y.hasOwnProperty($))&&(H[$]=F[$])}function z(H){var F=this.context,$=F.oldChildren[H];$&&F.group.remove($)}function k(H){return H&&(H.pathData||H.d)}function N(H){return H&&(H.hasOwnProperty("pathData")||H.hasOwnProperty("d"))}function G(H,F){return H&&H.hasOwnProperty(F)}return fS}var xS={},SS;function Jq(){return SS||(SS=1,On(),JM(),Vn()),xS}var bS={},ec,wS;function e3(){if(wS)return ec;wS=1;var e=W,t=Re(),r=t.parsePercent,a=Dr(),i=a.isDimensionStacked;function o(u){return u.get("stack")||"__ec_stack_"+u.seriesIndex}function s(u,v){return v.dim+u.model.componentIndex}function p(u,v,l){var f={},d=n(e.filter(v.getSeriesByType(u),function(m){return!v.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));v.eachSeriesByType(u,function(m){if(m.coordinateSystem.type==="polar"){var c=m.getData(),g=m.coordinateSystem,y=g.getBaseAxis(),_=s(g,y),A=o(m),b=d[_][A],w=b.offset,x=b.width,S=g.getOtherAxis(y),T=m.coordinateSystem.cx,C=m.coordinateSystem.cy,M=m.get("barMinHeight")||0,D=m.get("barMinAngle")||0;f[A]=f[A]||[];for(var L=c.mapDimension(S.dim),I=c.mapDimension(y.dim),P=i(c,L),E=y.dim!=="radius"||!m.get("roundCap",!0),O=S.dim==="radius"?S.dataToRadius(0):S.dataToAngle(0),B=0,q=c.count();B<q;B++){var V=c.get(L,B),R=c.get(I,B),z=V>=0?"p":"n",k=O;P&&(f[A][R]||(f[A][R]={p:O,n:O}),k=f[A][R][z]);var N,G,H,F;if(S.dim==="radius"){var $=S.dataToRadius(V)-O,U=y.dataToAngle(R);Math.abs($)<M&&($=($<0?-1:1)*M),N=k,G=k+$,H=U-w,F=H-x,P&&(f[A][R][z]=G)}else{var K=S.dataToAngle(V,E)-O,Q=y.dataToRadius(R);Math.abs(K)<D&&(K=(K<0?-1:1)*D),N=Q+w,G=N+x,H=k,F=k+K,P&&(f[A][R][z]=F)}c.setItemLayout(B,{cx:T,cy:C,r0:N,r:G,startAngle:-H*Math.PI/180,endAngle:-F*Math.PI/180})}}},this)}function n(u,v){var l={};e.each(u,function(d,m){var c=d.getData(),g=d.coordinateSystem,y=g.getBaseAxis(),_=s(g,y),A=y.getExtent(),b=y.type==="category"?y.getBandWidth():Math.abs(A[1]-A[0])/c.count(),w=l[_]||{bandWidth:b,remainedWidth:b,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=w.stacks;l[_]=w;var S=o(d);x[S]||w.autoWidthCount++,x[S]=x[S]||{width:0,maxWidth:0};var T=r(d.get("barWidth"),b),C=r(d.get("barMaxWidth"),b),M=d.get("barGap"),D=d.get("barCategoryGap");T&&!x[S].width&&(T=Math.min(w.remainedWidth,T),x[S].width=T,w.remainedWidth-=T),C&&(x[S].maxWidth=C),M!=null&&(w.gap=M),D!=null&&(w.categoryGap=D)});var f={};return e.each(l,function(d,m){f[m]={};var c=d.stacks,g=d.bandWidth,y=r(d.categoryGap,g),_=r(d.gap,1),A=d.remainedWidth,b=d.autoWidthCount,w=(A-y)/(b+(b-1)*_);w=Math.max(w,0),e.each(c,function(C,M){var D=C.maxWidth;D&&D<w&&(D=Math.min(D,A),C.width&&(D=Math.min(D,C.width)),A-=D,C.width=D,b--)}),w=(A-y)/(b+(b-1)*_),w=Math.max(w,0);var x=0,S;e.each(c,function(C,M){C.width||(C.width=w),S=C,x+=C.width*(1+_)}),S&&(x-=S.width*_);var T=-x/2;e.each(c,function(C,M){f[m][M]=f[m][M]||{offset:T,width:C.width},T+=C.width*(1+_)})}),f}var h=p;return ec=h,ec}var AS={},tc,TS;function t3(){if(TS)return tc;TS=1;var e=W,t=sa();function r(i,o){t.call(this,"radius",i,o),this.type="category"}r.prototype={constructor:r,pointToData:function(i,o){return this.polar.pointToData(i,o)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return tc=a,tc}var rc,CS;function r3(){if(CS)return rc;CS=1;var e=W,t=Ue,r=sa(),a=Ie,i=a.makeInner,o=i();function s(n,h){h=h||[0,360],r.call(this,"angle",n,h),this.type="category"}s.prototype={constructor:s,pointToData:function(n,h){return this.polar.pointToData(n,h)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var n=this,h=n.getLabelModel(),u=n.scale,v=u.getExtent(),l=u.count();if(v[1]-v[0]<1)return 0;var f=v[0],d=n.dataToCoord(f+1)-n.dataToCoord(f),m=Math.abs(d),c=t.getBoundingRect(f,h.getFont(),"center","top"),g=Math.max(c.height,7),y=g/m;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),A=o(n.model),b=A.lastAutoInterval,w=A.lastTickCount;return b!=null&&w!=null&&Math.abs(b-_)<=1&&Math.abs(w-l)<=1&&b>_?_=b:(A.lastTickCount=l,A.lastAutoInterval=_),_}},e.inherits(s,r);var p=s;return rc=p,rc}var ac,MS;function a3(){if(MS)return ac;MS=1;var e=t3(),t=r3(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var o=this.pointToCoord(i);return this._radiusAxis.contain(o[0])&&this._angleAxis.contain(o[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var o=[],s=this._angleAxis,p=this._radiusAxis;return s.scale.type===i&&o.push(s),p.scale.type===i&&o.push(p),o},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var o=this._angleAxis;return i===o?this._radiusAxis:o},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var o=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[o],otherAxes:[this.getOtherAxis(o)]}},dataToPoint:function(i,o){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],o),this._angleAxis.dataToAngle(i[1],o)])},pointToData:function(i,o){var s=this.pointToCoord(i);return[this._radiusAxis.radiusToData(s[0],o),this._angleAxis.angleToData(s[1],o)]},pointToCoord:function(i){var o=i[0]-this.cx,s=i[1]-this.cy,p=this.getAngleAxis(),n=p.getExtent(),h=Math.min(n[0],n[1]),u=Math.max(n[0],n[1]);p.inverse?h=u-360:u=h+360;var v=Math.sqrt(o*o+s*s);o/=v,s/=v;for(var l=Math.atan2(-s,o)/Math.PI*180,f=l<h?1:-1;l<h||l>u;)l+=f*360;return[v,l]},coordToPoint:function(i){var o=i[0],s=i[1]/180*Math.PI,p=Math.cos(s)*o+this.cx,n=-Math.sin(s)*o+this.cy;return[p,n]},getArea:function(){var i=this.getAngleAxis(),o=this.getRadiusAxis(),s=o.getExtent().slice();s[0]>s[1]&&s.reverse();var p=i.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:s[0],r:s[1],startAngle:-p[0]*n,endAngle:-p[1]*n,clockwise:i.inverse,contain:function(h,u){var v=h-this.cx,l=u-this.cy,f=v*v+l*l,d=this.r,m=this.r0;return f<=d*d&&f>=m*m}}}};var a=r;return ac=a,ac}var DS={},LS;function i3(){if(LS)return DS;LS=1;var e=W,t=ct,r=bs(),a=wi(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var o={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function s(p,n){return n.type||(n.data?"category":"value")}return r("angle",i,s,o.angle),r("radius",i,s,o.radius),DS}var ic,IS;function n3(){if(IS)return ic;IS=1;var e=ye;i3();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(o){o.getCoordSysModel()===this&&(a=o)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return ic=t,ic}var PS;function Ag(){if(PS)return AS;PS=1;var e=W,t=a3(),r=Re(),a=r.parsePercent,i=hr(),o=i.createScaleByModel,s=i.niceScaleExtent,p=Cr,n=Dr(),h=n.getStackedDimension;n3();function u(d,m,c){var g=m.get("center"),y=c.getWidth(),_=c.getHeight();d.cx=a(g[0],y),d.cy=a(g[1],_);var A=d.getRadiusAxis(),b=Math.min(y,_)/2,w=m.get("radius");w==null?w=[0,"100%"]:e.isArray(w)||(w=[0,w]),w=[a(w[0],b),a(w[1],b)],A.inverse?A.setExtent(w[1],w[0]):A.setExtent(w[0],w[1])}function v(d,m){var c=this,g=c.getAngleAxis(),y=c.getRadiusAxis();if(g.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),d.eachSeries(function(b){if(b.coordinateSystem===c){var w=b.getData();e.each(w.mapDimension("radius",!0),function(x){y.scale.unionExtentFromData(w,h(w,x))}),e.each(w.mapDimension("angle",!0),function(x){g.scale.unionExtentFromData(w,h(w,x))})}}),s(g.scale,g.model),s(y.scale,y.model),g.type==="category"&&!g.onBand){var _=g.getExtent(),A=360/g.scale.count();g.inverse?_[1]+=A:_[1]-=A,g.setExtent(_[0],_[1])}}function l(d,m){if(d.type=m.get("type"),d.scale=o(m),d.onBand=m.get("boundaryGap")&&d.type==="category",d.inverse=m.get("inverse"),m.mainType==="angleAxis"){d.inverse^=m.get("clockwise");var c=m.get("startAngle");d.setExtent(c,c+(d.inverse?-360:360))}m.axis=d,d.model=m}var f={dimensions:t.prototype.dimensions,create:function(d,m){var c=[];return d.eachComponent("polar",function(g,y){var _=new t(y);_.update=v;var A=_.getRadiusAxis(),b=_.getAngleAxis(),w=g.findAxisModel("radiusAxis"),x=g.findAxisModel("angleAxis");l(A,w),l(b,x),u(_,g,m),c.push(_),g.coordinateSystem=_,_.model=g}),d.eachSeries(function(g){if(g.get("coordinateSystem")==="polar"){var y=d.queryComponents({mainType:"polar",index:g.get("polarIndex"),id:g.get("polarId")})[0];g.coordinateSystem=y.coordinateSystem}}),c}};return p.register("polar",f),AS}var RS={},nc,ES;function o3(){if(ES)return nc;ES=1;var e=W,t=fe,r=ot(),a=Pa(),i=la(),o=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function s(u,v,l){v[1]>v[0]&&(v=v.slice().reverse());var f=u.coordToPoint([v[0],l]),d=u.coordToPoint([v[1],l]);return{x1:f[0],y1:f[1],x2:d[0],y2:d[1]}}function p(u){var v=u.getRadiusAxis();return v.inverse?0:1}function n(u){var v=u[0],l=u[u.length-1];v&&l&&Math.abs(Math.abs(v.coord-l.coord)-360)<1e-4&&u.pop()}var h=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(u,v){if(this.group.removeAll(),!!u.get("show")){var l=u.axis,f=l.polar,d=f.getRadiusAxis().getExtent(),m=l.getTicksCoords(),c=l.getMinorTicksCoords(),g=e.map(l.getViewLabels(),function(_){var _=e.clone(_);return _.coord=l.dataToCoord(_.tickValue),_});n(g),n(m),e.each(o,function(y){u.get(y+".show")&&(!l.scale.isBlank()||y==="axisLine")&&this["_"+y](u,f,m,c,d,g)},this)}},_axisLine:function(u,v,l,f,d){var m=u.getModel("axisLine.lineStyle"),c=p(v),g=c?0:1,y;d[g]===0?y=new t.Circle({shape:{cx:v.cx,cy:v.cy,r:d[c]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:v.cx,cy:v.cy,r:d[c],r0:d[g]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(u,v,l,f,d){var m=u.getModel("axisTick"),c=(m.get("inside")?-1:1)*m.get("length"),g=d[p(v)],y=e.map(l,function(_){return new t.Line({shape:s(v,[g,g+c],_.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:u.get("axisLine.lineStyle.color")})}))},_minorTick:function(u,v,l,f,d){if(f.length){for(var m=u.getModel("axisTick"),c=u.getModel("minorTick"),g=(m.get("inside")?-1:1)*c.get("length"),y=d[p(v)],_=[],A=0;A<f.length;A++)for(var b=0;b<f[A].length;b++)_.push(new t.Line({shape:s(v,[y,y+g],f[A][b].coord)}));this.group.add(t.mergePath(_,{style:e.defaults(c.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:u.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(u,v,l,f,d,m){var c=u.getCategories(!0),g=u.getModel("axisLabel"),y=g.get("margin"),_=u.get("triggerEvent");e.each(m,function(A,b){var w=g,x=A.tickValue,S=d[p(v)],T=v.coordToPoint([S+y,A.coord]),C=v.cx,M=v.cy,D=Math.abs(T[0]-C)/S<.3?"center":T[0]>C?"left":"right",L=Math.abs(T[1]-M)/S<.3?"middle":T[1]>M?"top":"bottom";c&&c[x]&&c[x].textStyle&&(w=new r(c[x].textStyle,g,g.ecModel));var I=new t.Text({silent:i.isLabelSilent(u)});this.group.add(I),t.setTextStyle(I.style,w,{x:T[0],y:T[1],textFill:w.getTextColor()||u.get("axisLine.lineStyle.color"),text:A.formattedLabel,textAlign:D,textVerticalAlign:L}),_&&(I.eventData=i.makeAxisEventDataBase(u),I.eventData.targetType="axisLabel",I.eventData.value=A.rawLabel)},this)},_splitLine:function(u,v,l,f,d){var m=u.getModel("splitLine"),c=m.getModel("lineStyle"),g=c.get("color"),y=0;g=g instanceof Array?g:[g];for(var _=[],A=0;A<l.length;A++){var b=y++%g.length;_[b]=_[b]||[],_[b].push(new t.Line({shape:s(v,d,l[A].coord)}))}for(var A=0;A<_.length;A++)this.group.add(t.mergePath(_[A],{style:e.defaults({stroke:g[A%g.length]},c.getLineStyle()),silent:!0,z:u.get("z")}))},_minorSplitLine:function(u,v,l,f,d){if(f.length){for(var m=u.getModel("minorSplitLine"),c=m.getModel("lineStyle"),g=[],y=0;y<f.length;y++)for(var _=0;_<f[y].length;_++)g.push(new t.Line({shape:s(v,d,f[y][_].coord)}));this.group.add(t.mergePath(g,{style:c.getLineStyle(),silent:!0,z:u.get("z")}))}},_splitArea:function(u,v,l,f,d){if(l.length){var m=u.getModel("splitArea"),c=m.getModel("areaStyle"),g=c.get("color"),y=0;g=g instanceof Array?g:[g];for(var _=[],A=Math.PI/180,b=-l[0].coord*A,w=Math.min(d[0],d[1]),x=Math.max(d[0],d[1]),S=u.get("clockwise"),T=1;T<l.length;T++){var C=y++%g.length;_[C]=_[C]||[],_[C].push(new t.Sector({shape:{cx:v.cx,cy:v.cy,r0:w,r:x,startAngle:b,endAngle:-l[T].coord*A,clockwise:S},silent:!0})),b=-l[T].coord*A}for(var T=0;T<_.length;T++)this.group.add(t.mergePath(_[T],{style:e.defaults({fill:g[T%g.length]},c.getAreaStyle()),silent:!0}))}}});return nc=h,nc}var kS;function s3(){return kS||(kS=1,Ag(),o3()),RS}var OS={},oc,zS;function l3(){if(zS)return oc;zS=1;var e=W,t=fe,r=la(),a=Pa(),i=["axisLine","axisTickLabel","axisName"],o=["splitLine","splitArea","minorSplitLine"],s=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n,h){if(this.group.removeAll(),!!n.get("show")){var u=n.axis,v=u.polar,l=v.getAngleAxis(),f=u.getTicksCoords(),d=u.getMinorTicksCoords(),m=l.getExtent()[0],c=u.getExtent(),g=p(v,n,m),y=new r(n,g);e.each(i,y.add,y),this.group.add(y.getGroup()),e.each(o,function(_){n.get(_+".show")&&!u.scale.isBlank()&&this["_"+_](n,v,m,c,f,d)},this)}},_splitLine:function(n,h,u,v,l){var f=n.getModel("splitLine"),d=f.getModel("lineStyle"),m=d.get("color"),c=0;m=m instanceof Array?m:[m];for(var g=[],y=0;y<l.length;y++){var _=c++%m.length;g[_]=g[_]||[],g[_].push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:l[y].coord}}))}for(var y=0;y<g.length;y++)this.group.add(t.mergePath(g[y],{style:e.defaults({stroke:m[y%m.length],fill:null},d.getLineStyle()),silent:!0}))},_minorSplitLine:function(n,h,u,v,l,f){if(f.length){for(var d=n.getModel("minorSplitLine"),m=d.getModel("lineStyle"),c=[],g=0;g<f.length;g++)for(var y=0;y<f[g].length;y++)c.push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:f[g][y].coord}}));this.group.add(t.mergePath(c,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(n,h,u,v,l){if(l.length){var f=n.getModel("splitArea"),d=f.getModel("areaStyle"),m=d.get("color"),c=0;m=m instanceof Array?m:[m];for(var g=[],y=l[0].coord,_=1;_<l.length;_++){var A=c++%m.length;g[A]=g[A]||[],g[A].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:y,r:l[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[_].coord}for(var _=0;_<g.length;_++)this.group.add(t.mergePath(g[_],{style:e.defaults({fill:m[_%m.length]},d.getAreaStyle()),silent:!0}))}}});function p(n,h,u){return{position:[n.cx,n.cy],rotation:u/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:h.getModel("axisLabel").get("rotate"),z2:1}}return oc=s,oc}var BS;function u3(){return BS||(BS=1,Ag(),l3()),OS}var sc,NS;function v3(){if(NS)return sc;NS=1;var e=Ge(),t=wg(),r=fe,a=Ds(),i=Rt(),o=la(),s=Pa(),p=t.extend({makeElOption:function(v,l,f,d,m){var c=f.axis;c.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=c.polar,y=g.getOtherAxis(c),_=y.getExtent(),A;A=c["dataTo"+e.capitalFirst(c.dim)](l);var b=d.get("type");if(b&&b!=="none"){var w=a.buildElStyle(d),x=h[b](c,g,A,_,w);x.style=w,v.graphicKey=x.type,v.pointer=x}var S=d.get("label.margin"),T=n(l,f,d,g,S);a.buildLabelElOption(v,f,d,m,T)}});function n(v,l,f,d,m){var c=l.axis,g=c.dataToCoord(v),y=d.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var _=d.getRadiusAxis().getExtent(),A,b,w;if(c.dim==="radius"){var x=i.create();i.rotate(x,x,y),i.translate(x,x,[d.cx,d.cy]),A=r.applyTransform([g,-m],x);var S=l.getModel("axisLabel").get("rotate")||0,T=o.innerTextLayout(y,S*Math.PI/180,-1);b=T.textAlign,w=T.textVerticalAlign}else{var C=_[1];A=d.coordToPoint([C+m,g]);var M=d.cx,D=d.cy;b=Math.abs(A[0]-M)/C<.3?"center":A[0]>M?"left":"right",w=Math.abs(A[1]-D)/C<.3?"middle":A[1]>D?"top":"bottom"}return{position:A,align:b,verticalAlign:w}}var h={line:function(v,l,f,d,m){return v.dim==="angle"?{type:"Line",shape:a.makeLineShape(l.coordToPoint([d[0],f]),l.coordToPoint([d[1],f]))}:{type:"Circle",shape:{cx:l.cx,cy:l.cy,r:f}}},shadow:function(v,l,f,d,m){var c=Math.max(1,v.getBandWidth()),g=Math.PI/180;return v.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,d[0],d[1],(-f-c/2)*g,(-f+c/2)*g)}:{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,f-c/2,f+c/2,0,Math.PI*2)}}};s.registerAxisPointerClass("PolarAxisPointer",p);var u=p;return sc=u,sc}var VS;function h3(){if(VS)return bS;VS=1;var e=ye,t=W,r=e3();return Ag(),s3(),u3(),Vn(),v3(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),bS}var HS={},lc,qS;function c3(){if(qS)return lc;qS=1;var e=W,t=Ie,r=ct,a=ot(),i=fg(),o=mg(),s=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){r.prototype.init.apply(this,arguments),t.defaultEmphasis(n,"label",["show"])},optionUpdated:function(){var n=this.option,h=this;n.regions=o.getFilledRegions(n.regions,n.map,n.nameMap),this._optionModelMap=e.reduce(n.regions||[],function(u,v){return v.name&&u.set(v.name,new a(v,h)),u},e.createHashMap()),this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap.get(n)||new a(null,this,this.ecModel)},getFormattedLabel:function(n,h){h=h||"normal";var u=this.getRegionModel(n),v=u.get((h==="normal"?"":h+".")+"label.formatter"),l={name:n};if(typeof v=="function")return l.status=h,v(l);if(typeof v=="string")return v.replace("{a}",n??"")},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}});e.mixin(s,i);var p=s;return lc=p,lc}var uc,GS;function f3(){if(GS)return uc;GS=1;var e=OM(),t=ye,r=t.extendComponentView({type:"geo",init:function(a,i){var o=new e(i,!0);this._mapDraw=o,this.group.add(o.group)},render:function(a,i,o,s){if(!(s&&s.type==="geoToggleSelect"&&s.from===this.uid)){var p=this._mapDraw;a.get("show")?p.draw(a,i,o,this,s):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return uc=r,uc}var FS;function d3(){if(FS)return HS;FS=1;var e=ye,t=W;c3(),mg(),f3(),zM();function r(a,i){i.update="updateView",e.registerAction(i,function(o,s){var p={};return s.eachComponent({mainType:"geo",query:o},function(n){n[a](o.name);var h=n.coordinateSystem;t.each(h.regions,function(u){p[u.name]=n.isSelected(u.name)||!1})}),{selected:p,name:o.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),HS}var $S={},vc,US;function g3(){if(US)return vc;US=1;var e=W,t=ze,r=Re(),a=Cr,i=864e5;function o(n,h,u){this._model=n}o.prototype={constructor:o,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){n=r.parseDate(n);var h=n.getFullYear(),u=n.getMonth()+1;u=u<10?"0"+u:u;var v=n.getDate();v=v<10?"0"+v:v;var l=n.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:h,m:u,d:v,day:l,time:n.getTime(),formatedDate:h+"-"+u+"-"+v,date:n}},getNextNDay:function(n,h){return h=h||0,h===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+h),this.getDateInfo(n))},update:function(n,h){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var u=this._rangeInfo.weeks||1,v=["width","height"],l=this._model.get("cellSize").slice(),f=this._model.getBoxLayoutParams(),d=this._orient==="horizontal"?[u,7]:[7,u];e.each([0,1],function(y){g(l,y)&&(f[v[y]]=l[y]*d[y])});var m={width:h.getWidth(),height:h.getHeight()},c=this._rect=t.getLayoutRect(f,m);e.each([0,1],function(y){g(l,y)||(l[y]=c[v[y]]/d[y])});function g(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=l[0],this._sh=l[1]},dataToPoint:function(n,h){e.isArray(n)&&(n=n[0]),h==null&&(h=!0);var u=this.getDateInfo(n),v=this._rangeInfo,l=u.formatedDate;if(h&&!(u.time>=v.start.time&&u.time<v.end.time+i))return[NaN,NaN];var f=u.day,d=this._getRangeInfo([v.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+f*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]:[this._rect.x+d*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]},pointToData:function(n){var h=this.pointToDate(n);return h&&h.time},dataToRect:function(n,h){var u=this.dataToPoint(n,h);return{contentShape:{x:u[0]-(this._sw-this._lineWidth)/2,y:u[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:u,tl:[u[0]-this._sw/2,u[1]-this._sh/2],tr:[u[0]+this._sw/2,u[1]-this._sh/2],br:[u[0]+this._sw/2,u[1]+this._sh/2],bl:[u[0]-this._sw/2,u[1]+this._sh/2]}},pointToDate:function(n){var h=Math.floor((n[0]-this._rect.x)/this._sw)+1,u=Math.floor((n[1]-this._rect.y)/this._sh)+1,v=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(u,h-1,v):this._getDateByWeeksAndDay(h,u-1,v)},convertToPixel:e.curry(s,"dataToPoint"),convertFromPixel:e.curry(s,"pointToData"),_initRangeOption:function(){var n=this._model.get("range"),h=n;if(e.isArray(h)&&h.length===1&&(h=h[0]),/^\d{4}$/.test(h)&&(n=[h+"-01-01",h+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(h)){var u=this.getDateInfo(h),v=u.date;v.setMonth(v.getMonth()+1);var l=this.getNextNDay(v,-1);n=[u.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(h)&&(n=[h,h]);var f=this._getRangeInfo(n);return f.start.time>f.end.time&&n.reverse(),n},_getRangeInfo:function(n){n=[this.getDateInfo(n[0]),this.getDateInfo(n[1])];var h;n[0].time>n[1].time&&(h=!0,n.reverse());var u=Math.floor(n[1].time/i)-Math.floor(n[0].time/i)+1,v=new Date(n[0].time),l=v.getDate(),f=n[1].date.getDate();v.setDate(l+u-1);var d=v.getDate();if(d!==f)for(var m=v.getTime()-n[1].time>0?1:-1;(d=v.getDate())!==f&&(v.getTime()-n[1].time)*m>0;)u-=m,v.setDate(d-m);var c=Math.floor((u+n[0].day+6)/7),g=h?-c+1:c-1;return h&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:u,weeks:c,nthWeek:g,fweek:n[0].day,lweek:n[1].day}},_getDateByWeeksAndDay:function(n,h,u){var v=this._getRangeInfo(u);if(n>v.weeks||n===0&&h<v.fweek||n===v.weeks&&h>v.lweek)return!1;var l=(n-1)*7-v.fweek+h,f=new Date(v.start.time);return f.setDate(v.start.d+l),this.getDateInfo(f)}},o.dimensions=o.prototype.dimensions,o.getDimensionsInfo=o.prototype.getDimensionsInfo,o.create=function(n,h){var u=[];return n.eachComponent("calendar",function(v){var l=new o(v);u.push(l),v.coordinateSystem=l}),n.eachSeries(function(v){v.get("coordinateSystem")==="calendar"&&(v.coordinateSystem=u[v.get("calendarIndex")||0])}),u};function s(n,h,u,v){var l=u.calendarModel,f=u.seriesModel,d=l?l.coordinateSystem:f?f.coordinateSystem:null;return d===this?d[n](v):null}a.register("calendar",o);var p=o;return vc=p,vc}var hc,WS;function p3(){if(WS)return hc;WS=1;var e=W,t=ct,r=ze,a=r.getLayoutParams,i=r.sizeCalculable,o=r.mergeLayoutParam,s=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(h,u,v,l){var f=a(h);s.superApply(this,"init",arguments),p(h,f)},mergeOption:function(h,u){s.superApply(this,"mergeOption",arguments),p(this.option,h)}});function p(h,u){var v=h.cellSize;e.isArray(v)?v.length===1&&(v[1]=v[0]):v=h.cellSize=[v,v];var l=e.map([0,1],function(f){return i(u,f)&&(v[f]="auto"),v[f]!=null&&v[f]!=="auto"});o(h,u,{type:"box",ignoreSize:l})}var n=s;return hc=n,hc}var cc,ZS;function m3(){if(ZS)return cc;ZS=1;var e=ye,t=W,r=fe,a=Ge(),i=Re(),o={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},s={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},p=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n,h,u){var v=this.group;v.removeAll();var l=n.coordinateSystem,f=l.getRangeInfo(),d=l.getOrient();this._renderDayRect(n,f,v),this._renderLines(n,f,d,v),this._renderYearText(n,f,d,v),this._renderMonthText(n,d,v),this._renderWeekText(n,f,d,v)},_renderDayRect:function(n,h,u){for(var v=n.coordinateSystem,l=n.getModel("itemStyle").getItemStyle(),f=v.getCellWidth(),d=v.getCellHeight(),m=h.start.time;m<=h.end.time;m=v.getNextNDay(m,1).time){var c=v.dataToRect([m],!1).tl,g=new r.Rect({shape:{x:c[0],y:c[1],width:f,height:d},cursor:"default",style:l});u.add(g)}},_renderLines:function(n,h,u,v){var l=this,f=n.coordinateSystem,d=n.getModel("splitLine.lineStyle").getLineStyle(),m=n.get("splitLine.show"),c=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=h.start,y=0;g.time<=h.end.time;y++){A(g.formatedDate),y===0&&(g=f.getDateInfo(h.start.y+"-"+h.start.m));var _=g.date;_.setMonth(_.getMonth()+1),g=f.getDateInfo(_)}A(f.getNextNDay(h.end.time,1).formatedDate);function A(b){l._firstDayOfMonth.push(f.getDateInfo(b)),l._firstDayPoints.push(f.dataToRect([b],!1).tl);var w=l._getLinePointsOfOneWeek(n,b,u);l._tlpoints.push(w[0]),l._blpoints.push(w[w.length-1]),m&&l._drawSplitline(w,d,v)}m&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,c,u),d,v),m&&this._drawSplitline(l._getEdgesPoints(l._blpoints,c,u),d,v)},_getEdgesPoints:function(n,h,u){var v=[n[0].slice(),n[n.length-1].slice()],l=u==="horizontal"?0:1;return v[0][l]=v[0][l]-h/2,v[1][l]=v[1][l]+h/2,v},_drawSplitline:function(n,h,u){var v=new r.Polyline({z2:20,shape:{points:n},style:h});u.add(v)},_getLinePointsOfOneWeek:function(n,h,u){var v=n.coordinateSystem;h=v.getDateInfo(h);for(var l=[],f=0;f<7;f++){var d=v.getNextNDay(h.time,f),m=v.dataToRect([d.time],!1);l[2*d.day]=m.tl,l[2*d.day+1]=m[u==="horizontal"?"bl":"tr"]}return l},_formatterLabel:function(n,h){return typeof n=="string"&&n?a.formatTplSimple(n,h):typeof n=="function"?n(h):h.nameMap},_yearTextPositionControl:function(n,h,u,v,l){h=h.slice();var f=["center","bottom"];v==="bottom"?(h[1]+=l,f=["center","top"]):v==="left"?h[0]-=l:v==="right"?(h[0]+=l,f=["center","top"]):h[1]-=l;var d=0;return(v==="left"||v==="right")&&(d=Math.PI/2),{rotation:d,position:h,style:{textAlign:f[0],textVerticalAlign:f[1]}}},_renderYearText:function(n,h,u,v){var l=n.getModel("yearLabel");if(l.get("show")){var f=l.get("margin"),d=l.get("position");d||(d=u!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(m[0][0]+m[1][0])/2,g=(m[0][1]+m[1][1])/2,y=u==="horizontal"?0:1,_={top:[c,m[y][1]],bottom:[c,m[1-y][1]],left:[m[1-y][0],g],right:[m[y][0],g]},A=h.start.y;+h.end.y>+h.start.y&&(A=A+"-"+h.end.y);var b=l.get("formatter"),w={start:h.start.y,end:h.end.y,nameMap:A},x=this._formatterLabel(b,w),S=new r.Text({z2:30});r.setTextStyle(S.style,l,{text:x}),S.attr(this._yearTextPositionControl(S,_[d],u,d,f)),v.add(S)}},_monthTextPositionControl:function(n,h,u,v,l){var f="left",d="top",m=n[0],c=n[1];return u==="horizontal"?(c=c+l,h&&(f="center"),v==="start"&&(d="bottom")):(m=m+l,h&&(d="middle"),v==="start"&&(f="right")),{x:m,y:c,textAlign:f,textVerticalAlign:d}},_renderMonthText:function(n,h,u){var v=n.getModel("monthLabel");if(v.get("show")){var l=v.get("nameMap"),f=v.get("margin"),d=v.get("position"),m=v.get("align"),c=[this._tlpoints,this._blpoints];t.isString(l)&&(l=o[l.toUpperCase()]||[]);var g=d==="start"?0:1,y=h==="horizontal"?0:1;f=d==="start"?-f:f;for(var _=m==="center",A=0;A<c[g].length-1;A++){var b=c[g][A].slice(),w=this._firstDayOfMonth[A];if(_){var x=this._firstDayPoints[A];b[y]=(x[y]+c[0][A+1][y])/2}var S=v.get("formatter"),T=l[+w.m-1],C={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:T},M=this._formatterLabel(S,C),D=new r.Text({z2:30});t.extend(r.setTextStyle(D.style,v,{text:M}),this._monthTextPositionControl(b,_,h,d,f)),u.add(D)}}},_weekTextPositionControl:function(n,h,u,v,l){var f="center",d="middle",m=n[0],c=n[1],g=u==="start";return h==="horizontal"?(m=m+v+(g?1:-1)*l[0]/2,f=g?"right":"left"):(c=c+v+(g?1:-1)*l[1]/2,d=g?"bottom":"top"),{x:m,y:c,textAlign:f,textVerticalAlign:d}},_renderWeekText:function(n,h,u,v){var l=n.getModel("dayLabel");if(l.get("show")){var f=n.coordinateSystem,d=l.get("position"),m=l.get("nameMap"),c=l.get("margin"),g=f.getFirstDayOfWeek();t.isString(m)&&(m=s[m.toUpperCase()]||[]);var y=f.getNextNDay(h.end.time,7-h.lweek).time,_=[f.getCellWidth(),f.getCellHeight()];c=i.parsePercent(c,_[u==="horizontal"?0:1]),d==="start"&&(y=f.getNextNDay(h.start.time,-(7+h.fweek)).time,c=-c);for(var A=0;A<7;A++){var b=f.getNextNDay(y,A),w=f.dataToRect([b.time],!1).center,x=A;x=Math.abs((A+g)%7);var S=new r.Text({z2:30});t.extend(r.setTextStyle(S.style,l,{text:m[x]}),this._weekTextPositionControl(w,u,d,c,_)),v.add(S)}}}});return cc=p,cc}var YS;function y3(){return YS||(YS=1,g3(),p3(),m3()),$S}var XS={},KS;function _3(){if(KS)return XS;KS=1;var e=ye,t=W,r=Ie,a=fe,i=ze,o=Re(),s=o.parsePercent,p={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};e.registerPreprocessor(function(g){var y=g.graphic;t.isArray(y)?!y[0]||!y[0].elements?g.graphic=[{elements:y}]:g.graphic=[g.graphic[0]]:y&&!y.elements&&(g.graphic=[{elements:[y]}])});var n=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(g){var y=this.option.elements;this.option.elements=null,n.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(g,y){var _=this.option,A=(y?_:g).elements,b=_.elements=y?[]:_.elements,w=[];this._flatten(A,w);var x=r.mappingToExists(b,w);r.makeIdAndName(x);var S=this._elOptionsToUpdate=[];t.each(x,function(C,M){var D=C.option;D&&(S.push(D),f(C,D),d(b,M,D),m(b[M],D))},this);for(var T=b.length-1;T>=0;T--)b[T]==null?b.splice(T,1):delete b[T].$action},_flatten:function(g,y,_){t.each(g,function(A){if(A){_&&(A.parentOption=_),y.push(A);var b=A.children;A.type==="group"&&b&&this._flatten(b,y,A),delete A.children}},this)},useElOptionsToUpdate:function(){var g=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,g}});e.extendComponentView({type:"graphic",init:function(g,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(g,y,_){g!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=g,this._updateElements(g),this._relocate(g,_)},_updateElements:function(g){var y=g.useElOptionsToUpdate();if(y){var _=this._elMap,A=this.group;t.each(y,function(b){var w=b.$action,x=b.id,S=_.get(x),T=b.parentId,C=T!=null?_.get(T):A,M=b.style;b.type==="text"&&M&&(b.hv&&b.hv[1]&&(M.textVerticalAlign=M.textBaseline=null),!M.hasOwnProperty("textFill")&&M.fill&&(M.textFill=M.fill),!M.hasOwnProperty("textStroke")&&M.stroke&&(M.textStroke=M.stroke));var D=v(b);!w||w==="merge"?S?S.attr(D):h(x,C,D,_):w==="replace"?(u(S,_),h(x,C,D,_)):w==="remove"&&u(S,_);var L=_.get(x);L&&(L.__ecGraphicWidthOption=b.width,L.__ecGraphicHeightOption=b.height,c(L,g))})}},_relocate:function(g,y){for(var _=g.option.elements,A=this.group,b=this._elMap,w=y.getWidth(),x=y.getHeight(),S=0;S<_.length;S++){var T=_[S],C=b.get(T.id);if(!(!C||!C.isGroup)){var M=C.parent,D=M===A;C.__ecGraphicWidth=s(C.__ecGraphicWidthOption,D?w:M.__ecGraphicWidth)||0,C.__ecGraphicHeight=s(C.__ecGraphicHeightOption,D?x:M.__ecGraphicHeight)||0}}for(var S=_.length-1;S>=0;S--){var T=_[S],C=b.get(T.id);if(C){var M=C.parent,L=M===A?{width:w,height:x}:{width:M.__ecGraphicWidth,height:M.__ecGraphicHeight};i.positionElement(C,T,L,null,{hv:T.hv,boundingMode:T.bounding})}}},_clear:function(){var g=this._elMap;g.each(function(y){u(y,g)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function h(g,y,_,A){var b=_.type,w=p.hasOwnProperty(b)?p[b]:a.getShapeClass(b),x=new w(_);y.add(x),A.set(g,x),x.__ecGraphicId=g}function u(g,y){var _=g&&g.parent;_&&(g.type==="group"&&g.traverse(function(A){u(A,y)}),y.removeKey(g.__ecGraphicId),_.remove(g))}function v(g){return g=t.extend({},g),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(y){delete g[y]}),g}function l(g,y){var _;return t.each(y,function(A){g[A]!=null&&g[A]!=="auto"&&(_=!0)}),_}function f(g,y){var _=g.exist;if(y.id=g.keyInfo.id,!y.type&&_&&(y.type=_.type),y.parentId==null){var A=y.parentOption;A?y.parentId=A.id:_&&(y.parentId=_.parentId)}y.parentOption=null}function d(g,y,_){var A=t.extend({},_),b=g[y],w=_.$action||"merge";w==="merge"?b?(t.merge(b,A,!0),i.mergeLayoutParam(b,A,{ignoreSize:!0}),i.copyLayoutParams(_,b)):g[y]=A:w==="replace"?g[y]=A:w==="remove"&&b&&(g[y]=null)}function m(g,y){g&&(g.hv=y.hv=[l(y,["left","right"]),l(y,["top","bottom"])],g.type==="group"&&(g.width==null&&(g.width=y.width=0),g.height==null&&(g.height=y.height=0)))}function c(g,y,_){var A=g.eventData;!g.silent&&!g.ignore&&!A&&(A=g.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:g.name}),A&&(A.info=g.info)}return XS}var QS={},So={},jS;function ua(){if(jS)return So;jS=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return So.register=t,So.get=r,So}var fc,JS;function x3(){if(JS)return fc;JS=1;var e=ye,t=W,r=ua(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(o,s){var p=r.get(s);p&&t.merge(o,p.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),i=a;return fc=i,fc}var bo={},eb;function tD(){if(eb)return bo;eb=1;var e=ze,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Ge(),o=fe;function s(n,h,u){var v=h.getBoxLayoutParams(),l=h.get("padding"),f={width:u.getWidth(),height:u.getHeight()},d=t(v,f,l);r(h.get("orient"),n,h.get("itemGap"),d.width,d.height),a(n,v,f,l)}function p(l,h){var u=i.normalizeCssArray(h.get("padding")),v=h.getItemStyle(["color","opacity"]);v.fill=h.get("backgroundColor");var l=new o.Rect({shape:{x:l.x-u[3],y:l.y-u[0],width:l.width+u[1]+u[3],height:l.height+u[0]+u[2],r:h.get("borderRadius")},style:v,silent:!0,z2:-1});return l}return bo.layout=s,bo.makeBackground=p,bo}var dc,tb;function S3(){if(tb)return dc;tb=1;var e=ye,t=W,r=Ue,a=ua(),i=fe,o=ot(),s=La(),p=tD(),n=e.extendComponentView({type:"toolbox",render:function(u,v,l,f){var d=this.group;if(d.removeAll(),!u.get("show"))return;var m=+u.get("itemSize"),c=u.get("feature")||{},g=this._features||(this._features={}),y=[];t.each(c,function(b,w){y.push(w)}),new s(this._featureNames||[],y).add(_).update(_).remove(t.curry(_,null)).execute(),this._featureNames=y;function _(b,w){var x=y[b],S=y[w],T=c[x],C=new o(T,u,u.ecModel),M;if(f&&f.newTitle!=null&&f.featureName===x&&(T.title=f.newTitle),x&&!S){if(h(x))M={model:C,onclick:C.option.onclick,featureName:x};else{var D=a.get(x);if(!D)return;M=new D(C,v,l)}g[x]=M}else{if(M=g[S],!M)return;M.model=C,M.ecModel=v,M.api=l}if(!x&&S){M.dispose&&M.dispose(v,l);return}if(!C.get("show")||M.unusable){M.remove&&M.remove(v,l);return}A(C,M,x),C.setIconStatus=function(L,I){var P=this.option,E=this.iconPaths;P.iconStatus=P.iconStatus||{},P.iconStatus[L]=I,E[L]&&E[L].trigger(I)},M.render&&M.render(C,v,l,f)}function A(b,w,x){var S=b.getModel("iconStyle"),T=b.getModel("emphasis.iconStyle"),C=w.getIcons?w.getIcons():b.get("icon"),M=b.get("title")||{};if(typeof C=="string"){var D=C,L=M;C={},M={},C[x]=D,M[x]=L}var I=b.iconPaths={};t.each(C,function(P,E){var O=i.createIcon(P,{},{x:-m/2,y:-m/2,width:m,height:m});O.setStyle(S.getItemStyle()),O.hoverStyle=T.getItemStyle(),O.setStyle({text:M[E],textAlign:T.get("textAlign"),textBorderRadius:T.get("textBorderRadius"),textPadding:T.get("textPadding"),textFill:null});var B=u.getModel("tooltip");B&&B.get("show")&&O.attr("tooltip",t.extend({content:M[E],formatter:B.get("formatter",!0)||function(){return M[E]},formatterParams:{componentType:"toolbox",name:E,title:M[E],$vars:["name","title"]},position:B.get("position",!0)||"bottom"},B.option)),i.setHoverStyle(O),u.get("showTitle")&&(O.__title=M[E],O.on("mouseover",function(){var q=T.getItemStyle(),V=u.get("orient")==="vertical"?u.get("right")==null?"right":"left":u.get("bottom")==null?"bottom":"top";O.setStyle({textFill:T.get("textFill")||q.fill||q.stroke||"#000",textBackgroundColor:T.get("textBackgroundColor"),textPosition:T.get("textPosition")||V})}).on("mouseout",function(){O.setStyle({textFill:null,textBackgroundColor:null})})),O.trigger(b.get("iconStatus."+E)||"normal"),d.add(O),O.on("click",t.bind(w.onclick,w,v,l,E)),I[E]=O})}p.layout(d,u,l),d.add(p.makeBackground(d.getBoundingRect(),u)),d.eachChild(function(b){var w=b.__title,x=b.hoverStyle;if(x&&w){var S=r.getBoundingRect(w,r.makeFont(x)),T=b.position[0]+d.position[0],C=b.position[1]+d.position[1]+m,M=!1;C+S.height>l.getHeight()&&(x.textPosition="top",M=!0);var D=M?-5-S.height:m+8;T+S.width/2>l.getWidth()?(x.textPosition=["100%",D],x.textAlign="right"):T-S.width/2<0&&(x.textPosition=[0,D],x.textAlign="left")}})},updateView:function(u,v,l,f){t.each(this._features,function(d){d.updateView&&d.updateView(d.model,v,l,f)})},remove:function(u,v){t.each(this._features,function(l){l.remove&&l.remove(u,v)}),this.group.removeAll()},dispose:function(u,v){t.each(this._features,function(l){l.dispose&&l.dispose(u,v)})}});function h(u){return u.indexOf("my")===0}return dc=n,dc}var gc,rb;function b3(){if(rb)return gc;rb=1;var e=nt,t=oa,r=ua(),a=t.toolbox.saveAsImage;function i(p){this.model=p}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var o=i.prototype;o.onclick=function(p,n){var h=this.model,u=h.get("name")||p.get("title.0.text")||"echarts",v=n.getZr().painter.getType()==="svg",l=v?"svg":h.get("type",!0)||"png",f=n.getConnectedDataURL({type:l,backgroundColor:h.get("backgroundColor",!0)||p.get("backgroundColor")||"#fff",connectedBackgroundColor:h.get("connectedBackgroundColor"),excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var d=document.createElement("a");d.download=u+"."+l,d.target="_blank",d.href=f;var m=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob){for(var c=atob(f.split(",")[1]),g=c.length,y=new Uint8Array(g);g--;)y[g]=c.charCodeAt(g);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,u+"."+l)}else{var A=h.get("lang"),b='<body style="margin:0;"><img src="'+f+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',w=window.open();w.document.write(b)}},r.register("saveAsImage",i);var s=i;return gc=s,gc}var pc,ab;function w3(){if(ab)return pc;ab=1;var e=ye,t=W,r=oa,a=ua(),i=r.toolbox.magicType,o="__ec_magicType_stack__";function s(v){this.model=v}s.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(i.title),option:{},seriesIndex:{}};var p=s.prototype;p.getIcons=function(){var v=this.model,l=v.get("icon"),f={};return t.each(v.get("type"),function(d){l[d]&&(f[d]=l[d])}),f};var n={line:function(v,l,f,d){if(v==="bar")return t.merge({id:l,type:"line",data:f.get("data"),stack:f.get("stack"),markPoint:f.get("markPoint"),markLine:f.get("markLine")},d.get("option.line")||{},!0)},bar:function(v,l,f,d){if(v==="line")return t.merge({id:l,type:"bar",data:f.get("data"),stack:f.get("stack"),markPoint:f.get("markPoint"),markLine:f.get("markLine")},d.get("option.bar")||{},!0)},stack:function(v,l,f,d){var m=f.get("stack")===o;if(v==="line"||v==="bar")return d.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:l,stack:m?"":o},d.get("option.stack")||{},!0)}},h=[["line","bar"],["stack"]];p.onclick=function(v,l,f){var d=this.model,m=d.get("seriesIndex."+f);if(n[f]){var c={series:[]},g=function(A){var b=A.subType,w=A.id,x=n[f](b,w,A,d);x&&(t.defaults(x,A.option),c.series.push(x));var S=A.coordinateSystem;if(S&&S.type==="cartesian2d"&&(f==="line"||f==="bar")){var T=S.getAxesByScale("ordinal")[0];if(T){var C=T.dim,M=C+"Axis",D=v.queryComponents({mainType:M,index:A.get(name+"Index"),id:A.get(name+"Id")})[0],L=D.componentIndex;c[M]=c[M]||[];for(var I=0;I<=L;I++)c[M][L]=c[M][L]||{};c[M][L].boundaryGap=f==="bar"}}};t.each(h,function(A){t.indexOf(A,f)>=0&&t.each(A,function(b){d.setIconStatus(b,"normal")})}),d.setIconStatus(f,"emphasis"),v.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},g);var y;if(f==="stack"){var _=c.series&&c.series[0]&&c.series[0].stack===o;y=_?t.merge({stack:i.title.tiled},i.title):t.clone(i.title)}l.dispatchAction({type:"changeMagicType",currentType:f,newOption:c,newTitle:y,featureName:"magicType"})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(v,l){l.mergeOption(v.newOption)}),a.register("magicType",s);var u=s;return pc=u,pc}var mc,ib;function A3(){if(ib)return mc;ib=1;var e=ye,t=W,r=ht,a=oa,i=ua(),o=a.toolbox.dataView,s=new Array(60).join("-"),p="	";function n(b){var w={},x=[],S=[];return b.eachRawSeries(function(T){var C=T.coordinateSystem;if(C&&(C.type==="cartesian2d"||C.type==="polar")){var M=C.getBaseAxis();if(M.type==="category"){var D=M.dim+"_"+M.index;w[D]||(w[D]={categoryAxis:M,valueAxis:C.getOtherAxis(M),series:[]},S.push({axisDim:M.dim,axisIndex:M.index})),w[D].series.push(T)}else x.push(T)}else x.push(T)}),{seriesGroupByCategoryAxis:w,other:x,meta:S}}function h(b){var w=[];return t.each(b,function(x,S){var T=x.categoryAxis,C=x.valueAxis,M=C.dim,D=[" "].concat(t.map(x.series,function(B){return B.name})),L=[T.model.getCategories()];t.each(x.series,function(B){var q=B.getRawData();L.push(B.getRawData().mapArray(q.mapDimension(M),function(V){return V}))});for(var I=[D.join(p)],P=0;P<L[0].length;P++){for(var E=[],O=0;O<L.length;O++)E.push(L[O][P]);I.push(E.join(p))}w.push(I.join(`
`))}),w.join(`

`+s+`

`)}function u(b){return t.map(b,function(w){var x=w.getRawData(),S=[w.name],T=[];return x.each(x.dimensions,function(){for(var C=arguments.length,M=arguments[C-1],D=x.getName(M),L=0;L<C-1;L++)T[L]=arguments[L];S.push((D?D+p:"")+T.join(p))}),S.join(`
`)}).join(`

`+s+`

`)}function v(b){var w=n(b);return{value:t.filter([h(w.seriesGroupByCategoryAxis),u(w.other)],function(x){return x.replace(/[\n\t\s]/g,"")}).join(`

`+s+`

`),meta:w.meta}}function l(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function f(b){var w=b.slice(0,b.indexOf(`
`));if(w.indexOf(p)>=0)return!0}var d=new RegExp("["+p+"]+","g");function m(b){for(var w=b.split(/\n+/g),x=l(w.shift()).split(d),S=[],T=t.map(x,function(L){return{name:L,data:[]}}),C=0;C<w.length;C++){var M=l(w[C]).split(d);S.push(M.shift());for(var D=0;D<M.length;D++)T[D]&&(T[D].data[C]=M[D])}return{series:T,categories:S}}function c(b){for(var w=b.split(/\n+/g),x=l(w.shift()),S=[],T=0;T<w.length;T++){var C=l(w[T]);if(C){var M=C.split(d),D="",L,I=!1;isNaN(M[0])?(I=!0,D=M[0],M=M.slice(1),S[T]={name:D,value:[]},L=S[T].value):L=S[T]=[];for(var P=0;P<M.length;P++)L.push(+M[P]);L.length===1&&(I?S[T].value=L[0]:S[T]=L[0])}}return{name:x,data:S}}function g(b,w){var x=b.split(new RegExp(`
*`+s+`
*`,"g")),S={series:[]};return t.each(x,function(T,C){if(f(T)){var M=m(T),D=w[C],L=D.axisDim+"Axis";D&&(S[L]=S[L]||[],S[L][D.axisIndex]={data:M.categories},S.series=S.series.concat(M.series))}else{var M=c(T);S.series.push(M)}}),S}function y(b){this._dom=null,this.model=b}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(o.title),lang:t.clone(o.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(b,w){var x=w.getDom(),S=this.model;this._dom&&x.removeChild(this._dom);var T=document.createElement("div");T.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",T.style.backgroundColor=S.get("backgroundColor")||"#fff";var C=document.createElement("h4"),M=S.get("lang")||[];C.innerHTML=M[0]||S.get("title"),C.style.cssText="margin: 10px 20px;",C.style.color=S.get("textColor");var D=document.createElement("div"),L=document.createElement("textarea");D.style.cssText="display:block;width:100%;overflow:auto;";var I=S.get("optionToContent"),P=S.get("contentToOption"),E=v(b);if(typeof I=="function"){var O=I(w.getOption());typeof O=="string"?D.innerHTML=O:t.isDom(O)&&D.appendChild(O)}else D.appendChild(L),L.readOnly=S.get("readOnly"),L.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",L.style.color=S.get("textColor"),L.style.borderColor=S.get("textareaBorderColor"),L.style.backgroundColor=S.get("textareaColor"),L.value=E.value;var B=E.meta,q=document.createElement("div");q.style.cssText="position:absolute;bottom:0;left:0;right:0;";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",R=document.createElement("div"),z=document.createElement("div");V+=";background-color:"+S.get("buttonColor"),V+=";color:"+S.get("buttonTextColor");var k=this;function N(){x.removeChild(T),k._dom=null}r.addEventListener(R,"click",N),r.addEventListener(z,"click",function(){var G;try{typeof P=="function"?G=P(D,w.getOption()):G=g(L.value,B)}catch(H){throw N(),new Error("Data view format error "+H)}G&&w.dispatchAction({type:"changeDataView",newOption:G}),N()}),R.innerHTML=M[1],z.innerHTML=M[2],z.style.cssText=V,R.style.cssText=V,!S.get("readOnly")&&q.appendChild(z),q.appendChild(R),T.appendChild(C),T.appendChild(D),T.appendChild(q),D.style.height=x.clientHeight-80+"px",x.appendChild(T),this._dom=T},y.prototype.remove=function(b,w){this._dom&&w.getDom().removeChild(this._dom)},y.prototype.dispose=function(b,w){this.remove(b,w)};function _(b,w){return t.map(b,function(x,S){var T=w&&w[S];if(t.isObject(T)&&!t.isArray(T)){var C=t.isObject(x)&&!t.isArray(x);C||(x={value:x});var M=T.name!=null&&x.name==null;return x=t.defaults(x,T),M&&delete x.name,x}else return x})}i.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(b,w){var x=[];t.each(b.newOption.series,function(S){var T=w.getSeriesByName(S.name)[0];if(!T)x.push(t.extend({type:"scatter"},S));else{var C=T.get("data");x.push({name:S.name,data:_(S.data,C)})}}),w.mergeOption(t.defaults({series:x},b.newOption))});var A=y;return mc=A,mc}var yc,nb;function rD(){if(nb)return yc;nb=1;var e=W,t=fe,r=Ie,a=$M(),i=e.each,o=e.indexOf,s=e.curry,p=["dataToPoint","pointToData"],n=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function h(x,S,T){var C=this._targetInfoList=[],M={},D=l(S,x);i(f,function(L,I){(!T||!T.include||o(T.include,I)>=0)&&L(D,C,M)})}var u=h.prototype;u.setOutputRanges=function(x,S){this.matchOutputRanges(x,S,function(T,C,M){if((T.coordRanges||(T.coordRanges=[])).push(C),!T.coordRange){T.coordRange=C;var D=c[T.brushType](0,M,C);T.__rangeOffset={offset:y[T.brushType](D.values,T.range,[1,1]),xyMinMax:D.xyMinMax}}})},u.matchOutputRanges=function(x,S,T){i(x,function(C){var M=this.findTargetInfo(C,S);M&&M!==!0&&e.each(M.coordSyses,function(D){var L=c[C.brushType](1,D,C.range);T(C,L.values,D,S)})},this)},u.setInputRanges=function(x,S){i(x,function(T){var C=this.findTargetInfo(T,S);if(T.range=T.range||[],C&&C!==!0){T.panelId=C.panelId;var M=c[T.brushType](0,C.coordSys,T.coordRange),D=T.__rangeOffset;T.range=D?y[T.brushType](M.values,D.offset,A(M.xyMinMax,D.xyMinMax)):M.values}},this)},u.makePanelOpts=function(x,S){return e.map(this._targetInfoList,function(T){var C=T.getPanelRect();return{panelId:T.panelId,defaultBrushType:S&&S(T),clipPath:a.makeRectPanelClipPath(C),isTargetByCursor:a.makeRectIsTargetByCursor(C,x,T.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(C)}})},u.controlSeries=function(x,S,T){var C=this.findTargetInfo(x,T);return C===!0||C&&o(C.coordSyses,S.coordinateSystem)>=0},u.findTargetInfo=function(x,S){for(var T=this._targetInfoList,C=l(S,x),M=0;M<T.length;M++){var D=T[M],L=x.panelId;if(L){if(D.panelId===L)return D}else for(var M=0;M<d.length;M++)if(d[M](C,D))return D}return!0};function v(x){return x[0]>x[1]&&x.reverse(),x}function l(x,S){return r.parseFinder(x,S,{includeMainTypes:n})}var f={grid:function(x,S){var T=x.xAxisModels,C=x.yAxisModels,M=x.gridModels,D=e.createHashMap(),L={},I={};!T&&!C&&!M||(i(T,function(P){var E=P.axis.grid.model;D.set(E.id,E),L[E.id]=!0}),i(C,function(P){var E=P.axis.grid.model;D.set(E.id,E),I[E.id]=!0}),i(M,function(P){D.set(P.id,P),L[P.id]=!0,I[P.id]=!0}),D.each(function(P){var E=P.coordinateSystem,O=[];i(E.getCartesians(),function(B,q){(o(T,B.getAxis("x").model)>=0||o(C,B.getAxis("y").model)>=0)&&O.push(B)}),S.push({panelId:"grid--"+P.id,gridModel:P,coordSysModel:P,coordSys:O[0],coordSyses:O,getPanelRect:m.grid,xAxisDeclared:L[P.id],yAxisDeclared:I[P.id]})}))},geo:function(x,S){i(x.geoModels,function(T){var C=T.coordinateSystem;S.push({panelId:"geo--"+T.id,geoModel:T,coordSysModel:T,coordSys:C,coordSyses:[C],getPanelRect:m.geo})})}},d=[function(x,S){var T=x.xAxisModel,C=x.yAxisModel,M=x.gridModel;return!M&&T&&(M=T.axis.grid.model),!M&&C&&(M=C.axis.grid.model),M&&M===S.gridModel},function(x,S){var T=x.geoModel;return T&&T===S.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var x=this.coordSys,S=x.getBoundingRect().clone();return S.applyTransform(t.getTransform(x)),S}},c={lineX:s(g,0),lineY:s(g,1),rect:function(x,S,T){var C=S[p[x]]([T[0][0],T[1][0]]),M=S[p[x]]([T[0][1],T[1][1]]),D=[v([C[0],M[0]]),v([C[1],M[1]])];return{values:D,xyMinMax:D}},polygon:function(x,S,T){var C=[[1/0,-1/0],[1/0,-1/0]],M=e.map(T,function(D){var L=S[p[x]](D);return C[0][0]=Math.min(C[0][0],L[0]),C[1][0]=Math.min(C[1][0],L[1]),C[0][1]=Math.max(C[0][1],L[0]),C[1][1]=Math.max(C[1][1],L[1]),L});return{values:M,xyMinMax:C}}};function g(x,S,T,C){var M=T.getAxis(["x","y"][x]),D=v(e.map([0,1],function(I){return S?M.coordToData(M.toLocalCoord(C[I])):M.toGlobalCoord(M.dataToCoord(C[I]))})),L=[];return L[x]=D,L[1-x]=[NaN,NaN],{values:D,xyMinMax:L}}var y={lineX:s(_,0),lineY:s(_,1),rect:function(x,S,T){return[[x[0][0]-T[0]*S[0][0],x[0][1]-T[0]*S[0][1]],[x[1][0]-T[1]*S[1][0],x[1][1]-T[1]*S[1][1]]]},polygon:function(x,S,T){return e.map(x,function(C,M){return[C[0]-T[0]*S[M][0],C[1]-T[1]*S[M][1]]})}};function _(x,S,T,C){return[S[0]-C[x]*T[0],S[1]-C[x]*T[1]]}function A(x,S){var T=b(x),C=b(S),M=[T[0]/C[0],T[1]/C[1]];return isNaN(M[0])&&(M[0]=1),isNaN(M[1])&&(M[1]=1),M}function b(x){return x?[x[0][1]-x[0][0],x[1][1]-x[1][0]]:[NaN,NaN]}var w=h;return yc=w,yc}var $a={},ob;function aD(){if(ob)return $a;ob=1;var e=W,t=e.each,r="\0_ec_hist_store";function a(n,h){var u=p(n);t(h,function(v,l){for(var f=u.length-1;f>=0;f--){var d=u[f];if(d[l])break}if(f<0){var m=n.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(m){var c=m.getPercentRange();u[0][l]={dataZoomId:l,start:c[0],end:c[1]}}}}),u.push(h)}function i(n){var h=p(n),u=h[h.length-1];h.length>1&&h.pop();var v={};return t(u,function(l,f){for(var d=h.length-1;d>=0;d--){var l=h[d][f];if(l){v[f]=l;break}}}),v}function o(n){n[r]=null}function s(n){return p(n).length}function p(n){var h=n[r];return h||(h=n[r]=[{}]),h}return $a.push=a,$a.pop=i,$a.clear=o,$a.count=s,$a}var sb={},lb={},ub;function Tg(){if(ub)return lb;ub=1;var e=ct;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),lb}var Ua={},vb;function Cg(){if(vb)return Ua;vb=1;var e=W,t=Ge(),r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(n){return e.indexOf(a,n)>=0}function o(n,h){n=n.slice();var u=e.map(n,t.capitalFirst);h=(h||[]).slice();var v=e.map(h,t.capitalFirst);return function(l,f){e.each(n,function(d,m){for(var c={name:d,capital:u[m]},g=0;g<h.length;g++)c[h[g]]=d+v[g];l.call(f,c)})}}var s=o(r,["axisIndex","axis","index","id"]);function p(n,h,u){return function(d){var m={nodes:[],records:{}};if(h(function(y){m.records[y.name]={}}),!d)return m;f(d,m);var c;do c=!1,n(g);while(c);function g(y){!v(y,m)&&l(y,m)&&(f(y,m),c=!0)}return m};function v(d,m){return e.indexOf(m.nodes,d)>=0}function l(d,m){var c=!1;return h(function(g){e.each(u(d,g)||[],function(y){m.records[g.name][y]&&(c=!0)})}),c}function f(d,m){m.nodes.push(d),h(function(c){e.each(u(d,c)||[],function(g){m.records[c.name][g]=!0})})}}return Ua.isCoordSupported=i,Ua.createNameEach=o,Ua.eachAxisDim=s,Ua.createLinkedNodesFinder=p,Ua}var _c,hb;function T3(){if(hb)return _c;hb=1;var e=W,t=Re(),r=Cg(),a=Ti(),i=e.each,o=t.asc,s=function(l,f,d,m){this._dimName=l,this._axisIndex=f,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=d};s.prototype={constructor:s,hostedBy:function(l){return this._dataZoomModel===l},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var l=[],f=this.ecModel;return f.eachSeries(function(d){if(r.isCoordSupported(d.get("coordinateSystem"))){var m=this._dimName,c=f.queryComponents({mainType:m+"Axis",index:d.get(m+"AxisIndex"),id:d.get(m+"AxisId")})[0];this._axisIndex===(c&&c.componentIndex)&&l.push(d)}},this),l},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var l=this._dimName,f=this.ecModel,d=this.getAxisModel(),m=l==="x"||l==="y",c,g;m?(g="gridIndex",c=l==="x"?"y":"x"):(g="polarIndex",c=l==="angle"?"radius":"angle");var y;return f.eachComponent(c+"Axis",function(_){(_.get(g)||0)===(d.get(g)||0)&&(y=_)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(l){var f=this._dataExtent,d=this.getAxisModel(),m=d.axis.scale,c=this._dataZoomModel.getRangePropMode(),g=[0,100],y=[],_=[],A;i(["start","end"],function(x,S){var T=l[x],C=l[x+"Value"];c[S]==="percent"?(T==null&&(T=g[S]),C=m.parse(t.linearMap(T,g,f))):(A=!0,C=C==null?f[S]:m.parse(C),T=t.linearMap(C,f,g)),_[S]=C,y[S]=T}),o(_),o(y);var b=this._minMaxSpan;A?w(_,y,f,g,!1):w(y,_,g,f,!0);function w(x,S,T,C,M){var D=M?"Span":"ValueSpan";a(0,x,T,"all",b["min"+D],b["max"+D]);for(var L=0;L<2;L++)S[L]=t.linearMap(x[L],T,C,!0),M&&(S[L]=m.parse(S[L]))}return{valueWindow:_,percentWindow:y}},reset:function(l){if(l===this._dataZoomModel){var f=this.getTargetSeriesModels();this._dataExtent=p(this,this._dimName,f),u(this);var d=this.calculateDataWindow(l.settledOption);this._valueWindow=d.valueWindow,this._percentWindow=d.percentWindow,h(this)}},restore:function(l){l===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(l,f){if(l!==this._dataZoomModel)return;var d=this._dimName,m=this.getTargetSeriesModels(),c=l.get("filterMode"),g=this._valueWindow;if(c==="none")return;i(m,function(_){var A=_.getData(),b=A.mapDimension(d,!0);b.length&&(c==="weakFilter"?A.filterSelf(function(w){for(var x,S,T,C=0;C<b.length;C++){var M=A.get(b[C],w),D=!isNaN(M),L=M<g[0],I=M>g[1];if(D&&!L&&!I)return!0;D&&(T=!0),L&&(x=!0),I&&(S=!0)}return T&&x&&S}):i(b,function(w){if(c==="empty")_.setData(A=A.map(w,function(S){return y(S)?S:NaN}));else{var x={};x[w]=g,A.selectRange(x)}}),i(b,function(w){A.setApproximateExtent(g,w)}))});function y(_){return _>=g[0]&&_<=g[1]}}};function p(l,f,d){var m=[1/0,-1/0];return i(d,function(c){var g=c.getData();g&&i(g.mapDimension(f,!0),function(y){var _=g.getApproximateExtent(y);_[0]<m[0]&&(m[0]=_[0]),_[1]>m[1]&&(m[1]=_[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),n(l,m),m}function n(l,f){var d=l.getAxisModel(),m=d.getMin(!0),c=d.get("type")==="category",g=c&&d.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?f[0]=m:c&&(f[0]=g>0?0:NaN);var y=d.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?f[1]=y:c&&(f[1]=g>0?g-1:NaN),d.get("scale",!0)||(f[0]>0&&(f[0]=0),f[1]<0&&(f[1]=0)),f}function h(l,f){var d=l.getAxisModel(),m=l._percentWindow,c=l._valueWindow;if(m){var g=t.getPixelPrecision(c,[0,500]);g=Math.min(g,20);var y=f||m[0]===0&&m[1]===100;d.setRange(y?null:+c[0].toFixed(g),y?null:+c[1].toFixed(g))}}function u(l){var f=l._minMaxSpan={},d=l._dataZoomModel,m=l._dataExtent;i(["min","max"],function(c){var g=d.get(c+"Span"),y=d.get(c+"ValueSpan");y!=null&&(y=l.getAxisModel().axis.scale.parse(y)),y!=null?g=t.linearMap(m[0]+y,m,[0,100],!0):g!=null&&(y=t.linearMap(g,[0,100],m,!0)-m[0]),f[c+"Span"]=g,f[c+"ValueSpan"]=y})}var v=s;return _c=v,_c}var xc,cb;function Ci(){if(cb)return xc;cb=1;var e=ye,t=W,r=nt,a=Ie,i=Cg(),o=T3(),s=t.each,p=i.eachAxisDim,n=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(l,f,d){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=h(l);this.settledOption=m,this.mergeDefaultAndTheme(l,d),this.doInit(m)},mergeOption:function(l){var f=h(l);t.merge(this.option,l,!0),t.merge(this.settledOption,f,!0),this.doInit(f)},doInit:function(l){var f=this.option;r.canvasSupported||(f.realtime=!1),this._setDefaultThrottle(l),u(this,l);var d=this.settledOption;s([["start","startValue"],["end","endValue"]],function(m,c){this._rangePropMode[c]==="value"&&(f[m[0]]=d[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var l=this._axisProxies;this.eachTargetAxis(function(f,d,m,c){var g=this.dependentModels[f.axis][d],y=g.__dzAxisProxy||(g.__dzAxisProxy=new o(f.name,d,this,c));l[f.name+"_"+d]=y},this)},_resetTarget:function(){var l=this.option,f=this._judgeAutoMode();p(function(d){var m=d.axisIndex;l[m]=a.normalizeToArray(l[m])},this),f==="axisIndex"?this._autoSetAxisIndex():f==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var l=this.option,f=!1;p(function(m){l[m.axisIndex]!=null&&(f=!0)},this);var d=l.orient;if(d==null&&f)return"orient";if(!f)return d==null&&(l.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var l=!0,f=this.get("orient",!0),d=this.option,m=this.dependentModels;if(l){var c=f==="vertical"?"y":"x";m[c+"Axis"].length?(d[c+"AxisIndex"]=[0],l=!1):s(m.singleAxis,function(g){l&&g.get("orient",!0)===f&&(d.singleAxisIndex=[g.componentIndex],l=!1)})}l&&p(function(g){if(l){var y=[],_=this.dependentModels[g.axis];if(_.length&&!y.length)for(var A=0,b=_.length;A<b;A++)_[A].get("type")==="category"&&y.push(A);d[g.axisIndex]=y,y.length&&(l=!1)}},this),l&&this.ecModel.eachSeries(function(g){this._isSeriesHasAllAxesTypeOf(g,"value")&&p(function(y){var _=d[y.axisIndex],A=g.get(y.axisIndex),b=g.get(y.axisId),w=g.ecModel.queryComponents({mainType:y.axis,index:A,id:b})[0];A=w.componentIndex,t.indexOf(_,A)<0&&_.push(A)})},this)},_autoSetOrient:function(){var l;this.eachTargetAxis(function(f){!l&&(l=f.name)},this),this.option.orient=l==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(l,f){var d=!0;return p(function(m){var c=l.get(m.axisIndex),g=this.dependentModels[m.axis][c];(!g||g.get("type")!==f)&&(d=!1)},this),d},_setDefaultThrottle:function(l){if(l.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var f=this.ecModel.option;this.option.throttle=f.animation&&f.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var l;return p(function(f){if(l==null){var d=this.get(f.axisIndex);d.length&&(l=this.dependentModels[f.axis][d[0]])}},this),l},eachTargetAxis:function(l,f){var d=this.ecModel;p(function(m){s(this.get(m.axisIndex),function(c){l.call(f,m,c,this,d)},this)},this)},getAxisProxy:function(l,f){return this._axisProxies[l+"_"+f]},getAxisModel:function(l,f){var d=this.getAxisProxy(l,f);return d&&d.getAxisModel()},setRawRange:function(l){var f=this.option,d=this.settledOption;s([["start","startValue"],["end","endValue"]],function(m){(l[m[0]]!=null||l[m[1]]!=null)&&(f[m[0]]=d[m[0]]=l[m[0]],f[m[1]]=d[m[1]]=l[m[1]])},this),u(this,l)},setCalculatedRange:function(l){var f=this.option;s(["start","startValue","end","endValue"],function(d){f[d]=l[d]})},getPercentRange:function(){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataPercentWindow()},getValueRange:function(l,f){if(l==null&&f==null){var d=this.findRepresentativeAxisProxy();if(d)return d.getDataValueWindow()}else return this.getAxisProxy(l,f).getDataValueWindow()},findRepresentativeAxisProxy:function(l){if(l)return l.__dzAxisProxy;var f=this._axisProxies;for(var d in f)if(f.hasOwnProperty(d)&&f[d].hostedBy(this))return f[d];for(var d in f)if(f.hasOwnProperty(d)&&!f[d].hostedBy(this))return f[d]},getRangePropMode:function(){return this._rangePropMode.slice()}});function h(l){var f={};return s(["start","end","startValue","endValue","throttle"],function(d){l.hasOwnProperty(d)&&(f[d]=l[d])}),f}function u(l,f){var d=l._rangePropMode,m=l.get("rangeMode");s([["start","startValue"],["end","endValue"]],function(c,g){var y=f[c[0]]!=null,_=f[c[1]]!=null;y&&!_?d[g]="percent":!y&&_?d[g]="value":m?d[g]=m[g]:y&&(d[g]="percent")})}var v=n;return xc=v,xc}var Sc,fb;function Mi(){if(fb)return Sc;fb=1;var e=ds,t=e.extend({type:"dataZoom",render:function(r,a,i,o){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(s,p){var n=a.getComponent(s.axis,p);if(n){var h=n.getCoordSysModel();h&&o(h,n,i[h.mainType]||(i[h.mainType]=[]),h.componentIndex)}},this);function o(s,p,n,h){for(var u,v=0;v<n.length;v++)if(n[v].model===s){u=n[v];break}u||n.push(u={model:s,axisModels:[],coordIndex:h}),u.axisModels.push(p)}return i}});return Sc=t,Sc}var bc,db;function C3(){if(db)return bc;db=1;var e=Ci(),t=e.extend({type:"dataZoom.select"});return bc=t,bc}var wc,gb;function M3(){if(gb)return wc;gb=1;var e=Mi(),t=e.extend({type:"dataZoom.select"});return wc=t,wc}var pb={},mb;function Mg(){if(mb)return pb;mb=1;var e=ye,t=W,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var o=r();return i.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(p,n,h){var u=h.getAxisProxy(p.name,n);a(u.getTargetSeriesModels(),function(v){o.set(v.uid,v)})})}),o},modifyOutputEnd:!0,overallReset:function(i,o){i.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(p,n,h){h.getAxisProxy(p.name,n).reset(h,o)}),s.eachTargetAxis(function(p,n,h){h.getAxisProxy(p.name,n).filterData(h,o)})}),i.eachComponent("dataZoom",function(s){var p=s.findRepresentativeAxisProxy(),n=p.getDataPercentWindow(),h=p.getDataValueWindow();s.setCalculatedRange({start:n[0],end:n[1],startValue:h[0],endValue:h[1]})})}}),pb}var yb={},_b;function Dg(){if(_b)return yb;_b=1;var e=ye,t=W,r=Cg();return e.registerAction("dataZoom",function(a,i){var o=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(p,n){return p.get(n.axisIndex)}),s=[];i.eachComponent({mainType:"dataZoom",query:a},function(p,n){s.push.apply(s,o(p).nodes)}),t.each(s,function(p,n){p.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),yb}var xb;function D3(){return xb||(xb=1,Tg(),Ci(),Mi(),C3(),M3(),Mg(),Dg()),sb}var Ac,Sb;function L3(){if(Sb)return Ac;Sb=1;var e=ye,t=W,r=bg(),a=rD(),i=aD(),o=Ti(),s=oa,p=ua();D3();var n=s.toolbox.dataZoom,h=t.each,u="\0_ec_\0toolbox-dataZoom_";function v(y,_,A){(this._brushController=new r(A.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}v.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(n.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var l=v.prototype;l.render=function(y,_,A,b){this.model=y,this.ecModel=_,this.api=A,c(y,_,this,b,A),m(y,_)},l.onclick=function(y,_,A){f[A].call(this)},l.remove=function(y,_){this._brushController.unmount()},l.dispose=function(y,_){this._brushController.dispose()};var f={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};l._onBrush=function(y,_){if(!_.isEnd||!y.length)return;var A={},b=this.ecModel;this._brushController.updateCovers([]);var w=new a(d(this.model.option),b,{include:["grid"]});w.matchOutputRanges(y,b,function(T,C,M){if(M.type==="cartesian2d"){var D=T.brushType;D==="rect"?(x("x",M,C[0]),x("y",M,C[1])):x({lineX:"x",lineY:"y"}[D],M,C)}}),i.push(b,A),this._dispatchZoomAction(A);function x(T,C,M){var D=C.getAxis(T),L=D.model,I=S(T,L,b),P=I.findRepresentativeAxisProxy(L).getMinMaxSpan();(P.minValueSpan!=null||P.maxValueSpan!=null)&&(M=o(0,M.slice(),D.scale.getExtent(),0,P.minValueSpan,P.maxValueSpan)),I&&(A[I.id]={dataZoomId:I.id,startValue:M[0],endValue:M[1]})}function S(T,C,M){var D;return M.eachComponent({mainType:"dataZoom",subType:"select"},function(L){var I=L.getAxisModel(T,C.componentIndex);I&&(D=L)}),D}},l._dispatchZoomAction=function(y){var _=[];h(y,function(A,b){_.push(t.clone(A))}),_.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:_})};function d(y){var _={};return t.each(["xAxisIndex","yAxisIndex"],function(A){_[A]=y[A],_[A]==null&&(_[A]="all"),(_[A]===!1||_[A]==="none")&&(_[A]=[])}),_}function m(y,_){y.setIconStatus("back",i.count(_)>1?"emphasis":"normal")}function c(y,_,A,b,w){var x=A._isZoomActive;b&&b.type==="takeGlobalCursor"&&(x=b.key==="dataZoomSelect"?b.dataZoomSelectActive:!1),A._isZoomActive=x,y.setIconStatus("zoom",x?"emphasis":"normal");var S=new a(d(y.option),_,{include:["grid"]});A._brushController.setPanels(S.makePanelOpts(w,function(T){return T.xAxisDeclared&&!T.yAxisDeclared?"lineX":!T.xAxisDeclared&&T.yAxisDeclared?"lineY":"rect"})).enableBrush(x?{brushType:"auto",brushStyle:y.getModel("brushStyle").getItemStyle()}:!1)}p.register("dataZoom",v),e.registerPreprocessor(function(y){if(!y)return;var _=y.dataZoom||(y.dataZoom=[]);t.isArray(_)||(y.dataZoom=_=[_]);var A=y.toolbox;if(A&&(t.isArray(A)&&(A=A[0]),A&&A.feature)){var b=A.feature.dataZoom;w("xAxis",b),w("yAxis",b)}function w(S,T){if(T){var C=S+"Index",M=T[C];M!=null&&M!=="all"&&!t.isArray(M)&&(M=M===!1||M==="none"?[]:[M]),x(S,function(D,L){if(!(M!=null&&M!=="all"&&t.indexOf(M,L)===-1)){var I={type:"select",$fromToolbox:!0,filterMode:T.filterMode||"filter",id:u+S+L};I[C]=L,_.push(I)}})}}function x(S,T){var C=y[S];t.isArray(C)||(C=C?[C]:[]),h(C,T)}});var g=v;return Ac=g,Ac}var Tc,bb;function I3(){if(bb)return Tc;bb=1;var e=ye,t=aD(),r=oa,a=ua(),i=r.toolbox.restore;function o(n){this.model=n}o.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var s=o.prototype;s.onclick=function(n,h,u){t.clear(n),h.dispatchAction({type:"restore",from:this.uid})},a.register("restore",o),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,h){h.resetOption("recreate")});var p=o;return Tc=p,Tc}var wb;function P3(){return wb||(wb=1,x3(),S3(),b3(),w3(),A3(),L3(),I3()),QS}var Ab={},Cc,Tb;function R3(){if(Tb)return Cc;Tb=1;var e=ye,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return Cc=t,Cc}var Mc,Cb;function E3(){if(Cb)return Mc;Cb=1;var e=W,t=ut,r=ht,a=fn,i=nt,o=Ge(),s=e.each,p=o.toCamelCase,n=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function u(c){var g="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+c+"s "+g+",top "+c+"s "+g;return e.map(n,function(_){return _+"transition:"+y}).join(";")}function v(c){var g=[],y=c.get("fontSize"),_=c.getTextColor();_&&g.push("color:"+_),g.push("font:"+c.getFont());var A=c.get("lineHeight");A==null&&(A=Math.round(y*3/2)),y&&g.push("line-height:"+A+"px");var b=c.get("textShadowColor"),w=c.get("textShadowBlur")||0,x=c.get("textShadowOffsetX")||0,S=c.get("textShadowOffsetY")||0;return w&&g.push("text-shadow:"+x+"px "+S+"px "+w+"px "+b),s(["decoration","align"],function(T){var C=c.get(T);C&&g.push("text-"+T+":"+C)}),g.join(";")}function l(c){var g=[],y=c.get("transitionDuration"),_=c.get("backgroundColor"),A=c.getModel("textStyle"),b=c.get("padding");return y&&g.push(u(y)),_&&(i.canvasSupported?g.push("background-Color:"+_):(g.push("background-Color:#"+t.toHex(_)),g.push("filter:alpha(opacity=70)"))),s(["width","color","radius"],function(w){var x="border-"+w,S=p(x),T=c.get(S);T!=null&&g.push(x+":"+T+(w==="color"?"":"px"))}),g.push(v(A)),b!=null&&g.push("padding:"+o.normalizeCssArray(b).join("px ")+"px"),g.join(";")+";"}function f(c,g,y,_,A){var b=g&&g.painter;if(y){var w=b&&b.getViewportRoot();w&&a.transformLocalCoord(c,w,document.body,_,A)}else{c[0]=_,c[1]=A;var x=b&&b.getViewportRootOffset();x&&(c[0]+=x.offsetLeft,c[1]+=x.offsetTop)}c[2]=c[0]/g.getWidth(),c[3]=c[1]/g.getHeight()}function d(c,g,y){if(i.wxa)return null;var _=document.createElement("div");_.domBelongToZr=!0,this.el=_;var A=this._zr=g.getZr(),b=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0,0,0],f(this._styleCoord,A,b,g.getWidth()/2,g.getHeight()/2),b?document.body.appendChild(_):c.appendChild(_),this._container=c,this._show=!1,this._hideTimeout;var w=this;_.onmouseenter=function(){w._enterable&&(clearTimeout(w._hideTimeout),w._show=!0),w._inContent=!0},_.onmousemove=function(x){if(x=x||window.event,!w._enterable){var S=A.handler,T=A.painter.getViewportRoot();r.normalizeEvent(T,x,!0),S.dispatch("mousemove",x)}},_.onmouseleave=function(){w._enterable&&w._show&&w.hideLater(w._hideDelay),w._inContent=!1}}d.prototype={constructor:d,_enterable:!0,update:function(c){var g=this._container,y=g.currentStyle||document.defaultView.getComputedStyle(g),_=g.style;_.position!=="absolute"&&y.position!=="absolute"&&(_.position="relative");var A=c.get("alwaysShowContent");A&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var c=this._styleCoord[2],g=this._styleCoord[3],y=c*this._zr.getWidth(),_=g*this._zr.getHeight();this.moveTo(y,_)},show:function(c){clearTimeout(this._hideTimeout);var g=this.el,y=this._styleCoord;g.style.cssText=h+l(c)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(c.get("extraCssText")||""),g.style.display=g.innerHTML?"block":"none",g.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(c){this.el.innerHTML=c??""},setEnterable:function(c){this._enterable=c},getSize:function(){var c=this.el;return[c.clientWidth,c.clientHeight]},moveTo:function(c,g){var y=this._styleCoord;f(y,this._zr,this._appendToBody,c,g);var _=this.el.style;_.left=y[0]+"px",_.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(c){this._show&&!(this._inContent&&this._enterable)&&(c?(this._hideDelay=c,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),c)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var c=this.el.clientWidth,g=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(c+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),g+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:c,height:g}}};var m=d;return Mc=m,Mc}var Dc,Mb;function k3(){if(Mb)return Dc;Mb=1;var e=W,t=Ca,r=fe;function a(s,p,n,h){s[0]=n,s[1]=h,s[2]=s[0]/p.getWidth(),s[3]=s[1]/p.getHeight()}function i(s){var p=this._zr=s.getZr();this._styleCoord=[0,0,0,0],a(this._styleCoord,p,s.getWidth()/2,s.getHeight()/2),this._show=!1,this._hideTimeout}i.prototype={constructor:i,_enterable:!0,update:function(s){var p=s.get("alwaysShowContent");p&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var s=this._styleCoord[2],p=this._styleCoord[3],n=s*this._zr.getWidth(),h=p*this._zr.getHeight();this.moveTo(n,h)},show:function(s){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(s,p,n){this.el&&this._zr.remove(this.el);for(var h={},u=s,v="{marker",l="|}",f=u.indexOf(v);f>=0;){var d=u.indexOf(l),m=u.substr(f+v.length,d-f-v.length);m.indexOf("sub")>-1?h["marker"+m]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:p[m],textOffset:[3,0]}:h["marker"+m]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:p[m]},u=u.substr(d+1),f=u.indexOf("{marker")}var c=n.getModel("textStyle"),g=c.get("fontSize"),y=n.get("textLineHeight");y==null&&(y=Math.round(g*3/2)),this.el=new t({style:r.setTextStyle({},c,{rich:h,text:s,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:y}),z:n.get("z")}),this._zr.add(this.el);var _=this;this.el.on("mouseover",function(){_._enterable&&(clearTimeout(_._hideTimeout),_._show=!0),_._inContent=!0}),this.el.on("mouseout",function(){_._enterable&&_._show&&_.hideLater(_._hideDelay),_._inContent=!1})},setEnterable:function(s){this._enterable=s},getSize:function(){var s=this.el.getBoundingRect();return[s.width,s.height]},moveTo:function(s,p){if(this.el){var n=this._styleCoord;a(n,this._zr,s,p),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(s){this._show&&!(this._inContent&&this._enterable)&&(s?(this._hideDelay=s,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),s)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var s=this.getSize();return{width:s[0],height:s[1]}}};var o=i;return Dc=o,Dc}var Lc,Db;function O3(){if(Db)return Lc;Db=1;var e=ye,t=W,r=nt,a=E3(),i=k3(),o=Ge(),s=Re(),p=fe,n=QM(),h=ze,u=ot(),v=jM(),l=hr(),f=Ds(),d=Ie,m=d.getTooltipRenderMode,c=t.bind,g=t.each,y=s.parsePercent,_=new p.Rect({shape:{x:-1,y:-1,width:2,height:2}}),A=e.extendComponentView({type:"tooltip",init:function(M,D){if(!r.node){var L=M.getComponent("tooltip"),I=L.get("renderMode");this._renderMode=m(I);var P;this._renderMode==="html"?(P=new a(D.getDom(),D,{appendToBody:L.get("appendToBody",!0)}),this._newLine="<br/>"):(P=new i(D),this._newLine=`
`),this._tooltipContent=P}},render:function(M,D,L){if(!r.node){this.group.removeAll(),this._tooltipModel=M,this._ecModel=D,this._api=L,this._lastDataByCoordSys=null,this._alwaysShowContent=M.get("alwaysShowContent");var I=this._tooltipContent;I.update(M),I.setEnterable(M.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var M=this._tooltipModel,D=M.get("triggerOn");v.register("itemTooltip",this._api,c(function(L,I,P){D!=="none"&&(D.indexOf(L)>=0?this._tryShow(I,P):L==="leave"&&this._hide(P))},this))},_keepShow:function(){var M=this._tooltipModel,D=this._ecModel,L=this._api;if(this._lastX!=null&&this._lastY!=null&&M.get("triggerOn")!=="none"){var I=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&I.manuallyShowTip(M,D,L,{x:I._lastX,y:I._lastY})})}},manuallyShowTip:function(M,D,L,I){if(!(I.from===this.uid||r.node)){var P=w(I,L);this._ticket="";var E=I.dataByCoordSys;if(I.tooltip&&I.x!=null&&I.y!=null){var O=_;O.position=[I.x,I.y],O.update(),O.tooltip=I.tooltip,this._tryShow({offsetX:I.x,offsetY:I.y,target:O},P)}else if(E)this._tryShow({offsetX:I.x,offsetY:I.y,position:I.position,dataByCoordSys:I.dataByCoordSys,tooltipOption:I.tooltipOption},P);else if(I.seriesIndex!=null){if(this._manuallyAxisShowTip(M,D,L,I))return;var B=n(I,D),q=B.point[0],V=B.point[1];q!=null&&V!=null&&this._tryShow({offsetX:q,offsetY:V,position:I.position,target:B.el},P)}else I.x!=null&&I.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:I.x,y:I.y}),this._tryShow({offsetX:I.x,offsetY:I.y,position:I.position,target:L.getZr().findHover(I.x,I.y).target},P))}},manuallyHideTip:function(M,D,L,I){var P=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&P.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,I.from!==this.uid&&this._hide(w(I,L))},_manuallyAxisShowTip:function(V,D,L,I){var P=I.seriesIndex,E=I.dataIndex,O=D.getComponent("axisPointer").coordSysAxesInfo;if(!(P==null||E==null||O==null)){var B=D.getSeriesByIndex(P);if(B){var q=B.getData(),V=b([q.getItemModel(E),B,(B.coordinateSystem||{}).model,V]);if(V.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:P,dataIndex:E,position:I.position}),!0}}},_tryShow:function(M,D){var L=M.target,I=this._tooltipModel;if(I){this._lastX=M.offsetX,this._lastY=M.offsetY;var P=M.dataByCoordSys;P&&P.length?this._showAxisTooltip(P,M):L&&L.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(M,L,D)):L&&L.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(M,L,D)):(this._lastDataByCoordSys=null,this._hide(D))}},_showOrMove:function(M,D){var L=M.get("showDelay");D=t.bind(D,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout(D,L):D()},_showAxisTooltip:function(M,D){var L=this._ecModel,I=this._tooltipModel,P=[D.offsetX,D.offsetY],E=[],O=[],B=b([D.tooltipOption,I]),q=this._renderMode,V=this._newLine,R={};g(M,function(k){g(k.dataByAxis,function(N){var G=L.getComponent(N.axisDim+"Axis",N.axisIndex),H=N.value,F=[];if(!(!G||H==null)){var $=f.getValueLabel(H,G.axis,L,N.seriesDataIndices,N.valueLabelOpt);t.each(N.seriesDataIndices,function(K){var Q=L.getSeriesByIndex(K.seriesIndex),j=K.dataIndexInside,ee=Q&&Q.getDataParams(j);if(ee.axisDim=N.axisDim,ee.axisIndex=N.axisIndex,ee.axisType=N.axisType,ee.axisId=N.axisId,ee.axisValue=l.getAxisRawValue(G.axis,H),ee.axisValueLabel=$,ee){O.push(ee);var re=Q.formatTooltip(j,!0,null,q),te;if(t.isObject(re)){te=re.html;var oe=re.markers;t.merge(R,oe)}else te=re;F.push(te)}});var U=$;q!=="html"?E.push(F.join(V)):E.push((U?o.encodeHTML(U)+V:"")+F.join(V))}})},this),E.reverse(),E=E.join(this._newLine+this._newLine);var z=D.position;this._showOrMove(B,function(){this._updateContentNotChangedOnAxis(M)?this._updatePosition(B,z,P[0],P[1],this._tooltipContent,O):this._showTooltipContent(B,E,O,Math.random(),P[0],P[1],z,void 0,R)})},_showSeriesItemTooltip:function(M,D,L){var I=this._ecModel,P=D.seriesIndex,E=I.getSeriesByIndex(P),O=D.dataModel||E,B=D.dataIndex,q=D.dataType,V=O.getData(q),R=b([V.getItemModel(B),O,E&&(E.coordinateSystem||{}).model,this._tooltipModel]),z=R.get("trigger");if(!(z!=null&&z!=="item")){var k=O.getDataParams(B,q),N=O.formatTooltip(B,!1,q,this._renderMode),G,H;t.isObject(N)?(G=N.html,H=N.markers):(G=N,H=null);var F="item_"+O.name+"_"+B;this._showOrMove(R,function(){this._showTooltipContent(R,G,k,F,M.offsetX,M.offsetY,M.position,M.target,H)}),L({type:"showTip",dataIndexInside:B,dataIndex:V.getRawIndex(B),seriesIndex:P,from:this.uid})}},_showComponentItemTooltip:function(M,D,L){var I=D.tooltip;if(typeof I=="string"){var P=I;I={content:P,formatter:P}}var E=new u(I,this._tooltipModel,this._ecModel),O=E.get("content"),B=Math.random();this._showOrMove(E,function(){this._showTooltipContent(E,O,E.get("formatterParams")||{},B,M.offsetX,M.offsetY,M.position,D)}),L({type:"showTip",from:this.uid})},_showTooltipContent:function(M,D,L,I,P,E,O,B,q){if(this._ticket="",!(!M.get("showContent")||!M.get("show"))){var V=this._tooltipContent,R=M.get("formatter");O=O||M.get("position");var z=D;if(R&&typeof R=="string")z=o.formatTpl(R,L,!0);else if(typeof R=="function"){var k=c(function(N,G){N===this._ticket&&(V.setContent(G,q,M),this._updatePosition(M,O,P,E,V,L,B))},this);this._ticket=I,z=R(L,I,k)}V.setContent(z,q,M),V.show(M),this._updatePosition(M,O,P,E,V,L,B)}},_updatePosition:function(M,D,L,I,P,E,O){var B=this._api.getWidth(),q=this._api.getHeight();D=D||M.get("position");var V=P.getSize(),R=M.get("align"),z=M.get("verticalAlign"),k=O&&O.getBoundingRect().clone();if(O&&k.applyTransform(O.transform),typeof D=="function"&&(D=D([L,I],E,P.el,k,{viewSize:[B,q],contentSize:V.slice()})),t.isArray(D))L=y(D[0],B),I=y(D[1],q);else if(t.isObject(D)){D.width=V[0],D.height=V[1];var N=h.getLayoutRect(D,{width:B,height:q});L=N.x,I=N.y,R=null,z=null}else if(typeof D=="string"&&O){var G=T(D,k,V);L=G[0],I=G[1]}else{var G=x(L,I,P,B,q,R?null:20,z?null:20);L=G[0],I=G[1]}if(R&&(L-=C(R)?V[0]/2:R==="right"?V[0]:0),z&&(I-=C(z)?V[1]/2:z==="bottom"?V[1]:0),M.get("confine")){var G=S(L,I,P,B,q);L=G[0],I=G[1]}P.moveTo(L,I)},_updateContentNotChangedOnAxis:function(M){var D=this._lastDataByCoordSys,L=!!D&&D.length===M.length;return L&&g(D,function(I,P){var E=I.dataByAxis||{},O=M[P]||{},B=O.dataByAxis||[];L&=E.length===B.length,L&&g(E,function(q,V){var R=B[V]||{},z=q.seriesDataIndices||[],k=R.seriesDataIndices||[];L&=q.value===R.value&&q.axisType===R.axisType&&q.axisId===R.axisId&&z.length===k.length,L&&g(z,function(N,G){var H=k[G];L&=N.seriesIndex===H.seriesIndex&&N.dataIndex===H.dataIndex})})}),this._lastDataByCoordSys=M,!!L},_hide:function(M){this._lastDataByCoordSys=null,M({type:"hideTip",from:this.uid})},dispose:function(M,D){r.node||(this._tooltipContent.dispose(),v.unregister("itemTooltip",D))}});function b(M){for(var D=M.pop();M.length;){var L=M.pop();L&&(u.isInstance(L)&&(L=L.get("tooltip",!0)),typeof L=="string"&&(L={formatter:L}),D=new u(L,D,D.ecModel))}return D}function w(M,D){return M.dispatchAction||t.bind(D.dispatchAction,D)}function x(M,D,L,I,P,E,O){var B=L.getOuterSize(),q=B.width,V=B.height;return E!=null&&(M+q+E>I?M-=q+E:M+=E),O!=null&&(D+V+O>P?D-=V+O:D+=O),[M,D]}function S(M,D,L,I,P){var E=L.getOuterSize(),O=E.width,B=E.height;return M=Math.min(M+O,I)-O,D=Math.min(D+B,P)-B,M=Math.max(M,0),D=Math.max(D,0),[M,D]}function T(M,D,L){var I=L[0],P=L[1],E=5,O=0,B=0,q=D.width,V=D.height;switch(M){case"inside":O=D.x+q/2-I/2,B=D.y+V/2-P/2;break;case"top":O=D.x+q/2-I/2,B=D.y-P-E;break;case"bottom":O=D.x+q/2-I/2,B=D.y+V+E;break;case"left":O=D.x-I-E,B=D.y+V/2-P/2;break;case"right":O=D.x+q+E,B=D.y+V/2-P/2}return[O,B]}function C(M){return M==="center"||M==="middle"}return Lc=A,Lc}var Lb;function z3(){if(Lb)return Ab;Lb=1;var e=ye;return Vn(),R3(),O3(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Ab}var Ib={},Ic,Pb;function B3(){if(Pb)return Ic;Pb=1;var e=W,t=["rect","polygon","keep","clear"];function r(i,o){var s=i&&i.brush;if(e.isArray(s)||(s=s?[s]:[]),!!s.length){var p=[];e.each(s,function(l){var f=l.hasOwnProperty("toolbox")?l.toolbox:[];f instanceof Array&&(p=p.concat(f))});var n=i&&i.toolbox;e.isArray(n)&&(n=n[0]),n||(n={feature:{}},i.toolbox=[n]);var h=n.feature||(n.feature={}),u=h.brush||(h.brush={}),v=u.type||(u.type=[]);v.push.apply(v,p),a(v),o&&!v.length&&v.push.apply(v,t)}}function a(i){var o={};e.each(i,function(s){o[s]=1}),i.length=0,e.each(o,function(s,p){i.push(p)})}return Ic=r,Ic}var Pc={},Wa={},Rb;function Ls(){if(Rb)return Wa;Rb=1;var e=W,t=Ea(),r=e.each;function a(n){if(n){for(var h in n)if(n.hasOwnProperty(h))return!0}}function i(n,h,u){var v={};return r(h,function(f){var d=v[f]=l();r(n[f],function(m,c){if(t.isValidType(c)){var g={type:c,visual:m};u&&u(g,f),d[c]=new t(g),c==="opacity"&&(g=e.clone(g),g.type="colorAlpha",d.__hidden.__alphaForOpacity=new t(g))}})}),v;function l(){var f=function(){};f.prototype.__hidden=f.prototype;var d=new f;return d}}function o(n,h,u){var v;e.each(u,function(l){h.hasOwnProperty(l)&&a(h[l])&&(v=!0)}),v&&e.each(u,function(l){h.hasOwnProperty(l)&&a(h[l])?n[l]=e.clone(h[l]):delete n[l]})}function s(n,h,u,v,l,f){var d={};e.each(n,function(_){var A=t.prepareVisualTypes(h[_]);d[_]=A});var m;function c(_){return u.getItemVisual(m,_)}function g(_,A){u.setItemVisual(m,_,A)}f==null?u.each(y):u.each([f],y);function y(_,A){m=f==null?_:A;var b=u.getRawDataItem(m);if(!(b&&b.visualMap===!1))for(var w=v.call(l,_),x=h[w],S=d[w],T=0,C=S.length;T<C;T++){var M=S[T];x[M]&&x[M].applyVisual(_,c,g)}}}function p(n,h,u,v){var l={};e.each(n,function(d){var m=t.prepareVisualTypes(h[d]);l[d]=m});function f(d,m){v!=null&&(v=m.getDimension(v));function c(M){return m.getItemVisual(y,M)}function g(M,D){m.setItemVisual(y,M,D)}for(var y;(y=d.next())!=null;){var _=m.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var A=v!=null?m.get(v,y,!0):y,b=u(A),w=h[b],x=l[b],S=0,T=x.length;S<T;S++){var C=x[S];w[C]&&w[C].applyVisual(A,c,g)}}}return{progress:f}}return Wa.createVisualMappings=i,Wa.replaceVisualOption=o,Wa.applyVisual=s,Wa.incrementalApplyVisual=p,Wa}var Rc,Eb;function N3(){if(Eb)return Rc;Eb=1;var e=SM(),t=Ke,r=fe,a=r.linePolygonIntersect,i={lineX:o(0),lineY:o(1),rect:{point:function(n,h,u){return n&&u.boundingRect.contain(n[0],n[1])},rect:function(n,h,u){return n&&u.boundingRect.intersect(n)}},polygon:{point:function(n,h,u){return n&&u.boundingRect.contain(n[0],n[1])&&e.contain(u.range,n[0],n[1])},rect:function(n,h,u){var v=u.range;if(!n||v.length<=1)return!1;var l=n.x,f=n.y,d=n.width,m=n.height,c=v[0];if(e.contain(v,l,f)||e.contain(v,l+d,f)||e.contain(v,l,f+m)||e.contain(v,l+d,f+m)||t.create(n).contain(c[0],c[1])||a(l,f,l+d,f,v)||a(l,f,l,f+m,v)||a(l+d,f,l+d,f+m,v)||a(l,f+m,l+d,f+m,v))return!0}}};function o(n){var h=["x","y"],u=["width","height"];return{point:function(v,l,f){if(v){var d=f.range,m=v[n];return s(m,d)}},rect:function(v,l,f){if(v){var d=f.range,m=[v[h[n]],v[h[n]]+v[u[n]]];return m[1]<m[0]&&m.reverse(),s(m[0],d)||s(m[1],d)||s(d[0],m)||s(d[1],m)}}}}function s(n,h){return h[0]<=n&&n<=h[1]}var p=i;return Rc=p,Rc}var kb;function iD(){if(kb)return Pc;kb=1;var e=ye,t=W,r=Ke,a=Ls(),i=N3(),o=vr,s=rD(),p=["inBrush","outOfBrush"],n="__ecBrushSelect",h="__ecInBrushSelectEvent",u=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(u,function(A,b,w){A.eachComponent({mainType:"brush"},function(x){w&&w.type==="takeGlobalCursor"&&x.setBrushOption(w.key==="brush"?w.brushOption:{brushType:!1})}),v(A)});function v(A){A.eachComponent({mainType:"brush"},function(b){var w=b.brushTargetManager=new s(b.option,A);w.setInputRanges(b.areas,A)})}e.registerVisual(u,function(A,b,w){var x=[],S,T;A.eachComponent({mainType:"brush"},function(C,M){var D={brushId:C.id,brushIndex:M,brushName:C.name,areas:t.clone(C.areas),selected:[]};x.push(D);var L=C.option,I=L.brushLink,P=[],E=[],O=[],B=0;M||(S=L.throttleType,T=L.throttleDelay);var q=t.map(C.areas,function(G){return g(t.defaults({boundingRect:y[G.brushType](G)},G))}),V=a.createVisualMappings(C.option,p,function(G){G.mappingMethod="fixed"});t.isArray(I)&&t.each(I,function(G){P[G]=1});function R(G){return I==="all"||P[G]}function z(G){return!!G.length}A.eachSeries(function(G,H){var F=O[H]=[];G.subType==="parallel"?k(G,H):N(G,H,F)});function k(G,H){var F=G.coordinateSystem;B|=F.hasAxisBrushed(),R(H)&&F.eachActiveState(G.getData(),function($,U){$==="active"&&(E[U]=1)})}function N(G,H,F){var $=m(G);if(!(!$||c(C,H))&&(t.each(q,function(K){$[K.brushType]&&C.brushTargetManager.controlSeries(K,G,A)&&F.push(K),B|=z(F)}),R(H)&&z(F))){var U=G.getData();U.each(function(K){d($,F,U,K)&&(E[K]=1)})}}A.eachSeries(function(G,H){var F={seriesId:G.id,seriesIndex:H,seriesName:G.name,dataIndex:[]};D.selected.push(F);var $=m(G),U=O[H],K=G.getData(),Q=R(H)?function(j){return E[j]?(F.dataIndex.push(K.getRawIndex(j)),"inBrush"):"outOfBrush"}:function(j){return d($,U,K,j)?(F.dataIndex.push(K.getRawIndex(j)),"inBrush"):"outOfBrush"};(R(H)?B:z(U))&&a.applyVisual(p,V,K,Q)})}),l(b,S,T,x,w)});function l(A,b,w,x,S){if(S){var T=A.getZr();if(!T[h]){T[n]||(T[n]=f);var C=o.createOrUpdate(T,n,w,b);C(A,x)}}}function f(A,b){if(!A.isDisposed()){var w=A.getZr();w[h]=!0,A.dispatchAction({type:"brushSelect",batch:b}),w[h]=!1}}function d(A,b,w,x){for(var S=0,T=b.length;S<T;S++){var C=b[S];if(A[C.brushType](x,w,C.selectors,C))return!0}}function m(A){var b=A.brushSelector;if(t.isString(b)){var w=[];return t.each(i,function(S,T){w[T]=function(C,M,D,L){var I=M.getItemLayout(C);return S[b](I,D,L)}}),w}else if(t.isFunction(b)){var x={};return t.each(i,function(S,T){x[T]=b}),x}return b}function c(A,b){var w=A.option.seriesIndex;return w!=null&&w!=="all"&&(t.isArray(w)?t.indexOf(w,b)<0:b!==w)}function g(A){var b=A.selectors={};return t.each(i[A.brushType],function(w,x){b[x]=function(S){return w(S,b,A)}}),A}var y={lineX:t.noop,lineY:t.noop,rect:function(A){return _(A.range)},polygon:function(A){for(var b,w=A.range,x=0,S=w.length;x<S;x++){b=b||[[1/0,-1/0],[1/0,-1/0]];var T=w[x];T[0]<b[0][0]&&(b[0][0]=T[0]),T[0]>b[0][1]&&(b[0][1]=T[0]),T[1]<b[1][0]&&(b[1][0]=T[1]),T[1]>b[1][1]&&(b[1][1]=T[1])}return b&&_(b)}};function _(A){return new r(A[0][0],A[1][0],A[0][1]-A[0][0],A[1][1]-A[1][0])}return Pc.layoutCovers=v,Pc}var Ec,Ob;function V3(){if(Ob)return Ec;Ob=1;var e=ye,t=W,r=Ls(),a=ot(),i=["#ddd"],o=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,h){var u=this.option;!h&&r.replaceVisualOption(u,n,["inBrush","outOfBrush"]);var v=u.inBrush=u.inBrush||{};u.outOfBrush=u.outOfBrush||{color:i},v.hasOwnProperty("liftZ")||(v.liftZ=5)},setAreas:function(n){n&&(this.areas=t.map(n,function(h){return s(this.option,h)},this))},setBrushOption:function(n){this.brushOption=s(this.option,n),this.brushType=this.brushOption.brushType}});function s(n,h){return t.merge({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new a(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},h,!0)}var p=o;return Ec=p,Ec}var kc,zb;function H3(){if(zb)return kc;zb=1;var e=ye,t=W,r=bg(),a=iD(),i=a.layoutCovers,o=e.extendComponentView({type:"brush",init:function(p,n){this.ecModel=p,this.api=n,this.model,(this._brushController=new r(n.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(p){return this.model=p,s.apply(this,arguments)},updateTransform:function(p,n){return i(n),s.apply(this,arguments)},updateView:s,dispose:function(){this._brushController.dispose()},_onBrush:function(p,n){var h=this.model.id;this.model.brushTargetManager.setOutputRanges(p,this.ecModel),(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:h,areas:t.clone(p),$from:h}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:h,areas:t.clone(p),$from:h})}});function s(p,n,h,u){(!u||u.$from!==p.id)&&this._brushController.setPanels(p.brushTargetManager.makePanelOpts(h)).enableBrush(p.brushOption).updateCovers(p.areas.slice())}return kc=o,kc}var Bb={},Nb;function q3(){if(Nb)return Bb;Nb=1;var e=ye;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Bb}var Oc,Vb;function G3(){if(Vb)return Oc;Vb=1;var e=W,t=ua(),r=oa,a=r.toolbox.brush;function i(p,n,h){this.model=p,this.ecModel=n,this.api=h,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var o=i.prototype;o.render=o.updateView=function(p,n,h){var u,v,l;n.eachComponent({mainType:"brush"},function(f){u=f.brushType,v=f.brushOption.brushMode||"single",l|=f.areas.length}),this._brushType=u,this._brushMode=v,e.each(p.get("type",!0),function(f){p.setIconStatus(f,(f==="keep"?v==="multiple":f==="clear"?l:f===u)?"emphasis":"normal")})},o.getIcons=function(){var p=this.model,n=p.get("icon",!0),h={};return e.each(p.get("type",!0),function(u){n[u]&&(h[u]=n[u])}),h},o.onclick=function(p,n,h){var u=this._brushType,v=this._brushMode;h==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:h==="keep"?u:u===h?!1:h,brushMode:h==="keep"?v==="multiple"?"single":"multiple":v}})},t.register("brush",i);var s=i;return Oc=s,Oc}var Hb;function F3(){if(Hb)return Ib;Hb=1;var e=ye,t=B3();return iD(),V3(),H3(),q3(),G3(),e.registerPreprocessor(t),Ib}var qb={},Gb;function $3(){if(Gb)return qb;Gb=1;var e=W,t=ye,r=fe,a=ze,i=a.getLayoutRect,o=Ge(),s=o.windowOpen;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(p,n,h){if(this.group.removeAll(),!!p.get("show")){var u=this.group,v=p.getModel("textStyle"),l=p.getModel("subtextStyle"),f=p.get("textAlign"),d=e.retrieve2(p.get("textBaseline"),p.get("textVerticalAlign")),m=new r.Text({style:r.setTextStyle({},v,{text:p.get("text"),textFill:v.getTextColor()},{disableBox:!0}),z2:10}),c=m.getBoundingRect(),g=p.get("subtext"),y=new r.Text({style:r.setTextStyle({},l,{text:g,textFill:l.getTextColor(),y:c.height+p.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),_=p.get("link"),A=p.get("sublink"),b=p.get("triggerEvent",!0);m.silent=!_&&!b,y.silent=!A&&!b,_&&m.on("click",function(){s(_,"_"+p.get("target"))}),A&&y.on("click",function(){s(A,"_"+p.get("subtarget"))}),m.eventData=y.eventData=b?{componentType:"title",componentIndex:p.componentIndex}:null,u.add(m),g&&u.add(y);var w=u.getBoundingRect(),x=p.getBoxLayoutParams();x.width=w.width,x.height=w.height;var S=i(x,{width:h.getWidth(),height:h.getHeight()},p.get("padding"));f||(f=p.get("left")||p.get("right"),f==="middle"&&(f="center"),f==="right"?S.x+=S.width:f==="center"&&(S.x+=S.width/2)),d||(d=p.get("top")||p.get("bottom"),d==="center"&&(d="middle"),d==="bottom"?S.y+=S.height:d==="middle"&&(S.y+=S.height/2),d=d||"top"),u.attr("position",[S.x,S.y]);var T={textAlign:f,textVerticalAlign:d};m.setStyle(T),y.setStyle(T),w=u.getBoundingRect();var C=S.margin,M=p.getItemStyle(["color","opacity"]);M.fill=p.get("backgroundColor");var D=new r.Rect({shape:{x:w.x-C[3],y:w.y-C[0],width:w.width+C[1]+C[3],height:w.height+C[0]+C[2],r:p.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});u.add(D)}}}),qb}var Fb={},zc,$b;function U3(){if($b)return zc;$b=1;var e=W;function t(o){var s=o&&o.timeline;e.isArray(s)||(s=s?[s]:[]),e.each(s,function(p){p&&r(p)})}function r(o){var s=o.type,p={number:"value",time:"time"};if(p[s]&&(o.axisType=p[s],delete o.type),a(o),i(o,"controlPosition")){var n=o.controlStyle||(o.controlStyle={});i(n,"position")||(n.position=o.controlPosition),n.position==="none"&&!i(n,"show")&&(n.show=!1,delete n.position),delete o.controlPosition}e.each(o.data||[],function(h){e.isObject(h)&&!e.isArray(h)&&(!i(h,"value")&&i(h,"name")&&(h.value=h.name),a(h))})}function a(o){var s=o.itemStyle||(o.itemStyle={}),p=s.emphasis||(s.emphasis={}),n=o.label||o.label||{},h=n.normal||(n.normal={}),u={normal:1,emphasis:1};e.each(n,function(v,l){!u[l]&&!i(h,l)&&(h[l]=v)}),p.label&&!i(n,"emphasis")&&(n.emphasis=p.label,delete p.label)}function i(o,s){return o.hasOwnProperty(s)}return zc=t,zc}var Ub={},Wb;function W3(){if(Wb)return Ub;Wb=1;var e=ct;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),Ub}var Zb={},Yb;function Z3(){if(Yb)return Zb;Yb=1;var e=ye,t=W;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),Zb}var Bc,Xb;function Y3(){if(Xb)return Bc;Xb=1;var e=W,t=ct,r=Xt(),a=Ie,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(s,p,n){this._data,this._names,this.mergeDefaultAndTheme(s,n),this._initData()},mergeOption:function(s){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(s){s==null&&(s=this.option.currentIndex);var p=this._data.count();this.option.loop?s=(s%p+p)%p:(s>=p&&(s=p-1),s<0&&(s=0)),this.option.currentIndex=s},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(s){this.option.autoPlay=!!s},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var s=this.option,p=s.data||[],n=s.axisType,h=this._names=[];if(n==="category"){var u=[];e.each(p,function(f,d){var m=a.getDataItemValue(f),c;e.isObject(f)?(c=e.clone(f),c.value=d):c=d,u.push(c),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),h.push(m+"")}),p=u}var v={category:"ordinal",time:"time"}[n]||"number",l=this._data=new r([{name:"value",type:v}],this);l.initData(p,h)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),o=i;return Bc=o,Bc}var Nc,Kb;function X3(){if(Kb)return Nc;Kb=1;var e=W,t=Y3(),r=og,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return Nc=i,Nc}var Vc,Qb;function K3(){if(Qb)return Vc;Qb=1;var e=ds,t=e.extend({type:"timeline"});return Vc=t,Vc}var Hc,jb;function Q3(){if(jb)return Hc;jb=1;var e=W,t=sa(),r=function(i,o,s,p){t.call(this,i,o,s),this.type=p||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return Hc=a,Hc}var qc,Jb;function j3(){if(Jb)return qc;Jb=1;var e=W,t=Ke,r=Rt(),a=fe,i=ze,o=K3(),s=Q3(),p=Kt(),n=p.createSymbol,h=hr(),u=Re(),v=Ge(),l=v.encodeHTML,f=e.bind,d=e.each,m=Math.PI,c=o.extend({type:"timeline.slider",init:function(b,w){this.api=w,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(b,w,x,S){if(this.model=b,this.api=x,this.ecModel=w,this.group.removeAll(),b.get("show",!0)){var T=this._layout(b,x),C=this._createGroup("mainGroup"),M=this._createGroup("labelGroup"),D=this._axis=this._createAxis(T,b);b.formatTooltip=function(L){return l(D.scale.getLabel(L))},d(["AxisLine","AxisTick","Control","CurrentPointer"],function(L){this["_render"+L](T,C,D,b)},this),this._renderAxisLabel(T,M,D,b),this._position(T,b)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(b,w){var x=b.get("label.position"),S=b.get("orient"),T=g(b,w);x==null||x==="auto"?x=S==="horizontal"?T.y+T.height/2<w.getHeight()/2?"-":"+":T.x+T.width/2<w.getWidth()/2?"+":"-":isNaN(x)&&(x={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[S][x]);var C={horizontal:"center",vertical:x>=0||x==="+"?"left":"right"},M={horizontal:x>=0||x==="+"?"top":"bottom",vertical:"middle"},D={horizontal:0,vertical:m/2},L=S==="vertical"?T.height:T.width,I=b.getModel("controlStyle"),P=I.get("show",!0),E=P?I.get("itemSize"):0,O=P?I.get("itemGap"):0,B=E+O,q=b.get("label.rotate")||0;q=q*m/180;var V,R,z,k,N=I.get("position",!0),G=P&&I.get("showPlayBtn",!0),H=P&&I.get("showPrevBtn",!0),F=P&&I.get("showNextBtn",!0),$=0,U=L;return N==="left"||N==="bottom"?(G&&(V=[0,0],$+=B),H&&(R=[$,0],$+=B),F&&(z=[U-E,0],U-=B)):(G&&(V=[U-E,0],U-=B),H&&(R=[0,0],$+=B),F&&(z=[U-E,0],U-=B)),k=[$,U],b.get("inverse")&&k.reverse(),{viewRect:T,mainLength:L,orient:S,rotation:D[S],labelRotation:q,labelPosOpt:x,labelAlign:b.get("label.align")||C[S],labelBaseline:b.get("label.verticalAlign")||b.get("label.baseline")||M[S],playPosition:V,prevBtnPosition:R,nextBtnPosition:z,axisExtent:k,controlSize:E,controlGap:O}},_position:function(b,w){var x=this._mainGroup,S=this._labelGroup,T=b.viewRect;if(b.orient==="vertical"){var C=r.create(),M=T.x,D=T.y+T.height;r.translate(C,C,[-M,-D]),r.rotate(C,C,-m/2),r.translate(C,C,[M,D]),T=T.clone(),T.applyTransform(C)}var L=R(T),I=R(x.getBoundingRect()),P=R(S.getBoundingRect()),E=x.position,O=S.position;O[0]=E[0]=L[0][0];var B=b.labelPosOpt;if(isNaN(B)){var q=B==="+"?0:1;z(E,I,L,1,q),z(O,P,L,1,1-q)}else{var q=B>=0?0:1;z(E,I,L,1,q),O[1]=E[1]+B}x.attr("position",E),S.attr("position",O),x.rotation=S.rotation=b.rotation,V(x),V(S);function V(k){var N=k.position;k.origin=[L[0][0]-N[0],L[1][0]-N[1]]}function R(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function z(k,N,G,H,F){k[H]+=G[H][F]-N[H][F]}},_createAxis:function(b,w){var x=w.getData(),S=w.get("axisType"),T=h.createScaleByModel(w,S);T.getTicks=function(){return x.mapArray(["value"],function(D){return D})};var C=x.getDataExtent("value");T.setExtent(C[0],C[1]),T.niceTicks();var M=new s("value",T,b.axisExtent,S);return M.model=w,M},_createGroup:function(b){var w=this["_"+b]=new a.Group;return this.group.add(w),w},_renderAxisLine:function(b,w,x,S){var T=x.getExtent();S.get("lineStyle.show")&&w.add(new a.Line({shape:{x1:T[0],y1:0,x2:T[1],y2:0},style:e.extend({lineCap:"round"},S.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(b,w,x,S){var T=S.getData(),C=x.scale.getTicks();d(C,function(M){var D=x.dataToCoord(M),L=T.getItemModel(M),I=L.getModel("itemStyle"),P=L.getModel("emphasis.itemStyle"),E={position:[D,0],onclick:f(this._changeTimeline,this,M)},O=_(L,I,w,E);a.setHoverStyle(O,P.getItemStyle()),L.get("tooltip")?(O.dataIndex=M,O.dataModel=S):O.dataIndex=O.dataModel=null},this)},_renderAxisLabel:function(b,w,x,S){var T=x.getLabelModel();if(T.get("show")){var C=S.getData(),M=x.getViewLabels();d(M,function(D){var L=D.tickValue,I=C.getItemModel(L),P=I.getModel("label"),E=I.getModel("emphasis.label"),O=x.dataToCoord(D.tickValue),B=new a.Text({position:[O,0],rotation:b.labelRotation-b.rotation,onclick:f(this._changeTimeline,this,L),silent:!1});a.setTextStyle(B.style,P,{text:D.formattedLabel,textAlign:b.labelAlign,textVerticalAlign:b.labelBaseline}),w.add(B),a.setHoverStyle(B,a.setTextStyle({},E))},this)}},_renderControl:function(b,w,x,S){var T=b.controlSize,C=b.rotation,M=S.getModel("controlStyle").getItemStyle(),D=S.getModel("emphasis.controlStyle").getItemStyle(),L=[0,-T/2,T,T],I=S.getPlayState(),P=S.get("inverse",!0);E(b.nextBtnPosition,"controlStyle.nextIcon",f(this._changeTimeline,this,P?"-":"+")),E(b.prevBtnPosition,"controlStyle.prevIcon",f(this._changeTimeline,this,P?"+":"-")),E(b.playPosition,"controlStyle."+(I?"stopIcon":"playIcon"),f(this._handlePlayClick,this,!I),!0);function E(O,B,q,V){if(O){var R={position:O,origin:[T/2,0],rotation:V?-C:0,rectHover:!0,style:M,onclick:q},z=y(S,B,L,R);w.add(z),a.setHoverStyle(z,D)}}},_renderCurrentPointer:function(b,w,x,S){var T=S.getData(),C=S.getCurrentIndex(),M=T.getItemModel(C).getModel("checkpointStyle"),D=this,L={onCreate:function(I){I.draggable=!0,I.drift=f(D._handlePointerDrag,D),I.ondragend=f(D._handlePointerDragend,D),A(I,C,x,S,!0)},onUpdate:function(I){A(I,C,x,S)}};this._currentPointer=_(M,M,this._mainGroup,{},this._currentPointer,L)},_handlePlayClick:function(b){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:b,from:this.uid})},_handlePointerDrag:function(b,w,x){this._clearTimer(),this._pointerChangeTimeline([x.offsetX,x.offsetY])},_handlePointerDragend:function(b){this._pointerChangeTimeline([b.offsetX,b.offsetY],!0)},_pointerChangeTimeline:function(b,w){var x=this._toAxisCoord(b)[0],S=this._axis,T=u.asc(S.getExtent().slice());x>T[1]&&(x=T[1]),x<T[0]&&(x=T[0]),this._currentPointer.position[0]=x,this._currentPointer.dirty();var C=this._findNearestTick(x),M=this.model;(w||C!==M.getCurrentIndex()&&M.get("realtime"))&&this._changeTimeline(C)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(f(b,this),this.model.get("playInterval")));function b(){var w=this.model;this._changeTimeline(w.getCurrentIndex()+(w.get("rewind",!0)?-1:1))}},_toAxisCoord:function(b){var w=this._mainGroup.getLocalTransform();return a.applyTransform(b,w,!0)},_findNearestTick:function(b){var w=this.model.getData(),x=1/0,S,T=this._axis;return w.each(["value"],function(C,M){var D=T.dataToCoord(C),L=Math.abs(D-b);L<x&&(x=L,S=M)}),S},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(b){var w=this.model.getCurrentIndex();b==="+"?b=w+1:b==="-"&&(b=w-1),this.api.dispatchAction({type:"timelineChange",currentIndex:b,from:this.uid})}});function g(b,w){return i.getLayoutRect(b.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()},b.get("padding"))}function y(b,w,x,S){var T=S.style,C=a.createIcon(b.get(w),S||{},new t(x[0],x[1],x[2],x[3]));return T&&C.setStyle(T),C}function _(b,w,x,S,T,C){var M=w.get("color");if(T)T.setColor(M),x.add(T),C&&C.onUpdate(T);else{var D=b.get("symbol");T=n(D,-1,-1,2,2,M),T.setStyle("strokeNoScale",!0),x.add(T),C&&C.onCreate(T)}var L=w.getItemStyle(["color","symbol","symbolSize"]);T.setStyle(L),S=e.merge({rectHover:!0,z2:100},S,!0);var I=b.get("symbolSize");I=I instanceof Array?I.slice():[+I,+I],I[0]/=2,I[1]/=2,S.scale=I;var P=b.get("symbolOffset");if(P){var E=S.position=S.position||[0,0];E[0]+=u.parsePercent(P[0],I[0]),E[1]+=u.parsePercent(P[1],I[1])}var O=b.get("symbolRotate");return S.rotation=(O||0)*Math.PI/180||0,T.attr(S),T.updateTransform(),T}function A(b,w,x,S,T){if(!b.dragging){var C=S.getModel("checkpointStyle"),M=x.dataToCoord(S.getData().get(["value"],w));T||!C.get("animation",!0)?b.attr({position:[M,0]}):(b.stopAnimation(!0),b.animateTo({position:[M,0]},C.get("animationDuration",!0),C.get("animationEasing",!0)))}}return qc=c,qc}var ew;function J3(){if(ew)return Fb;ew=1;var e=ye,t=U3();return W3(),Z3(),X3(),j3(),e.registerPreprocessor(t),Fb}var tw={},Gc,rw;function Lg(){if(rw)return Gc;rw=1;var e=ye,t=W,r=nt,a=Ie,i=Ge(),o=og,s=i.addCommas,p=i.encodeHTML;function n(v){a.defaultEmphasis(v,"label",["show"])}var h=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(v,l,f){this.mergeDefaultAndTheme(v,f),this._mergeOption(v,f,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var v=this.__hostSeries;return this.getShallow("animation")&&v&&v.isAnimationEnabled()},mergeOption:function(v,l){this._mergeOption(v,l,!1,!1)},_mergeOption:function(v,l,f,d){var m=this.constructor,c=this.mainType+"Model";f||l.eachSeries(function(g){var y=g.get(this.mainType,!0),_=g[c];if(!y||!y.data){g[c]=null;return}_?_._mergeOption(y,l,!0):(d&&n(y),t.each(y.data,function(A){A instanceof Array?(n(A[0]),n(A[1])):n(A)}),_=new m(y,this,l),t.extend(_,{mainType:this.mainType,seriesIndex:g.seriesIndex,name:g.name,createdBySelf:!0}),_.__hostSeries=g),g[c]=_},this)},formatTooltip:function(v,l,f,d){var m=this.getData(),c=this.getRawValue(v),g=t.isArray(c)?t.map(c,s).join(", "):s(c),y=m.getName(v),_=p(this.name),A=d==="html"?"<br/>":`
`;return(c!=null||y)&&(_+=A),y&&(_+=p(y),c!=null&&(_+=" : ")),c!=null&&(_+=p(g)),_},getData:function(){return this._data},setData:function(v){this._data=v}});t.mixin(h,o);var u=h;return Gc=u,Gc}var Fc,aw;function eG(){if(aw)return Fc;aw=1;var e=Lg(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return Fc=t,Fc}var ma={},iw;function Ig(){if(iw)return ma;iw=1;var e=W,t=Re(),r=Dr(),a=r.isDimensionStacked,i=e.indexOf;function o(c){return!(isNaN(parseFloat(c.x))&&isNaN(parseFloat(c.y)))}function s(c){return!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y))}function p(c,g,y,_,A,b){var w=[],x=a(g,_),S=x?g.getCalculationInfo("stackResultDimension"):_,T=m(g,S,c),C=g.indicesOfNearest(S,T)[0];w[A]=g.get(y,C),w[b]=g.get(S,C);var M=g.get(_,C),D=t.getPrecision(g.get(_,C));return D=Math.min(D,20),D>=0&&(w[b]=+w[b].toFixed(D)),[w,M]}var n=e.curry,h={min:n(p,"min"),max:n(p,"max"),average:n(p,"average")};function u(c,g){var y=c.getData(),_=c.coordinateSystem;if(g&&!s(g)&&!e.isArray(g.coord)&&_){var A=_.dimensions,b=v(g,y,_,c);if(g=e.clone(g),g.type&&h[g.type]&&b.baseAxis&&b.valueAxis){var w=i(A,b.baseAxis.dim),x=i(A,b.valueAxis.dim),S=h[g.type](y,b.baseDataDim,b.valueDataDim,w,x);g.coord=S[0],g.value=S[1]}else{for(var T=[g.xAxis!=null?g.xAxis:g.radiusAxis,g.yAxis!=null?g.yAxis:g.angleAxis],C=0;C<2;C++)h[T[C]]&&(T[C]=m(y,y.mapDimension(A[C]),T[C]));g.coord=T}}return g}function v(c,g,y,_){var A={};return c.valueIndex!=null||c.valueDim!=null?(A.valueDataDim=c.valueIndex!=null?g.getDimension(c.valueIndex):c.valueDim,A.valueAxis=y.getAxis(l(_,A.valueDataDim)),A.baseAxis=y.getOtherAxis(A.valueAxis),A.baseDataDim=g.mapDimension(A.baseAxis.dim)):(A.baseAxis=_.getBaseAxis(),A.valueAxis=y.getOtherAxis(A.baseAxis),A.baseDataDim=g.mapDimension(A.baseAxis.dim),A.valueDataDim=g.mapDimension(A.valueAxis.dim)),A}function l(c,g){var y=c.getData(),_=y.dimensions;g=y.getDimension(g);for(var A=0;A<_.length;A++){var b=y.getDimensionInfo(_[A]);if(b.name===g)return b.coordDim}}function f(c,g){return c&&c.containData&&g.coord&&!o(g)?c.containData(g.coord):!0}function d(c,g,y,_){return _<2?c.coord&&c.coord[_]:c.value}function m(c,g,y){if(y==="average"){var _=0,A=0;return c.each(g,function(b,w){isNaN(b)||(_+=b,A++)}),_/A}else return y==="median"?c.getMedian(g):c.getDataExtent(g,!0)[y==="max"?1:0]}return ma.dataTransform=u,ma.getAxisInfo=v,ma.dataFilter=f,ma.dimValueGetter=d,ma.numCalculate=m,ma}var $c,nw;function Pg(){if(nw)return $c;nw=1;var e=ye,t=W,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,o){var s=this.markerGroupMap;s.each(function(n){n.__keep=!1});var p=this.type+"Model";i.eachSeries(function(n){var h=n[p];h&&this.renderSeries(n,h,i,o)},this),s.each(function(n){!n.__keep&&this.group.remove(n.group)},this)},renderSeries:function(){}});return $c=r,$c}var Uc,ow;function tG(){if(ow)return Uc;ow=1;var e=W,t=Rn(),r=Re(),a=Xt(),i=Ig(),o=Pg();function s(h,u,v){var l=u.coordinateSystem;h.each(function(f){var d=h.getItemModel(f),m,c=r.parsePercent(d.get("x"),v.getWidth()),g=r.parsePercent(d.get("y"),v.getHeight());if(!isNaN(c)&&!isNaN(g))m=[c,g];else if(u.getMarkerPosition)m=u.getMarkerPosition(h.getValues(h.dimensions,f));else if(l){var y=h.get(l.dimensions[0],f),_=h.get(l.dimensions[1],f);m=l.dataToPoint([y,_])}isNaN(c)||(m[0]=c),isNaN(g)||(m[1]=g),h.setItemLayout(f,m)})}var p=o.extend({type:"markPoint",updateTransform:function(h,u,v){u.eachSeries(function(l){var f=l.markPointModel;f&&(s(f.getData(),l,v),this.markerGroupMap.get(l.id).updateLayout(f))},this)},renderSeries:function(h,u,v,l){var f=h.coordinateSystem,d=h.id,m=h.getData(),c=this.markerGroupMap,g=c.get(d)||c.set(d,new t),y=n(f,h,u);u.setData(y),s(u.getData(),h,l),y.each(function(_){var A=y.getItemModel(_),b=A.getShallow("symbol"),w=A.getShallow("symbolSize"),x=A.getShallow("symbolRotate"),S=e.isFunction(b),T=e.isFunction(w),C=e.isFunction(x);if(S||T||C){var M=u.getRawValue(_),D=u.getDataParams(_);S&&(b=b(M,D)),T&&(w=w(M,D)),C&&(x=x(M,D))}y.setItemVisual(_,{symbol:b,symbolSize:w,symbolRotate:x,color:A.get("itemStyle.color")||m.getVisual("color")})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(_){_.traverse(function(A){A.dataModel=u})}),g.__keep=!0,g.group.silent=u.get("silent")||h.get("silent")}});function n(h,u,v){var l;h?l=e.map(h&&h.dimensions,function(m){var c=u.getData().getDimensionInfo(u.getData().mapDimension(m))||{};return e.defaults({name:m},c)}):l=[{name:"value",type:"float"}];var f=new a(l,v),d=e.map(v.get("data"),e.curry(i.dataTransform,u));return h&&(d=e.filter(d,e.curry(i.dataFilter,h))),f.initData(d,null,h?i.dimValueGetter:function(m){return m.value}),f}return Uc=p,Uc}var sw;function rG(){if(sw)return tw;sw=1;var e=ye;return eG(),tG(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),tw}var lw={},Wc,uw;function aG(){if(uw)return Wc;uw=1;var e=Lg(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Wc=t,Wc}var Zc,vw;function iG(){if(vw)return Zc;vw=1;var e=W,t=Xt(),r=Re(),a=Ig(),i=xg(),o=Pg(),s=Dr(),p=s.getStackedDimension,n=function(m,c,g,y){var _=m.getData(),A=y.type;if(!e.isArray(y)&&(A==="min"||A==="max"||A==="average"||A==="median"||y.xAxis!=null||y.yAxis!=null)){var b,w;if(y.yAxis!=null||y.xAxis!=null)b=c.getAxis(y.yAxis!=null?"y":"x"),w=e.retrieve(y.yAxis,y.xAxis);else{var x=a.getAxisInfo(y,_,c,m);b=x.valueAxis;var S=p(_,x.valueDataDim);w=a.numCalculate(_,S,A)}var T=b.dim==="x"?0:1,C=1-T,M=e.clone(y),D={};M.type=null,M.coord=[],D.coord=[],M.coord[C]=-1/0,D.coord[C]=1/0;var L=g.get("precision");L>=0&&typeof w=="number"&&(w=+w.toFixed(Math.min(L,20))),M.coord[T]=D.coord[T]=w,y=[M,D,{type:A,valueIndex:y.valueIndex,value:w}]}return y=[a.dataTransform(m,y[0]),a.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function h(m){return!isNaN(m)&&!isFinite(m)}function u(m,c,g,y){var _=1-m,A=y.dimensions[m];return h(c[_])&&h(g[_])&&c[m]===g[m]&&y.getAxis(A).containData(c[m])}function v(m,c){if(m.type==="cartesian2d"){var g=c[0].coord,y=c[1].coord;if(g&&y&&(u(1,g,y,m)||u(0,g,y,m)))return!0}return a.dataFilter(m,c[0])&&a.dataFilter(m,c[1])}function l(m,c,g,y,_){var A=y.coordinateSystem,b=m.getItemModel(c),w,x=r.parsePercent(b.get("x"),_.getWidth()),S=r.parsePercent(b.get("y"),_.getHeight());if(!isNaN(x)&&!isNaN(S))w=[x,S];else{if(y.getMarkerPosition)w=y.getMarkerPosition(m.getValues(m.dimensions,c));else{var T=A.dimensions,C=m.get(T[0],c),M=m.get(T[1],c);w=A.dataToPoint([C,M])}if(A.type==="cartesian2d"){var D=A.getAxis("x"),L=A.getAxis("y"),T=A.dimensions;h(m.get(T[0],c))?w[0]=D.toGlobalCoord(D.getExtent()[g?0:1]):h(m.get(T[1],c))&&(w[1]=L.toGlobalCoord(L.getExtent()[g?0:1]))}isNaN(x)||(w[0]=x),isNaN(S)||(w[1]=S)}m.setItemLayout(c,w)}var f=o.extend({type:"markLine",updateTransform:function(m,c,g){c.eachSeries(function(y){var _=y.markLineModel;if(_){var A=_.getData(),b=_.__from,w=_.__to;b.each(function(x){l(b,x,!0,y,g),l(w,x,!1,y,g)}),A.each(function(x){A.setItemLayout(x,[b.getItemLayout(x),w.getItemLayout(x)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,c,g,y){var _=m.coordinateSystem,A=m.id,b=m.getData(),w=this.markerGroupMap,x=w.get(A)||w.set(A,new i);this.group.add(x.group);var S=d(_,m,c),T=S.from,C=S.to,M=S.line;c.__from=T,c.__to=C,c.setData(M);var D=c.get("symbol"),L=c.get("symbolSize");e.isArray(D)||(D=[D,D]),typeof L=="number"&&(L=[L,L]),S.from.each(function(P){I(T,P,!0),I(C,P,!1)}),M.each(function(P){var E=M.getItemModel(P).get("lineStyle.color");M.setItemVisual(P,{color:E||T.getItemVisual(P,"color")}),M.setItemLayout(P,[T.getItemLayout(P),C.getItemLayout(P)]),M.setItemVisual(P,{fromSymbolRotate:T.getItemVisual(P,"symbolRotate"),fromSymbolSize:T.getItemVisual(P,"symbolSize"),fromSymbol:T.getItemVisual(P,"symbol"),toSymbolRotate:C.getItemVisual(P,"symbolRotate"),toSymbolSize:C.getItemVisual(P,"symbolSize"),toSymbol:C.getItemVisual(P,"symbol")})}),x.updateData(M),S.line.eachItemGraphicEl(function(P,E){P.traverse(function(O){O.dataModel=c})});function I(P,E,O){var B=P.getItemModel(E);l(P,E,O,m,y),P.setItemVisual(E,{symbolRotate:B.get("symbolRotate"),symbolSize:B.get("symbolSize")||L[O?0:1],symbol:B.get("symbol",!0)||D[O?0:1],color:B.get("itemStyle.color")||b.getVisual("color")})}x.__keep=!0,x.group.silent=c.get("silent")||m.get("silent")}});function d(m,c,g){var y;m?y=e.map(m&&m.dimensions,function(S){var T=c.getData().getDimensionInfo(c.getData().mapDimension(S))||{};return e.defaults({name:S},T)}):y=[{name:"value",type:"float"}];var _=new t(y,g),A=new t(y,g),b=new t([],g),w=e.map(g.get("data"),e.curry(n,c,m,g));m&&(w=e.filter(w,e.curry(v,m)));var x=m?a.dimValueGetter:function(S){return S.value};return _.initData(e.map(w,function(S){return S[0]}),null,x),A.initData(e.map(w,function(S){return S[1]}),null,x),b.initData(e.map(w,function(S){return S[2]})),b.hasItemOption=!0,{from:_,to:A,line:b}}return Zc=f,Zc}var hw;function nG(){if(hw)return lw;hw=1;var e=ye;return aG(),iG(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),lw}var cw={},Yc,fw;function oG(){if(fw)return Yc;fw=1;var e=Lg(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return Yc=t,Yc}var dw={},gw;function sG(){if(gw)return dw;gw=1;var e=W,t=ut,r=Xt(),a=Re(),i=fe,o=Ig(),s=Pg(),p=function(d,m,c,g){var y=o.dataTransform(d,g[0]),_=o.dataTransform(d,g[1]),A=e.retrieve,b=y.coord,w=_.coord;b[0]=A(b[0],-1/0),b[1]=A(b[1],-1/0),w[0]=A(w[0],1/0),w[1]=A(w[1],1/0);var x=e.mergeAll([{},y,_]);return x.coord=[y.coord,_.coord],x.x0=y.x,x.y0=y.y,x.x1=_.x,x.y1=_.y,x};function n(d){return!isNaN(d)&&!isFinite(d)}function h(d,m,c,g){var y=1-d;return n(m[y])&&n(c[y])}function u(d,m){var c=m.coord[0],g=m.coord[1];return d.type==="cartesian2d"&&c&&g&&(h(1,c,g)||h(0,c,g))?!0:o.dataFilter(d,{coord:c,x:m.x0,y:m.y0})||o.dataFilter(d,{coord:g,x:m.x1,y:m.y1})}function v(d,m,c,g,y){var _=g.coordinateSystem,A=d.getItemModel(m),b,w=a.parsePercent(A.get(c[0]),y.getWidth()),x=a.parsePercent(A.get(c[1]),y.getHeight());if(!isNaN(w)&&!isNaN(x))b=[w,x];else{if(g.getMarkerPosition)b=g.getMarkerPosition(d.getValues(c,m));else{var S=d.get(c[0],m),T=d.get(c[1],m),C=[S,T];_.clampData&&_.clampData(C,C),b=_.dataToPoint(C,!0)}if(_.type==="cartesian2d"){var M=_.getAxis("x"),D=_.getAxis("y"),S=d.get(c[0],m),T=d.get(c[1],m);n(S)?b[0]=M.toGlobalCoord(M.getExtent()[c[0]==="x0"?0:1]):n(T)&&(b[1]=D.toGlobalCoord(D.getExtent()[c[1]==="y0"?0:1]))}isNaN(w)||(b[0]=w),isNaN(x)||(b[1]=x)}return b}var l=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];s.extend({type:"markArea",updateTransform:function(d,m,c){m.eachSeries(function(g){var y=g.markAreaModel;if(y){var _=y.getData();_.each(function(A){var b=e.map(l,function(x){return v(_,A,x,g,c)});_.setItemLayout(A,b);var w=_.getItemGraphicEl(A);w.setShape("points",b)})}},this)},renderSeries:function(d,m,c,g){var y=d.coordinateSystem,_=d.id,A=d.getData(),b=this.markerGroupMap,w=b.get(_)||b.set(_,{group:new i.Group});this.group.add(w.group),w.__keep=!0;var x=f(y,d,m);m.setData(x),x.each(function(S){var T=e.map(l,function(M){return v(x,S,M,d,g)}),C=!0;e.each(l,function(M){if(C){var D=x.get(M[0],S),L=x.get(M[1],S);(n(D)||y.getAxis("x").containData(D))&&(n(L)||y.getAxis("y").containData(L))&&(C=!1)}}),x.setItemLayout(S,{points:T,allClipped:C}),x.setItemVisual(S,{color:A.getVisual("color")})}),x.diff(w.__data).add(function(S){var T=x.getItemLayout(S);if(!T.allClipped){var C=new i.Polygon({shape:{points:T.points}});x.setItemGraphicEl(S,C),w.group.add(C)}}).update(function(S,T){var C=w.__data.getItemGraphicEl(T),M=x.getItemLayout(S);M.allClipped?C&&w.group.remove(C):(C?i.updateProps(C,{shape:{points:M.points}},m,S):C=new i.Polygon({shape:{points:M.points}}),x.setItemGraphicEl(S,C),w.group.add(C))}).remove(function(S){var T=w.__data.getItemGraphicEl(S);w.group.remove(T)}).execute(),x.eachItemGraphicEl(function(S,T){var C=x.getItemModel(T),M=C.getModel("label"),D=C.getModel("emphasis.label"),L=x.getItemVisual(T,"color");S.useStyle(e.defaults(C.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(L,.4),stroke:L})),S.hoverStyle=C.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(S.style,S.hoverStyle,M,D,{labelFetcher:m,labelDataIndex:T,defaultText:x.getName(T)||"",isRectText:!0,autoColor:L}),i.setHoverStyle(S,{}),S.dataModel=m}),w.__data=x,w.group.silent=m.get("silent")||d.get("silent")}});function f(d,m,c){var g,y,_=["x0","y0","x1","y1"];d?(g=e.map(d&&d.dimensions,function(w){var x=m.getData(),S=x.getDimensionInfo(x.mapDimension(w))||{};return e.defaults({name:w},S)}),y=new r(e.map(_,function(w,x){return{name:w,type:g[x%2].type}}),c)):(g=[{name:"value",type:"float"}],y=new r(g,c));var A=e.map(c.get("data"),e.curry(p,m,d,c));d&&(A=e.filter(A,e.curry(u,d)));var b=d?function(w,x,S,T){return w.coord[Math.floor(T/2)][T%2]}:function(w){return w.value};return y.initData(A,null,b),y.hasItemOption=!0,y}return dw}var pw;function lG(){if(pw)return cw;pw=1;var e=ye;return oG(),sG(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),cw}var mw={},yw={},Xc,_w;function nD(){if(_w)return Xc;_w=1;var e=ye,t=W,r=ot(),a=Ie,i=a.isNameSpecified,o=oa,s=o.legend.selector,p={all:{type:"all",title:t.clone(s.all)},inverse:{type:"inverse",title:t.clone(s.inverse)}},n=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(u,v,l){this.mergeDefaultAndTheme(u,l),u.selected=u.selected||{},this._updateSelector(u)},mergeOption:function(u){n.superCall(this,"mergeOption",u),this._updateSelector(u)},_updateSelector:function(u){var v=u.selector;v===!0&&(v=u.selector=["all","inverse"]),t.isArray(v)&&t.each(v,function(l,f){t.isString(l)&&(l={type:l}),v[f]=t.merge(l,p[l.type])})},optionUpdated:function(){this._updateData(this.ecModel);var u=this._data;if(u[0]&&this.get("selectedMode")==="single"){for(var v=!1,l=0;l<u.length;l++){var f=u[l].get("name");if(this.isSelected(f)){this.select(f),v=!0;break}}!v&&this.select(u[0].get("name"))}},_updateData:function(u){var v=[],l=[];u.eachRawSeries(function(m){var c=m.name;l.push(c);var g;if(m.legendVisualProvider){var y=m.legendVisualProvider,_=y.getAllNames();u.isSeriesFiltered(m)||(l=l.concat(_)),_.length?v=v.concat(_):g=!0}else g=!0;g&&i(m)&&v.push(m.name)}),this._availableNames=l;var f=this.get("data")||v,d=t.map(f,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new r(m,this,this.ecModel)},this);this._data=d},getData:function(){return this._data},select:function(u){var v=this.option.selected,l=this.get("selectedMode");if(l==="single"){var f=this._data;t.each(f,function(d){v[d.get("name")]=!1})}v[u]=!0},unSelect:function(u){this.get("selectedMode")!=="single"&&(this.option.selected[u]=!1)},toggleSelected:function(u){var v=this.option.selected;v.hasOwnProperty(u)||(v[u]=!0),this[v[u]?"unSelect":"select"](u)},allSelect:function(){var u=this._data,v=this.option.selected;t.each(u,function(l){v[l.get("name",!0)]=!0})},inverseSelect:function(){var u=this._data,v=this.option.selected;t.each(u,function(l){var f=l.get("name",!0);v.hasOwnProperty(f)||(v[f]=!0),v[f]=!v[f]})},isSelected:function(u){var v=this.option.selected;return!(v.hasOwnProperty(u)&&!v[u])&&t.indexOf(this._availableNames,u)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=n;return Xc=h,Xc}var xw={},Sw;function uG(){if(Sw)return xw;Sw=1;var e=ye,t=W;function r(a,i,o){var s={},p=a==="toggleSelected",n;return o.eachComponent("legend",function(h){p&&n!=null?h[n?"select":"unSelect"](i.name):a==="allSelect"||a==="inverseSelect"?h[a]():(h[a](i.name),n=h.isSelected(i.name));var u=h.getData();t.each(u,function(v){var l=v.get("name");if(!(l===`
`||l==="")){var f=h.isSelected(l);s.hasOwnProperty(l)?s[l]=s[l]&&f:s[l]=f}})}),a==="allSelect"||a==="inverseSelect"?{selected:s}:{name:i.name,selected:s}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),xw}var Kc,bw;function oD(){if(bw)return Kc;bw=1;var e=ye,t=W,r=Kt(),a=r.createSymbol,i=fe,o=tD(),s=o.makeBackground,p=ze,n=t.curry,h=t.each,u=i.Group,v=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new u),this._backgroundEl,this.group.add(this._selectorGroup=new u),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(c,g,y){var _=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!c.get("show",!0)){var A=c.get("align"),b=c.get("orient");(!A||A==="auto")&&(A=c.get("left")==="right"&&b==="vertical"?"right":"left");var w=c.get("selector",!0),x=c.get("selectorPosition",!0);w&&(!x||x==="auto")&&(x=b==="horizontal"?"end":"start"),this.renderInner(A,c,g,y,w,b,x);var S=c.getBoxLayoutParams(),T={width:y.getWidth(),height:y.getHeight()},C=c.get("padding"),M=p.getLayoutRect(S,T,C),D=this.layoutInner(c,A,M,_,w,x),L=p.getLayoutRect(t.defaults({width:D.width,height:D.height},S),T,C);this.group.attr("position",[L.x-D.x,L.y-D.y]),this.group.add(this._backgroundEl=s(D,c))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(c,g,y,_,A,b,w){var x=this.getContentGroup(),S=t.createHashMap(),T=g.get("selectedMode"),C=[];y.eachRawSeries(function(M){!M.get("legendHoverLink")&&C.push(M.id)}),h(g.getData(),function(M,D){var L=M.get("name");if(!this.newlineDisabled&&(L===""||L===`
`)){x.add(new u({newline:!0}));return}var I=y.getSeriesByName(L)[0];if(!S.get(L))if(I){var P=I.getData(),E=P.getVisual("color"),O=P.getVisual("borderColor");typeof E=="function"&&(E=E(I.getDataParams(0))),typeof O=="function"&&(O=O(I.getDataParams(0)));var B=P.getVisual("legendSymbol")||"roundRect",q=P.getVisual("symbol"),V=this._createItem(L,D,M,g,B,q,c,E,O,T);V.on("click",n(f,L,null,_,C)).on("mouseover",n(d,I.name,null,_,C)).on("mouseout",n(m,I.name,null,_,C)),S.set(L,!0)}else y.eachRawSeries(function(R){if(!S.get(L)&&R.legendVisualProvider){var z=R.legendVisualProvider;if(!z.containName(L))return;var k=z.indexOfName(L),N=z.getItemVisual(k,"color"),G=z.getItemVisual(k,"borderColor"),H="roundRect",F=this._createItem(L,D,M,g,H,null,c,N,G,T);F.on("click",n(f,null,L,_,C)).on("mouseover",n(d,null,L,_,C)).on("mouseout",n(m,null,L,_,C)),S.set(L,!0)}},this)},this),A&&this._createSelector(A,g,_,b,w)},_createSelector:function(c,g,y,_,A){var b=this.getSelectorGroup();h(c,function(x){w(x)});function w(x){var S=x.type,T=new i.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:S==="all"?"legendAllSelect":"legendInverseSelect"})}});b.add(T);var C=g.getModel("selectorLabel"),M=g.getModel("emphasis.selectorLabel");i.setLabelStyle(T.style,T.hoverStyle={},C,M,{defaultText:x.title,isRectText:!1}),i.setHoverStyle(T)}},_createItem:function(c,g,y,_,A,b,w,x,S,T){var C=_.get("itemWidth"),M=_.get("itemHeight"),D=_.get("inactiveColor"),L=_.get("inactiveBorderColor"),I=_.get("symbolKeepAspect"),P=_.getModel("itemStyle"),E=_.isSelected(c),O=new u,B=y.getModel("textStyle"),q=y.get("icon"),V=y.getModel("tooltip"),R=V.parentModel;A=q||A;var z=a(A,0,0,C,M,E?x:D,I??!0);if(O.add(l(z,A,P,S,L,E)),!q&&b&&(b!==A||b==="none")){var k=M*.8;b==="none"&&(b="circle");var N=a(b,(C-k)/2,(M-k)/2,k,k,E?x:D,I??!0);O.add(l(N,b,P,S,L,E))}var G=w==="left"?C+5:-5,H=w,F=_.get("formatter"),$=c;typeof F=="string"&&F?$=F.replace("{name}",c??""):typeof F=="function"&&($=F(c)),O.add(new i.Text({style:i.setTextStyle({},B,{text:$,x:G,y:M/2,textFill:E?B.getTextColor():D,textAlign:H,textVerticalAlign:"middle"})}));var U=new i.Rect({shape:O.getBoundingRect(),invisible:!0,tooltip:V.get("show")?t.extend({content:c,formatter:R.get("formatter",!0)||function(){return c},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:c,$vars:["name"]}},V.option):null});return O.add(U),O.eachChild(function(K){K.silent=!0}),U.silent=!T,this.getContentGroup().add(O),i.setHoverStyle(O),O.__legendDataIndex=g,O},layoutInner:function(c,g,y,_,A,b){var w=this.getContentGroup(),x=this.getSelectorGroup();p.box(c.get("orient"),w,c.get("itemGap"),y.width,y.height);var S=w.getBoundingRect(),T=[-S.x,-S.y];if(A){p.box("horizontal",x,c.get("selectorItemGap",!0));var C=x.getBoundingRect(),M=[-C.x,-C.y],D=c.get("selectorButtonGap",!0),L=c.getOrient().index,I=L===0?"width":"height",P=L===0?"height":"width",E=L===0?"y":"x";b==="end"?M[L]+=S[I]+D:T[L]+=C[I]+D,M[1-L]+=S[P]/2-C[P]/2,x.attr("position",M),w.attr("position",T);var O={x:0,y:0};return O[I]=S[I]+D+C[I],O[P]=Math.max(S[P],C[P]),O[E]=Math.min(0,C[E]+M[1-L]),O}else return w.attr("position",T),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function l(c,g,y,_,A,b){var w;return g!=="line"&&g.indexOf("empty")<0?(w=y.getItemStyle(),c.style.stroke=_,b||(w.stroke=A)):w=y.getItemStyle(["borderWidth","borderColor"]),c.setStyle(w)}function f(c,g,y,_){m(c,g,y,_),y.dispatchAction({type:"legendToggleSelect",name:c??g}),d(c,g,y,_)}function d(c,g,y,_){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:c,name:g,excludeSeriesId:_})}function m(c,g,y,_){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:c,name:g,excludeSeriesId:_})}return Kc=v,Kc}var Qc,ww;function vG(){if(ww)return Qc;ww=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Qc=e,Qc}var Aw;function sD(){if(Aw)return yw;Aw=1;var e=ye;nD(),uG(),oD();var t=vG(),r=ct;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),yw}var jc,Tw;function hG(){if(Tw)return jc;Tw=1;var e=nD(),t=ze,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(p){this.option.scrollDataIndex=p},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(p,n,h,u){var v=a(p);i.superCall(this,"init",p,n,h,u),o(this,p,v)},mergeOption:function(p,n){i.superCall(this,"mergeOption",p,n),o(this,this.option,p)}});function o(p,n,h){var u=p.getOrient(),v=[1,1];v[u.index]=0,r(n,h,{type:"box",ignoreSize:v})}var s=i;return jc=s,jc}var Jc,Cw;function cG(){if(Cw)return Jc;Cw=1;var e=W,t=fe,r=ze,a=oD(),i=t.Group,o=["width","height"],s=["x","y"],p=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){p.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){p.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(h,u,v,l,f,d,m){var c=this;p.superCall(this,"renderInner",h,u,v,l,f,d,m);var g=this._controllerGroup,y=u.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),A("pagePrev",0);var _=u.getModel("pageTextStyle");g.add(new t.Text({name:"pageText",style:{textFill:_.getTextColor(),font:_.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),A("pageNext",1);function A(b,w){var x=b+"DataIndex",S=t.createIcon(u.get("pageIcons",!0)[u.getOrient().name][w],{onclick:e.bind(c._pageGo,c,x,u,l)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});S.name=b,g.add(S)}},layoutInner:function(h,u,v,l,f,d){var m=this.getSelectorGroup(),c=h.getOrient().index,g=o[c],y=s[c],_=o[1-c],A=s[1-c];f&&r.box("horizontal",m,h.get("selectorItemGap",!0));var b=h.get("selectorButtonGap",!0),w=m.getBoundingRect(),x=[-w.x,-w.y],S=e.clone(v);f&&(S[g]=v[g]-w[g]-b);var T=this._layoutContentAndController(h,l,S,c,g,_,A);if(f){if(d==="end")x[c]+=T[g]+b;else{var C=w[g]+b;x[c]-=C,T[y]-=C}T[g]+=w[g]+b,x[1-c]+=T[A]+T[_]/2-w[_]/2,T[_]=Math.max(T[_],w[_]),T[A]=Math.min(T[A],w[A]+x[1-c]),m.attr("position",x)}return T},_layoutContentAndController:function(h,u,v,l,f,d,m){var c=this.getContentGroup(),g=this._containerGroup,y=this._controllerGroup;r.box(h.get("orient"),c,h.get("itemGap"),l?v.width:null,l?null:v.height),r.box("horizontal",y,h.get("pageButtonItemGap",!0));var _=c.getBoundingRect(),A=y.getBoundingRect(),b=this._showController=_[f]>v[f],w=[-_.x,-_.y];u||(w[l]=c.position[l]);var x=[0,0],S=[-A.x,-A.y],T=e.retrieve2(h.get("pageButtonGap",!0),h.get("itemGap",!0));if(b){var C=h.get("pageButtonPosition",!0);C==="end"?S[l]+=v[f]-A[f]:x[l]+=A[f]+T}S[1-l]+=_[d]/2-A[d]/2,c.attr("position",w),g.attr("position",x),y.attr("position",S);var M={x:0,y:0};if(M[f]=b?v[f]:_[f],M[d]=Math.max(_[d],A[d]),M[m]=Math.min(0,A[m]+S[1-l]),g.__rectSize=v[f],b){var D={x:0,y:0};D[f]=Math.max(v[f]-A[f]-T,0),D[d]=M[d],g.setClipPath(new t.Rect({shape:D})),g.__rectSize=D[f]}else y.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(h);return L.pageIndex!=null&&t.updateProps(c,{position:L.contentPosition},b?h:!1),this._updatePageInfoView(h,L),M},_pageGo:function(h,u,v){var l=this._getPageInfo(u)[h];l!=null&&v.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:u.id})},_updatePageInfoView:function(h,u){var v=this._controllerGroup;e.each(["pagePrev","pageNext"],function(g){var y=u[g+"DataIndex"]!=null,_=v.childOfName(g);_&&(_.setStyle("fill",y?h.get("pageIconColor",!0):h.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var l=v.childOfName("pageText"),f=h.get("pageFormatter"),d=u.pageIndex,m=d!=null?d+1:0,c=u.pageCount;l&&f&&l.setStyle("text",e.isString(f)?f.replace("{current}",m).replace("{total}",c):f({current:m,total:c}))},_getPageInfo:function(h){var u=h.get("scrollDataIndex",!0),v=this.getContentGroup(),l=this._containerGroup.__rectSize,f=h.getOrient().index,d=o[f],m=s[f],c=this._findTargetItemIndex(u),g=v.children(),y=g[c],_=g.length,A=_?1:0,b={contentPosition:v.position.slice(),pageCount:A,pageIndex:A-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return b;var w=M(y);b.contentPosition[f]=-w.s;for(var x=c+1,S=w,T=w,C=null;x<=_;++x)C=M(g[x]),(!C&&T.e>S.s+l||C&&!D(C,S.s))&&(T.i>S.i?S=T:S=C,S&&(b.pageNextDataIndex==null&&(b.pageNextDataIndex=S.i),++b.pageCount)),T=C;for(var x=c-1,S=w,T=w,C=null;x>=-1;--x)C=M(g[x]),(!C||!D(T,C.s))&&S.i<T.i&&(T=S,b.pagePrevDataIndex==null&&(b.pagePrevDataIndex=S.i),++b.pageCount,++b.pageIndex),S=C;return b;function M(L){if(L){var I=L.getBoundingRect(),P=I[m]+L.position[f];return{s:P,e:P+I[d],i:L.__legendDataIndex}}}function D(L,I){return L.e>=I&&L.s<=I+l}},_findTargetItemIndex:function(h){if(!this._showController)return 0;var u,v=this.getContentGroup(),l;return v.eachChild(function(f,d){var m=f.__legendDataIndex;l==null&&m!=null&&(l=d),m===h&&(u=d)}),u??l}}),n=p;return Jc=n,Jc}var Mw={},Dw;function fG(){if(Dw)return Mw;Dw=1;var e=ye;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),Mw}var Lw;function dG(){return Lw||(Lw=1,sD(),hG(),cG(),fG()),mw}var Iw={},Pw={},ef,Rw;function gG(){if(Rw)return ef;Rw=1;var e=Ci(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return ef=r,ef}var tf,Ew;function pG(){if(Ew)return tf;Ew=1;var e=W,t=ht,r=fe,a=vr,i=Mi(),o=Re(),s=ze,p=Ti(),n=r.Rect,h=o.linearMap,u=o.asc,v=e.bind,l=e.each,f=7,d=1,m=30,c="horizontal",g="vertical",y=5,_=["line","bar","candlestick","scatter"],A=i.extend({type:"dataZoom.slider",init:function(S,T){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=T},render:function(S,T,C,M){if(A.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=S.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!M||M.type!=="dataZoom"||M.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){A.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var S=this.group;S.removeAll(),this._resetLocation(),this._resetInterval();var T=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),S.add(T),this._positionGroup()},_resetLocation:function(){var S=this.dataZoomModel,T=this.api,C=this._findCoordRect(),M={width:T.getWidth(),height:T.getHeight()},D=this._orient===c?{right:M.width-C.x-C.width,top:M.height-m-f,width:C.width,height:m}:{right:f,top:C.y,width:m,height:C.height},L=s.getLayoutParams(S.option);e.each(["right","top","width","height"],function(P){L[P]==="ph"&&(L[P]=D[P])});var I=s.getLayoutRect(L,M,S.padding);this._location={x:I.x,y:I.y},this._size=[I.width,I.height],this._orient===g&&this._size.reverse()},_positionGroup:function(){var S=this.group,T=this._location,C=this._orient,M=this.dataZoomModel.getFirstTargetAxisModel(),D=M&&M.get("inverse"),L=this._displayables.barGroup,I=(this._dataShadowInfo||{}).otherAxisInverse;L.attr(C===c&&!D?{scale:I?[1,1]:[1,-1]}:C===c&&D?{scale:I?[-1,1]:[-1,-1]}:C===g&&!D?{scale:I?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:I?[-1,-1]:[-1,1],rotation:Math.PI/2});var P=S.getBoundingRect([L]);S.attr("position",[T.x-P.x,T.y-P.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var S=this.dataZoomModel,T=this._size,C=this._displayables.barGroup;C.add(new n({silent:!0,shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:S.get("backgroundColor")},z2:-40})),C.add(new n({shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var S=this._dataShadowInfo=this._prepareDataShadowInfo();if(S){var T=this._size,C=S.series,M=C.getRawData(),D=C.getShadowDim?C.getShadowDim():S.otherDim;if(D!=null){var L=M.getDataExtent(D),I=(L[1]-L[0])*.3;L=[L[0]-I,L[1]+I];var P=[0,T[1]],E=[0,T[0]],O=[[T[0],0],[0,0]],B=[],q=E[1]/(M.count()-1),V=0,R=Math.round(M.count()/T[0]),z;M.each([D],function(N,G){if(R>0&&G%R){V+=q;return}var H=N==null||isNaN(N)||N==="",F=H?0:h(N,L,P,!0);H&&!z&&G?(O.push([O[O.length-1][0],0]),B.push([B[B.length-1][0],0])):!H&&z&&(O.push([V,0]),B.push([V,0])),O.push([V,F]),B.push([V,F]),V+=q,z=H});var k=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:O},style:e.defaults({fill:k.get("dataBackgroundColor")},k.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:B},style:k.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var S=this.dataZoomModel,T=S.get("showDataShadow");if(T!==!1){var C,M=this.ecModel;return S.eachTargetAxis(function(D,L){var I=S.getAxisProxy(D.name,L).getTargetSeriesModels();e.each(I,function(P){if(!C&&!(T!==!0&&e.indexOf(_,P.get("type"))<0)){var E=M.getComponent(D.axis,L).axis,O=b(D.name),B,q=P.coordinateSystem;O!=null&&q.getOtherAxis&&(B=q.getOtherAxis(E).inverse),O=P.getData().mapDimension(O),C={thisAxis:E,series:P,thisDim:D.name,otherDim:O,otherAxisInverse:B}}},this)},this),C}},_renderHandle:function(){var S=this._displayables,T=S.handles=[],C=S.handleLabels=[],M=this._displayables.barGroup,D=this._size,L=this.dataZoomModel;M.add(S.filler=new n({draggable:!0,cursor:w(this._orient),drift:v(this._onDragMove,this,"all"),ondragstart:v(this._showDataInfo,this,!0),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1),style:{fill:L.get("fillerColor"),textPosition:"inside"}})),M.add(new n({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:D[0],height:D[1]},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:d,fill:"rgba(0,0,0,0)"}})),l([0,1],function(I){var P=r.createIcon(L.get("handleIcon"),{cursor:w(this._orient),draggable:!0,drift:v(this._onDragMove,this,I),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),E=P.getBoundingRect();this._handleHeight=o.parsePercent(L.get("handleSize"),this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,P.setStyle(L.getModel("handleStyle").getItemStyle());var O=L.get("handleColor");O!=null&&(P.style.fill=O),M.add(T[I]=P);var B=L.textStyleModel;this.group.add(C[I]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:B.getTextColor(),textFont:B.getFont()},z2:10}))},this)},_resetInterval:function(){var S=this._range=this.dataZoomModel.getPercentRange(),T=this._getViewExtent();this._handleEnds=[h(S[0],[0,100],T,!0),h(S[1],[0,100],T,!0)]},_updateInterval:function(S,T){var C=this.dataZoomModel,M=this._handleEnds,D=this._getViewExtent(),L=C.findRepresentativeAxisProxy().getMinMaxSpan(),I=[0,100];p(T,M,D,C.get("zoomLock")?"all":S,L.minSpan!=null?h(L.minSpan,I,D,!0):null,L.maxSpan!=null?h(L.maxSpan,I,D,!0):null);var P=this._range,E=this._range=u([h(M[0],D,I,!0),h(M[1],D,I,!0)]);return!P||P[0]!==E[0]||P[1]!==E[1]},_updateView:function(S){var T=this._displayables,C=this._handleEnds,M=u(C.slice()),D=this._size;l([0,1],function(L){var I=T.handles[L],P=this._handleHeight;I.attr({scale:[P/2,P/2],position:[C[L],D[1]/2-P/2]})},this),T.filler.setShape({x:M[0],y:0,width:M[1]-M[0],height:D[1]}),this._updateDataInfo(S)},_updateDataInfo:function(S){var T=this.dataZoomModel,C=this._displayables,M=C.handleLabels,D=this._orient,L=["",""];if(T.get("showDetail")){var I=T.findRepresentativeAxisProxy();if(I){var P=I.getAxisModel().axis,E=this._range,O=S?I.calculateDataWindow({start:E[0],end:E[1]}).valueWindow:I.getDataValueWindow();L=[this._formatLabel(O[0],P),this._formatLabel(O[1],P)]}}var B=u(this._handleEnds.slice());q.call(this,0),q.call(this,1);function q(V){var R=r.getTransform(C.handles[V].parent,this.group),z=r.transformDirection(V===0?"right":"left",R),k=this._handleWidth/2+y,N=r.applyTransform([B[V]+(V===0?-k:k),this._size[1]/2],R);M[V].setStyle({x:N[0],y:N[1],textVerticalAlign:D===c?"middle":z,textAlign:D===c?z:"center",text:L[V]})}},_formatLabel:function(S,T){var C=this.dataZoomModel,M=C.get("labelFormatter"),D=C.get("labelPrecision");(D==null||D==="auto")&&(D=T.getPixelPrecision());var L=S==null||isNaN(S)?"":T.type==="category"||T.type==="time"?T.scale.getLabel(Math.round(S)):S.toFixed(Math.min(D,20));return e.isFunction(M)?M(S,L):e.isString(M)?M.replace("{value}",L):L},_showDataInfo:function(S){S=this._dragging||S;var T=this._displayables.handleLabels;T[0].attr("invisible",!S),T[1].attr("invisible",!S)},_onDragMove:function(S,T,C,M){this._dragging=!0,t.stop(M.event);var D=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([T,C],D,!0),I=this._updateInterval(S,L[0]),P=this.dataZoomModel.get("realtime");this._updateView(!P),I&&P&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var S=this.dataZoomModel.get("realtime");!S&&this._dispatchZoomAction()},_onClickPanelClick:function(S){var T=this._size,C=this._displayables.barGroup.transformCoordToLocal(S.offsetX,S.offsetY);if(!(C[0]<0||C[0]>T[0]||C[1]<0||C[1]>T[1])){var M=this._handleEnds,D=(M[0]+M[1])/2,L=this._updateInterval("all",C[0]-D);this._updateView(),L&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var S=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:S[0],end:S[1]})},_findCoordRect:function(){var S;if(l(this.getTargetCoordInfo(),function(M){if(!S&&M.length){var D=M[0].model.coordinateSystem;S=D.getRect&&D.getRect()}}),!S){var T=this.api.getWidth(),C=this.api.getHeight();S={x:T*.2,y:C*.2,width:T*.6,height:C*.6}}return S}});function b(S){var T={x:"y",y:"x",radius:"angle",angle:"radius"};return T[S]}function w(S){return S==="vertical"?"ns-resize":"ew-resize"}var x=A;return tf=x,tf}var kw;function lD(){return kw||(kw=1,Tg(),Ci(),Mi(),gG(),pG(),Mg(),Dg()),Pw}var Ow={},rf,zw;function mG(){if(zw)return rf;zw=1;var e=Ci(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return rf=t,rf}var Wi={},Bw;function yG(){if(Bw)return Wi;Bw=1;var e=W,t=Nn(),r=vr,a="\0_ec_dataZoom_roams";function i(l,f){var d=p(l),m=f.dataZoomId,c=f.coordId;e.each(d,function(_,A){var b=_.dataZoomInfos;b[m]&&e.indexOf(f.allCoordIds,c)<0&&(delete b[m],_.count--)}),h(d);var g=d[c];g||(g=d[c]={coordId:c,dataZoomInfos:{},count:0},g.controller=n(l,g),g.dispatchAction=e.curry(u,l)),!g.dataZoomInfos[m]&&g.count++,g.dataZoomInfos[m]=f;var y=v(g.dataZoomInfos);g.controller.enable(y.controlType,y.opt),g.controller.setPointerChecker(f.containsPoint),r.createOrUpdate(g,"dispatchAction",f.dataZoomModel.get("throttle",!0),"fixRate")}function o(l,f){var d=p(l);e.each(d,function(m){m.controller.dispose();var c=m.dataZoomInfos;c[f]&&(delete c[f],m.count--)}),h(d)}function s(l){return l.type+"\0_"+l.id}function p(l){var f=l.getZr();return f[a]||(f[a]={})}function n(l,f){var d=new t(l.getZr());return e.each(["pan","zoom","scrollMove"],function(m){d.on(m,function(c){var g=[];e.each(f.dataZoomInfos,function(y){if(c.isAvailableBehavior(y.dataZoomModel.option)){var _=(y.getRange||{})[m],A=_&&_(f.controller,c);!y.dataZoomModel.get("disabled",!0)&&A&&g.push({dataZoomId:y.dataZoomId,start:A[0],end:A[1]})}}),g.length&&f.dispatchAction(g)})}),d}function h(l){e.each(l,function(f,d){f.count||(f.controller.dispose(),delete l[d])})}function u(l,f){l.dispatchAction({type:"dataZoom",batch:f})}function v(l){var f,d="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0;return e.each(l,function(g){var y=g.dataZoomModel,_=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[d+_]>m[d+f]&&(f=_),c&=y.get("preventDefaultMouseMove",!0)}),{controlType:f,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}}}return Wi.register=i,Wi.unregister=o,Wi.generateCoordId=s,Wi}var af,Nw;function _G(){if(Nw)return af;Nw=1;var e=W,t=Mi(),r=Ti(),a=yG(),i=e.bind,o=t.extend({type:"dataZoom.inside",init:function(u,v){this._range},render:function(u,v,l,f){o.superApply(this,"render",arguments),this._range=u.getPercentRange(),e.each(this.getTargetCoordInfo(),function(d,m){var c=e.map(d,function(g){return a.generateCoordId(g.model)});e.each(d,function(g){var y=g.model,_={};e.each(["pan","zoom","scrollMove"],function(A){_[A]=i(s[A],this,g,m)},this),a.register(l,{coordId:a.generateCoordId(y),allCoordIds:c,containsPoint:function(A,b,w){return y.coordinateSystem.containPoint([b,w])},dataZoomId:u.id,dataZoomModel:u,getRange:_})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),o.superApply(this,"dispose",arguments),this._range=null}}),s={zoom:function(u,v,l,f){var d=this._range,m=d.slice(),c=u.axisModels[0];if(c){var g=n[v](null,[f.originX,f.originY],c,l,u),y=(g.signal>0?g.pixelStart+g.pixelLength-g.pixel:g.pixel-g.pixelStart)/g.pixelLength*(m[1]-m[0])+m[0],_=Math.max(1/f.scale,0);m[0]=(m[0]-y)*_+y,m[1]=(m[1]-y)*_+y;var A=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,m,[0,100],0,A.minSpan,A.maxSpan),this._range=m,d[0]!==m[0]||d[1]!==m[1])return m}},pan:p(function(u,v,l,f,d,m){var c=n[f]([m.oldX,m.oldY],[m.newX,m.newY],v,d,l);return c.signal*(u[1]-u[0])*c.pixel/c.pixelLength}),scrollMove:p(function(u,v,l,f,d,m){var c=n[f]([0,0],[m.scrollDelta,m.scrollDelta],v,d,l);return c.signal*(u[1]-u[0])*m.scrollDelta})};function p(u){return function(v,l,f,d){var m=this._range,c=m.slice(),g=v.axisModels[0];if(g){var y=u(c,g,v,l,f,d);if(r(y,c,[0,100],"all"),this._range=c,m[0]!==c[0]||m[1]!==c[1])return c}}}var n={grid:function(u,v,l,f,d){var m=l.axis,c={},g=d.model.coordinateSystem.getRect();return u=u||[0,0],m.dim==="x"?(c.pixel=v[0]-u[0],c.pixelLength=g.width,c.pixelStart=g.x,c.signal=m.inverse?1:-1):(c.pixel=v[1]-u[1],c.pixelLength=g.height,c.pixelStart=g.y,c.signal=m.inverse?-1:1),c},polar:function(u,v,l,f,d){var m=l.axis,c={},g=d.model.coordinateSystem,y=g.getRadiusAxis().getExtent(),_=g.getAngleAxis().getExtent();return u=u?g.pointToCoord(u):[0,0],v=g.pointToCoord(v),l.mainType==="radiusAxis"?(c.pixel=v[0]-u[0],c.pixelLength=y[1]-y[0],c.pixelStart=y[0],c.signal=m.inverse?1:-1):(c.pixel=v[1]-u[1],c.pixelLength=_[1]-_[0],c.pixelStart=_[0],c.signal=m.inverse?-1:1),c},singleAxis:function(u,v,l,f,d){var m=l.axis,c=d.model.coordinateSystem.getRect(),g={};return u=u||[0,0],m.orient==="horizontal"?(g.pixel=v[0]-u[0],g.pixelLength=c.width,g.pixelStart=c.x,g.signal=m.inverse?1:-1):(g.pixel=v[1]-u[1],g.pixelLength=c.height,g.pixelStart=c.y,g.signal=m.inverse?-1:1),g}},h=o;return af=h,af}var Vw;function uD(){return Vw||(Vw=1,Tg(),Ci(),Mi(),mG(),_G(),Mg(),Dg()),Ow}var Hw;function xG(){return Hw||(Hw=1,lD(),uD()),Iw}var qw={},Gw={},nf,Fw;function vD(){if(Fw)return nf;Fw=1;var e=W,t=e.each;function r(i){var o=i&&i.visualMap;e.isArray(o)||(o=o?[o]:[]),t(o,function(s){if(s){a(s,"splitList")&&!a(s,"pieces")&&(s.pieces=s.splitList,delete s.splitList);var p=s.pieces;p&&e.isArray(p)&&t(p,function(n){e.isObject(n)&&(a(n,"start")&&!a(n,"min")&&(n.min=n.start),a(n,"end")&&!a(n,"max")&&(n.max=n.end))})}})}function a(i,o){return i&&i.hasOwnProperty&&i.hasOwnProperty(o)}return nf=r,nf}var $w={},Uw;function hD(){if(Uw)return $w;Uw=1;var e=ct;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),$w}var Ww={},Zw;function cD(){if(Zw)return Ww;Zw=1;var e=ye,t=W,r=Ls(),a=Ea(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(s,p){var n=[];return p.eachComponent("visualMap",function(h){var u=s.pipelineContext;!h.isTargetSeries(s)||u&&u.large||n.push(r.incrementalApplyVisual(h.stateList,h.targetVisuals,t.bind(h.getValueState,h),h.getDataDimension(s.getData())))}),n}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(s,p){var n=s.getData(),h=[];p.eachComponent("visualMap",function(u){if(u.isTargetSeries(s)){var v=u.getVisualMeta(t.bind(o,null,s,u))||{stops:[],outerColors:[]},l=u.getDataDimension(n),f=n.getDimensionInfo(l);f!=null&&(v.dimension=f.index,h.push(v))}}),s.getData().setVisual("visualMeta",h)}});function o(s,p,n,h){for(var u=p.targetVisuals[h],v=a.prepareVisualTypes(u),l={color:s.getData().getVisual("color")},f=0,d=v.length;f<d;f++){var m=v[f],c=u[m==="opacity"?"__alphaForOpacity":m];c&&c.applyVisual(n,g,y)}return l.color;function g(_){return l[_]}function y(_,A){l[_]=A}}return Ww}var of,Yw;function fD(){if(Yw)return of;Yw=1;var e=W,t={get:function(i,o,s){var p=e.clone((r[i]||{})[o]);return s&&e.isArray(p)?p[p.length-1]:p}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return of=a,of}var sf,Xw;function dD(){if(Xw)return sf;Xw=1;var e=ye,t=W,r=nt,a=fD(),i=Ea(),o=Ls(),s=Ie,p=Re(),n=i.mapVisual,h=i.eachVisual,u=t.isArray,v=t.each,l=p.asc,f=p.linearMap,d=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(g,y,_){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(g,_)},optionUpdated:function(g,y){var _=this.option;r.canvasSupported||(_.realtime=!1),!y&&o.replaceVisualOption(_,g,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(g){var y=this.stateList;g=t.bind(g,this),this.controllerVisuals=o.createVisualMappings(this.option.controller,y,g),this.targetVisuals=o.createVisualMappings(this.option.target,y,g)},getTargetSeriesIndices:function(){var g=this.option.seriesIndex,y=[];return g==null||g==="all"?this.ecModel.eachSeries(function(_,A){y.push(A)}):y=s.normalizeToArray(g),y},eachTargetSeries:function(g,y){t.each(this.getTargetSeriesIndices(),function(_){g.call(y,this.ecModel.getSeriesByIndex(_))},this)},isTargetSeries:function(g){var y=!1;return this.eachTargetSeries(function(_){_===g&&(y=!0)}),y},formatValueText:function(g,y,_){var A=this.option,b=A.precision,w=this.dataBound,x=A.formatter,S,T;if(_=_||["<",">"],t.isArray(g)&&(g=g.slice(),S=!0),T=y?g:S?[C(g[0]),C(g[1])]:C(g),t.isString(x))return x.replace("{value}",S?T[0]:T).replace("{value2}",S?T[1]:T);if(t.isFunction(x))return S?x(g[0],g[1]):x(g);if(S)return g[0]===w[0]?_[0]+" "+T[1]:g[1]===w[1]?_[1]+" "+T[0]:T[0]+" - "+T[1];return T;function C(M){return M===w[0]?"min":M===w[1]?"max":(+M).toFixed(Math.min(b,20))}},resetExtent:function(){var g=this.option,y=l([g.min,g.max]);this._dataExtent=y},getDataDimension:function(g){var y=this.option.dimension,_=g.dimensions;if(!(y==null&&!_.length)){if(y!=null)return g.getDimension(y);for(var A=g.dimensions,b=A.length-1;b>=0;b--){var w=A[b],x=g.getDimensionInfo(w);if(!x.isCalculationCoord)return w}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var g=this.ecModel,y=this.option,_={inRange:y.inRange,outOfRange:y.outOfRange},A=y.target||(y.target={}),b=y.controller||(y.controller={});t.merge(A,_),t.merge(b,_);var w=this.isCategory();x.call(this,A),x.call(this,b),S.call(this,A,"inRange","outOfRange"),T.call(this,b);function x(C){u(y.color)&&!C.inRange&&(C.inRange={color:y.color.slice().reverse()}),C.inRange=C.inRange||{color:g.get("gradientColor")},v(this.stateList,function(M){var D=C[M];if(t.isString(D)){var L=a.get(D,"active",w);L?(C[M]={},C[M][D]=L):delete C[M]}},this)}function S(C,M,D){var L=C[M],I=C[D];L&&!I&&(I=C[D]={},v(L,function(P,E){if(i.isValidType(E)){var O=a.get(E,"inactive",w);O!=null&&(I[E]=O,E==="color"&&!I.hasOwnProperty("opacity")&&!I.hasOwnProperty("colorAlpha")&&(I.opacity=[0,0]))}}))}function T(C){var M=(C.inRange||{}).symbol||(C.outOfRange||{}).symbol,D=(C.inRange||{}).symbolSize||(C.outOfRange||{}).symbolSize,L=this.get("inactiveColor");v(this.stateList,function(I){var P=this.itemSize,E=C[I];E||(E=C[I]={color:w?L:[L]}),E.symbol==null&&(E.symbol=M&&t.clone(M)||(w?"roundRect":["roundRect"])),E.symbolSize==null&&(E.symbolSize=D&&t.clone(D)||(w?P[0]:[P[0],P[0]])),E.symbol=n(E.symbol,function(q){return q==="none"||q==="square"?"roundRect":q});var O=E.symbolSize;if(O!=null){var B=-1/0;h(O,function(q){q>B&&(B=q)}),E.symbolSize=n(O,function(q){return f(q,[0,B],[0,P[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:d,getValueState:d,getVisualMeta:d}),c=m;return sf=c,sf}var lf,Kw;function SG(){if(Kw)return lf;Kw=1;var e=W,t=dD(),r=Re(),a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(p,n){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(h){h.mappingMethod="linear",h.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var p=this.itemSize;this._orient==="horizontal"&&p.reverse(),(p[0]==null||isNaN(p[0]))&&(p[0]=a[0]),(p[1]==null||isNaN(p[1]))&&(p[1]=a[1])},_resetRange:function(){var p=this.getExtent(),n=this.option.range;!n||n.auto?(p.auto=1,this.option.range=p):e.isArray(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],p[0]),n[1]=Math.min(n[1],p[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(p){var n=this.option.controller[p].symbolSize;n&&n[0]!==n[1]&&(n[0]=0)},this)},setSelected:function(p){this.option.range=p.slice(),this._resetRange()},getSelected:function(){var p=this.getExtent(),n=r.asc((this.get("range")||[]).slice());return n[0]>p[1]&&(n[0]=p[1]),n[1]>p[1]&&(n[1]=p[1]),n[0]<p[0]&&(n[0]=p[0]),n[1]<p[0]&&(n[1]=p[0]),n},getValueState:function(p){var n=this.option.range,h=this.getExtent();return(n[0]<=h[0]||n[0]<=p)&&(n[1]>=h[1]||p<=n[1])?"inRange":"outOfRange"},findTargetDataIndices:function(p){var n=[];return this.eachTargetSeries(function(h){var u=[],v=h.getData();v.each(this.getDataDimension(v),function(l,f){p[0]<=l&&l<=p[1]&&u.push(f)},this),n.push({seriesId:h.id,dataIndex:u})},this),n},getVisualMeta:function(p){var n=o(this,"outOfRange",this.getExtent()),h=o(this,"inRange",this.option.range.slice()),u=[];function v(y,_){u.push({value:y,color:p(y,_)})}for(var l=0,f=0,d=h.length,m=n.length;f<m&&(!h.length||n[f]<=h[0]);f++)n[f]<h[l]&&v(n[f],"outOfRange");for(var c=1;l<d;l++,c=0)c&&u.length&&v(h[l],"outOfRange"),v(h[l],"inRange");for(var c=1;f<m;f++)(!h.length||h[h.length-1]<n[f])&&(c&&(u.length&&v(u[u.length-1].value,"outOfRange"),c=0),v(n[f],"outOfRange"));var g=u.length;return{stops:u,outerColors:[g?u[0].color:"transparent",g?u[g-1].color:"transparent"]}}});function o(p,n,h){if(h[0]===h[1])return h.slice();for(var u=200,v=(h[1]-h[0])/u,l=h[0],f=[],d=0;d<=u&&l<h[1];d++)f.push(l),l+=v;return f.push(h[1]),f}var s=i;return lf=s,lf}var uf,Qw;function gD(){if(Qw)return uf;Qw=1;var e=ye,t=W,r=fe,a=Ge(),i=ze,o=Ea(),s=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(p,n){this.ecModel=p,this.api=n,this.visualMapModel},render:function(p,n,h,u){if(this.visualMapModel=p,p.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(p){var n=this.visualMapModel,h=a.normalizeCssArray(n.get("padding")||0),u=p.getBoundingRect();p.add(new r.Rect({z2:-1,silent:!0,shape:{x:u.x-h[3],y:u.y-h[0],width:u.width+h[3]+h[1],height:u.height+h[0]+h[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},getControllerVisual:function(p,n,h){h=h||{};var u=h.forceState,v=this.visualMapModel,l={};if(n==="symbol"&&(l.symbol=v.get("itemSymbol")),n==="color"){var f=v.get("contentColor");l.color=f}function d(y){return l[y]}function m(y,_){l[y]=_}var c=v.controllerVisuals[u||v.getValueState(p)],g=o.prepareVisualTypes(c);return t.each(g,function(y){var _=c[y];h.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",_=c.__alphaForOpacity),o.dependsOn(y,n)&&_&&_.applyVisual(p,d,m)}),l[n]},positionGroup:function(p){var n=this.visualMapModel,h=this.api;i.positionElement(p,n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})},doRender:t.noop});return uf=s,uf}var wo={},jw;function pD(){if(jw)return wo;jw=1;var e=W,t=ze,r=t.getLayoutRect;function a(o,s,p){var n=o.option,h=n.align;if(h!=null&&h!=="auto")return h;for(var u={width:s.getWidth(),height:s.getHeight()},v=n.orient==="horizontal"?1:0,l=[["left","right","width"],["top","bottom","height"]],f=l[v],d=[0,null,10],m={},c=0;c<3;c++)m[l[1-v][c]]=d[c],m[f[c]]=c===2?p[0]:n[f[c]];var g=[["x","width",3],["y","height",0]][v],y=r(m,u,n.padding);return f[(y.margin[g[2]]||0)+y[g[0]]+y[g[1]]*.5<u[g[1]]*.5?0:1]}function i(o,s){return e.each(o||[],function(p){p.dataIndex!=null&&(p.dataIndexInside=p.dataIndex,p.dataIndex=null),p.highlightKey="visualMap"+(s?s.componentIndex:"")}),o}return wo.getItemAlign=a,wo.makeHighDownBatch=i,wo}var vf,Jw;function bG(){if(Jw)return vf;Jw=1;var e=W,t=Gd,r=ht,a=gD(),i=fe,o=Re(),s=Ti(),p=pD(),n=Ie,h=o.linearMap,u=e.each,v=Math.min,l=Math.max,f=12,d=6,m=a.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(x,S,T,C){(!C||C.type!=="selectDataRange"||C.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var x=this.visualMapModel,S=this.group;this._orient=x.get("orient"),this._useHandle=x.get("calculable"),this._resetInterval(),this._renderBar(S);var T=x.get("text");this._renderEndsText(S,T,0),this._renderEndsText(S,T,1),this._updateView(!0),this.renderBackground(S),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(S)},_renderEndsText:function(x,S,T){if(S){var C=S[1-T];C=C!=null?C+"":"";var M=this.visualMapModel,D=M.get("textGap"),L=M.itemSize,I=this._shapes.barGroup,P=this._applyTransform([L[0]/2,T===0?-D:L[1]+D],I),E=this._applyTransform(T===0?"bottom":"top",I),O=this._orient,B=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:P[0],y:P[1],textVerticalAlign:O==="horizontal"?"middle":E,textAlign:O==="horizontal"?E:"center",text:C,textFont:B.getFont(),textFill:B.getTextColor()}}))}},_renderBar:function(x){var S=this.visualMapModel,T=this._shapes,C=S.itemSize,M=this._orient,D=this._useHandle,L=p.getItemAlign(S,this.api,C),I=T.barGroup=this._createBarGroup(L);I.add(T.outOfRange=c()),I.add(T.inRange=c(null,D?b(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var P=S.textStyleModel.getTextRect("国"),E=l(P.width,P.height);D&&(T.handleThumbs=[],T.handleLabels=[],T.handleLabelPoints=[],this._createHandle(I,0,C,E,M,L),this._createHandle(I,1,C,E,M,L)),this._createIndicator(I,C,E,M),x.add(I)},_createHandle:function(x,S,T,C,M){var D=e.bind(this._dragHandle,this,S,!1),L=e.bind(this._dragHandle,this,S,!0),I=c(g(S,C),b(this._orient),D,L);I.position[0]=T[0],x.add(I);var P=this.visualMapModel.textStyleModel,E=new i.Text({draggable:!0,drift:D,onmousemove:function(q){r.stop(q.event)},ondragend:L,style:{x:0,y:0,text:"",textFont:P.getFont(),textFill:P.getTextColor()}});this.group.add(E);var O=[M==="horizontal"?C/2:C*1.5,M==="horizontal"?S===0?-(C*1.5):C*1.5:S===0?-C/2:C/2],B=this._shapes;B.handleThumbs[S]=I,B.handleLabelPoints[S]=O,B.handleLabels[S]=E},_createIndicator:function(x,S,T,C){var M=c([[0,0]],"move");M.position[0]=S[0],M.attr({invisible:!0,silent:!0}),x.add(M);var D=this.visualMapModel.textStyleModel,L=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:D.getFont(),textFill:D.getTextColor()}});this.group.add(L);var I=[C==="horizontal"?T/2:d+3,0],P=this._shapes;P.indicator=M,P.indicatorLabel=L,P.indicatorLabelPoint=I},_dragHandle:function(x,S,T,C){if(this._useHandle){if(this._dragging=!S,!S){var M=this._applyTransform([T,C],this._shapes.barGroup,!0);this._updateInterval(x,M[1]),this._updateView()}S===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),S?!this._hovering&&this._clearHoverLinkToSeries():A(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[x],!1)}},_resetInterval:function(){var x=this.visualMapModel,S=this._dataInterval=x.getSelected(),T=x.getExtent(),C=[0,x.itemSize[1]];this._handleEnds=[h(S[0],T,C,!0),h(S[1],T,C,!0)]},_updateInterval:function(x,S){S=S||0;var T=this.visualMapModel,C=this._handleEnds,M=[0,T.itemSize[1]];s(S,C,M,x,0);var D=T.getExtent();this._dataInterval=[h(C[0],M,D,!0),h(C[1],M,D,!0)]},_updateView:function(x){var S=this.visualMapModel,T=S.getExtent(),C=this._shapes,M=[0,S.itemSize[1]],D=x?M:this._handleEnds,L=this._createBarVisual(this._dataInterval,T,D,"inRange"),I=this._createBarVisual(T,T,M,"outOfRange");C.inRange.setStyle({fill:L.barColor,opacity:L.opacity}).setShape("points",L.barPoints),C.outOfRange.setStyle({fill:I.barColor,opacity:I.opacity}).setShape("points",I.barPoints),this._updateHandle(D,L)},_createBarVisual:function(x,S,T,C){var M={forceState:C,convertOpacityToAlpha:!0},D=this._makeColorGradient(x,M),L=[this.getControllerVisual(x[0],"symbolSize",M),this.getControllerVisual(x[1],"symbolSize",M)],I=this._createBarPoints(T,L);return{barColor:new t(0,0,0,1,D),barPoints:I,handlesColor:[D[0].color,D[D.length-1].color]}},_makeColorGradient:function(x,S){var T=100,C=[],M=(x[1]-x[0])/T;C.push({color:this.getControllerVisual(x[0],"color",S),offset:0});for(var D=1;D<T;D++){var L=x[0]+M*D;if(L>x[1])break;C.push({color:this.getControllerVisual(L,"color",S),offset:D/T})}return C.push({color:this.getControllerVisual(x[1],"color",S),offset:1}),C},_createBarPoints:function(x,S){var T=this.visualMapModel.itemSize;return[[T[0]-S[0],x[0]],[T[0],x[0]],[T[0],x[1]],[T[0]-S[1],x[1]]]},_createBarGroup:function(x){var S=this._orient,T=this.visualMapModel.get("inverse");return new i.Group(S==="horizontal"&&!T?{scale:x==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:S==="horizontal"&&T?{scale:x==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:S==="vertical"&&!T?{scale:x==="left"?[1,-1]:[-1,-1]}:{scale:x==="left"?[1,1]:[-1,1]})},_updateHandle:function(x,S){if(this._useHandle){var T=this._shapes,C=this.visualMapModel,M=T.handleThumbs,D=T.handleLabels;u([0,1],function(L){var I=M[L];I.setStyle("fill",S.handlesColor[L]),I.position[1]=x[L];var P=i.applyTransform(T.handleLabelPoints[L],i.getTransform(I,this.group));D[L].setStyle({x:P[0],y:P[1],text:C.formatValueText(this._dataInterval[L]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?L===0?"bottom":"top":"left",T.barGroup)})},this)}},_showIndicator:function(x,S,T,C){var M=this.visualMapModel,D=M.getExtent(),L=M.itemSize,I=[0,L[1]],P=h(x,D,I,!0),E=this._shapes,O=E.indicator;if(O){O.position[1]=P,O.attr("invisible",!1),O.setShape("points",y(!!T,C,P,L[1]));var B={convertOpacityToAlpha:!0},q=this.getControllerVisual(x,"color",B);O.setStyle("fill",q);var V=i.applyTransform(E.indicatorLabelPoint,i.getTransform(O,this.group)),R=E.indicatorLabel;R.attr("invisible",!1);var z=this._applyTransform("left",E.barGroup),k=this._orient;R.setStyle({text:(T||"")+M.formatValueText(S),textVerticalAlign:k==="horizontal"?z:"middle",textAlign:k==="horizontal"?"center":z,x:V[0],y:V[1]})}},_enableHoverLinkToSeries:function(){var x=this;this._shapes.barGroup.on("mousemove",function(S){if(x._hovering=!0,!x._dragging){var T=x.visualMapModel.itemSize,C=x._applyTransform([S.offsetX,S.offsetY],x._shapes.barGroup,!0,!0);C[1]=v(l(0,C[1]),T[1]),x._doHoverLinkToSeries(C[1],0<=C[0]&&C[0]<=T[0])}}).on("mouseout",function(){x._hovering=!1,!x._dragging&&x._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var x=this.api.getZr();this.visualMapModel.option.hoverLink?(x.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),x.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(x,S){var T=this.visualMapModel,C=T.itemSize;if(T.option.hoverLink){var M=[0,C[1]],D=T.getExtent();x=v(l(M[0],x),M[1]);var L=_(T,D,M),I=[x-L,x+L],P=h(x,M,D,!0),E=[h(I[0],M,D,!0),h(I[1],M,D,!0)];I[0]<M[0]&&(E[0]=-1/0),I[1]>M[1]&&(E[1]=1/0),S&&(E[0]===-1/0?this._showIndicator(P,E[1],"< ",L):E[1]===1/0?this._showIndicator(P,E[0],"> ",L):this._showIndicator(P,P,"≈ ",L));var O=this._hoverLinkDataIndices,B=[];(S||A(T))&&(B=this._hoverLinkDataIndices=T.findTargetDataIndices(E));var q=n.compressBatches(O,B);this._dispatchHighDown("downplay",p.makeHighDownBatch(q[0],T)),this._dispatchHighDown("highlight",p.makeHighDownBatch(q[1],T))}},_hoverLinkFromSeriesMouseOver:function(x){var S=x.target,T=this.visualMapModel;if(!(!S||S.dataIndex==null)){var C=this.ecModel.getSeriesByIndex(S.seriesIndex);if(T.isTargetSeries(C)){var M=C.getData(S.dataType),D=M.get(T.getDataDimension(M),S.dataIndex,!0);isNaN(D)||this._showIndicator(D,D)}}},_hideIndicator:function(){var x=this._shapes;x.indicator&&x.indicator.attr("invisible",!0),x.indicatorLabel&&x.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var x=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",p.makeHighDownBatch(x,this.visualMapModel)),x.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var x=this.api.getZr();x.off("mouseover",this._hoverLinkFromSeriesMouseOver),x.off("mouseout",this._hideIndicator)},_applyTransform:function(x,S,T,C){var M=i.getTransform(S,C?null:this.group);return i[e.isArray(x)?"applyTransform":"transformDirection"](x,M,T)},_dispatchHighDown:function(x,S){S&&S.length&&this.api.dispatchAction({type:x,batch:S})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function c(x,S,T,C){return new i.Polygon({shape:{points:x},draggable:!!T,cursor:S,drift:T,onmousemove:function(M){r.stop(M.event)},ondragend:C})}function g(x,S){return x===0?[[0,0],[S,0],[S,-S]]:[[0,0],[S,0],[S,S]]}function y(x,S,T,C){return x?[[0,-v(S,l(T,0))],[d,0],[0,v(S,l(C-T,0))]]:[[0,0],[5,-5],[5,5]]}function _(x,S,T){var C=f/2,M=x.get("hoverLinkDataSize");return M&&(C=h(M,S,T,!0)/2),C}function A(x){var S=x.get("hoverLinkOnHandle");return!!(S??x.get("realtime"))}function b(x){return x==="vertical"?"ns-resize":"ew-resize"}var w=m;return vf=w,vf}var eA={},tA;function mD(){if(tA)return eA;tA=1;var e=ye,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),eA}var rA;function yD(){if(rA)return Gw;rA=1;var e=ye,t=vD();return hD(),cD(),SG(),bG(),mD(),e.registerPreprocessor(t),Gw}var aA={},hf,iA;function wG(){if(iA)return hf;iA=1;var e=W,t=dD(),r=Ea(),a=fD(),i=Re(),o=i.reformIntervals,s=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(u,v){s.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var l=this._mode=this._determineMode();p[this._mode].call(this),this._resetSelected(u,v);var f=this.option.categories;this.resetVisual(function(d,m){l==="categories"?(d.mappingMethod="category",d.categories=e.clone(f)):(d.dataExtent=this.getExtent(),d.mappingMethod="piecewise",d.pieceList=e.map(this._pieceList,function(g){var g=e.clone(g);return m!=="inRange"&&(g.visual=null),g}))})},completeVisualOption:function(){var u=this.option,v={},l=r.listVisualTypes(),f=this.isCategory();e.each(u.pieces,function(m){e.each(l,function(c){m.hasOwnProperty(c)&&(v[c]=1)})}),e.each(v,function(m,c){var g=0;e.each(this.stateList,function(y){g|=d(u,y,c)||d(u.target,y,c)},this),!g&&e.each(this.stateList,function(y){(u[y]||(u[y]={}))[c]=a.get(c,y==="inRange"?"active":"inactive",f)})},this);function d(m,c,g){return m&&m[c]&&(e.isObject(m[c])?m[c].hasOwnProperty(g):m[c]===g)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(u,v){var l=this.option,f=this._pieceList,d=(v?l:u).selected||{};if(l.selected=d,e.each(f,function(c,g){var y=this.getSelectedMapKey(c);d.hasOwnProperty(y)||(d[y]=!0)},this),l.selectedMode==="single"){var m=!1;e.each(f,function(c,g){var y=this.getSelectedMapKey(c);d[y]&&(m?d[y]=!1:m=!0)},this)}},getSelectedMapKey:function(u){return this._mode==="categories"?u.value+"":u.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var u=this.option;return u.pieces&&u.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(u){this.option.selected=e.clone(u)},getValueState:function(u){var v=r.findPieceIndex(u,this._pieceList);return v!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[v])]?"inRange":"outOfRange"},findTargetDataIndices:function(u){var v=[];return this.eachTargetSeries(function(l){var f=[],d=l.getData();d.each(this.getDataDimension(d),function(m,c){var g=r.findPieceIndex(m,this._pieceList);g===u&&f.push(c)},this),v.push({seriesId:l.id,dataIndex:f})},this),v},getRepresentValue:function(u){var v;if(this.isCategory())v=u.value;else if(u.value!=null)v=u.value;else{var l=u.interval||[];v=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return v},getVisualMeta:function(u){if(this.isCategory())return;var v=[],l=[],f=this;function d(y,_){var A=f.getRepresentValue({interval:y});_||(_=f.getValueState(A));var b=u(A,_);y[0]===-1/0?l[0]=b:y[1]===1/0?l[1]=b:v.push({value:y[0],color:b},{value:y[1],color:b})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var c=m[0].interval[0];c!==-1/0&&m.unshift({interval:[-1/0,c]}),c=m[m.length-1].interval[1],c!==1/0&&m.push({interval:[c,1/0]})}var g=-1/0;return e.each(m,function(y){var _=y.interval;_&&(_[0]>g&&d([g,_[0]],"outOfRange"),d(_.slice()),g=_[1])},this),{stops:v,outerColors:l}}}),p={splitNumber:function(){var u=this.option,v=this._pieceList,l=Math.min(u.precision,20),f=this.getExtent(),d=u.splitNumber;d=Math.max(parseInt(d,10),1),u.splitNumber=d;for(var m=(f[1]-f[0])/d;+m.toFixed(l)!==m&&l<5;)l++;u.precision=l,m=+m.toFixed(l),u.minOpen&&v.push({interval:[-1/0,f[0]],close:[0,0]});for(var c=0,g=f[0];c<d;g+=m,c++){var y=c===d-1?f[1]:g+m;v.push({interval:[g,y],close:[1,1]})}u.maxOpen&&v.push({interval:[f[1],1/0],close:[0,0]}),o(v),e.each(v,function(_,A){_.index=A,_.text=this.formatValueText(_.interval)},this)},categories:function(){var u=this.option;e.each(u.categories,function(v){this._pieceList.push({text:this.formatValueText(v,!0),value:v})},this),n(u,this._pieceList)},pieces:function(){var u=this.option,v=this._pieceList;e.each(u.pieces,function(l,f){e.isObject(l)||(l={value:l});var d={text:"",index:f};if(l.label!=null&&(d.text=l.label),l.hasOwnProperty("value")){var m=d.value=l.value;d.interval=[m,m],d.close=[1,1]}else{for(var c=d.interval=[],g=d.close=[0,0],y=[1,0,1],_=[-1/0,1/0],A=[],b=0;b<2;b++){for(var w=[["gte","gt","min"],["lte","lt","max"]][b],x=0;x<3&&c[b]==null;x++)c[b]=l[w[x]],g[b]=y[x],A[b]=x===2;c[b]==null&&(c[b]=_[b])}A[0]&&c[1]===1/0&&(g[0]=0),A[1]&&c[0]===-1/0&&(g[1]=0),c[0]===c[1]&&g[0]&&g[1]&&(d.value=c[0])}d.visual=r.retrieveVisuals(l),v.push(d)},this),n(u,v),o(v),e.each(v,function(l){var f=l.close,d=[["<","≤"][f[1]],[">","≥"][f[0]]];l.text=l.text||this.formatValueText(l.value!=null?l.value:l.interval,!1,d)},this)}};function n(u,v){var l=u.inverse;(u.orient==="vertical"?!l:l)&&v.reverse()}var h=s;return hf=h,hf}var cf,nA;function AG(){if(nA)return cf;nA=1;var e=W,t=gD(),r=fe,a=Kt(),i=a.createSymbol,o=ze,s=pD(),p=t.extend({type:"visualMap.piecewise",doRender:function(){var h=this.group;h.removeAll();var u=this.visualMapModel,v=u.get("textGap"),l=u.textStyleModel,f=l.getFont(),d=l.getTextColor(),m=this._getItemAlign(),c=u.itemSize,g=this._getViewData(),y=g.endsText,_=e.retrieve(u.get("showLabel",!0),!y);y&&this._renderEndsText(h,y[0],c,_,m),e.each(g.viewPieceList,A,this),y&&this._renderEndsText(h,y[1],c,_,m),o.box(u.get("orient"),h,u.get("itemGap")),this.renderBackground(h),this.positionGroup(h);function A(b){var w=b.piece,x=new r.Group;x.onclick=e.bind(this._onItemClick,this,w),this._enableHoverLink(x,b.indexInModelPieceList);var S=u.getRepresentValue(w);if(this._createItemSymbol(x,S,[0,0,c[0],c[1]]),_){var T=this.visualMapModel.getValueState(S);x.add(new r.Text({style:{x:m==="right"?-v:c[0]+v,y:c[1]/2,text:w.text,textVerticalAlign:"middle",textAlign:m,textFont:f,textFill:d,opacity:T==="outOfRange"?.5:1}}))}h.add(x)}},_enableHoverLink:function(h,u){h.on("mouseover",e.bind(v,this,"highlight")).on("mouseout",e.bind(v,this,"downplay"));function v(l){var f=this.visualMapModel;f.option.hoverLink&&this.api.dispatchAction({type:l,batch:s.makeHighDownBatch(f.findTargetDataIndices(u),f)})}},_getItemAlign:function(){var h=this.visualMapModel,u=h.option;if(u.orient==="vertical")return s.getItemAlign(h,this.api,h.itemSize);var v=u.align;return(!v||v==="auto")&&(v="left"),v},_renderEndsText:function(h,u,v,l,f){if(u){var d=new r.Group,m=this.visualMapModel.textStyleModel;d.add(new r.Text({style:{x:l?f==="right"?v[0]:0:v[0]/2,y:v[1]/2,textVerticalAlign:"middle",textAlign:l?f:"center",text:u,textFont:m.getFont(),textFill:m.getTextColor()}})),h.add(d)}},_getViewData:function(){var h=this.visualMapModel,u=e.map(h.getPieceList(),function(d,m){return{piece:d,indexInModelPieceList:m}}),v=h.get("text"),l=h.get("orient"),f=h.get("inverse");return(l==="horizontal"?f:!f)?u.reverse():v&&(v=v.slice().reverse()),{viewPieceList:u,endsText:v}},_createItemSymbol:function(h,u,v){h.add(i(this.getControllerVisual(u,"symbol"),v[0],v[1],v[2],v[3],this.getControllerVisual(u,"color")))},_onItemClick:function(h){var u=this.visualMapModel,v=u.option,l=e.clone(v.selected),f=u.getSelectedMapKey(h);v.selectedMode==="single"?(l[f]=!0,e.each(l,function(d,m){l[m]=m===f})):l[f]=!l[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}}),n=p;return cf=n,cf}var oA;function _D(){if(oA)return aA;oA=1;var e=ye,t=vD();return hD(),cD(),wG(),AG(),mD(),e.registerPreprocessor(t),aA}var sA;function TG(){return sA||(sA=1,yD(),_D()),qw}var lA={},uA={},Zi={},vA;function xD(){if(vA)return Zi;vA=1;var e=nt,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function o(n){return s(n)}var s;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),s=function(n){return i.createElement("<zrvml:"+n+' class="zrvml">')}}catch{s=function(h){return i.createElement("<"+h+' xmlns="'+t+'" class="zrvml">')}}function p(){if(!(a||!i)){a=!0;var n=i.styleSheets;n.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Zi.doc=i,Zi.createNode=o,Zi.initVML=p,Zi}var hA;function CG(){if(hA)return uA;hA=1;var e=nt,t=Ye(),r=t.applyTransform,a=Ke,i=ut,o=Ue,s=sr,p=LT(),n=xn,h=di,u=Ca,v=at,l=pi,f=ss,d=xD(),m=l.CMD,c=Math.round,g=Math.sqrt,y=Math.abs,_=Math.cos,A=Math.sin,b=Math.max;if(!e.canvasSupported){var w=",",x="progid:DXImageTransform.Microsoft",S=21600,T=S/2,C=1e5,M=1e3,D=function(ie){ie.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",ie.coordsize=S+","+S,ie.coordorigin="0,0"},L=function(ie){return String(ie).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},I=function(ie,ne,de){return"rgb("+[ie,ne,de].join(",")+")"},P=function(ie,ne){ne&&ie&&ne.parentNode!==ie&&ie.appendChild(ne)},E=function(ie,ne){ne&&ie&&ne.parentNode===ie&&ie.removeChild(ne)},O=function(ie,ne,de){return(parseFloat(ie)||0)*C+(parseFloat(ne)||0)*M+de},B=s.parsePercent,q=function(ie,ne,de){var Z=i.parse(ne);de=+de,isNaN(de)&&(de=1),Z&&(ie.color=I(Z[0],Z[1],Z[2]),ie.opacity=de*Z[3])},V=function(ie){var ne=i.parse(ie);return[I(ne[0],ne[1],ne[2]),ne[3]]},R=function(ie,ne,de){var Z=ne.fill;if(Z!=null)if(Z instanceof f){var X,J=0,ue=[0,0],le=0,ve=1,he=de.getBoundingRect(),pe=he.width,_e=he.height;if(Z.type==="linear"){X="gradient";var Ce=de.transform,Me=[Z.x*pe,Z.y*_e],Ae=[Z.x2*pe,Z.y2*_e];Ce&&(r(Me,Me,Ce),r(Ae,Ae,Ce));var Be=Ae[0]-Me[0],Ve=Ae[1]-Me[1];J=Math.atan2(Be,Ve)*180/Math.PI,J<0&&(J+=360),J<1e-6&&(J=0)}else{X="gradientradial";var Me=[Z.x*pe,Z.y*_e],Ce=de.transform,We=de.scale,He=pe,Ze=_e;ue=[(Me[0]-he.x)/He,(Me[1]-he.y)/Ze],Ce&&r(Me,Me,Ce),He/=We[0]*S,Ze/=We[1]*S;var Qe=b(He,Ze);le=2*0/Qe,ve=2*Z.r/Qe-le}var Pe=Z.colorStops.slice();Pe.sort(function(Je,wt){return Je.offset-wt.offset});for(var qe=Pe.length,Ne=[],je=[],Fe=0;Fe<qe;Fe++){var et=Pe[Fe],mt=V(et.color);je.push(et.offset*ve+le+" "+mt[0]),(Fe===0||Fe===qe-1)&&Ne.push(mt)}if(qe>=2){var bt=Ne[0][0],Bt=Ne[1][0],cr=Ne[0][1]*ne.opacity,dt=Ne[1][1]*ne.opacity;ie.type=X,ie.method="none",ie.focus="100%",ie.angle=J,ie.color=bt,ie.color2=Bt,ie.colors=je.join(","),ie.opacity=dt,ie.opacity2=cr}X==="radial"&&(ie.focusposition=ue.join(","))}else q(ie,Z,ne.opacity)},z=function(ie,ne){ne.lineDash&&(ie.dashstyle=ne.lineDash.join(" ")),ne.stroke!=null&&!(ne.stroke instanceof f)&&q(ie,ne.stroke,ne.opacity)},k=function(ie,ne,de,Z){var X=ne==="fill",J=ie.getElementsByTagName(ne)[0];de[ne]!=null&&de[ne]!=="none"&&(X||!X&&de.lineWidth)?(ie[X?"filled":"stroked"]="true",de[ne]instanceof f&&E(ie,J),J||(J=d.createNode(ne)),X?R(J,de,Z):z(J,de),P(ie,J)):(ie[X?"filled":"stroked"]="false",E(ie,J))},N=[[],[],[]],G=function(ie,ne){var de=m.M,Z=m.C,X=m.L,J=m.A,ue=m.Q,le=[],ve,he,pe,_e,Ce,Me,Ae=ie.data,Be=ie.len();for(_e=0;_e<Be;){switch(pe=Ae[_e++],he="",ve=0,pe){case de:he=" m ",ve=1,Ce=Ae[_e++],Me=Ae[_e++],N[0][0]=Ce,N[0][1]=Me;break;case X:he=" l ",ve=1,Ce=Ae[_e++],Me=Ae[_e++],N[0][0]=Ce,N[0][1]=Me;break;case ue:case Z:he=" c ",ve=3;var gt=Ae[_e++],Mt=Ae[_e++],Ve=Ae[_e++],We=Ae[_e++],He,Ze;pe===ue?(He=Ve,Ze=We,Ve=(Ve+2*gt)/3,We=(We+2*Mt)/3,gt=(Ce+2*gt)/3,Mt=(Me+2*Mt)/3):(He=Ae[_e++],Ze=Ae[_e++]),N[0][0]=gt,N[0][1]=Mt,N[1][0]=Ve,N[1][1]=We,N[2][0]=He,N[2][1]=Ze,Ce=He,Me=Ze;break;case J:var Qe=0,Pe=0,qe=1,Ne=1,je=0;ne&&(Qe=ne[4],Pe=ne[5],qe=g(ne[0]*ne[0]+ne[1]*ne[1]),Ne=g(ne[2]*ne[2]+ne[3]*ne[3]),je=Math.atan2(-ne[1]/Ne,ne[0]/qe));var Fe=Ae[_e++],et=Ae[_e++],mt=Ae[_e++],bt=Ae[_e++],Bt=Ae[_e++]+je,cr=Ae[_e++]+Bt+je;_e++;var dt=Ae[_e++],Je=Fe+_(Bt)*mt,wt=et+A(Bt)*bt,gt=Fe+_(cr)*mt,Mt=et+A(cr)*bt,Gr=dt?" wa ":" at ";Math.abs(Je-gt)<1e-4&&(Math.abs(cr-Bt)>.01?dt&&(Je+=270/S):Math.abs(wt-et)<1e-4?dt&&Je<Fe||!dt&&Je>Fe?Mt-=270/S:Mt+=270/S:dt&&wt<et||!dt&&wt>et?gt+=270/S:gt-=270/S),le.push(Gr,c(((Fe-mt)*qe+Qe)*S-T),w,c(((et-bt)*Ne+Pe)*S-T),w,c(((Fe+mt)*qe+Qe)*S-T),w,c(((et+bt)*Ne+Pe)*S-T),w,c((Je*qe+Qe)*S-T),w,c((wt*Ne+Pe)*S-T),w,c((gt*qe+Qe)*S-T),w,c((Mt*Ne+Pe)*S-T)),Ce=gt,Me=Mt;break;case m.R:var st=N[0],yt=N[1];st[0]=Ae[_e++],st[1]=Ae[_e++],yt[0]=st[0]+Ae[_e++],yt[1]=st[1]+Ae[_e++],ne&&(r(st,st,ne),r(yt,yt,ne)),st[0]=c(st[0]*S-T),yt[0]=c(yt[0]*S-T),st[1]=c(st[1]*S-T),yt[1]=c(yt[1]*S-T),le.push(" m ",st[0],w,st[1]," l ",yt[0],w,st[1]," l ",yt[0],w,yt[1]," l ",st[0],w,yt[1]);break;case m.Z:le.push(" x ")}if(ve>0){le.push(he);for(var Fr=0;Fr<ve;Fr++){var ka=N[Fr];ne&&r(ka,ka,ne),le.push(c(ka[0]*S-T),w,c(ka[1]*S-T),Fr<ve-1?w:"")}}}return le.join("")};v.prototype.brushVML=function(ie){var ne=this.style,de=this._vmlEl;de||(de=d.createNode("shape"),D(de),this._vmlEl=de),k(de,"fill",ne,this),k(de,"stroke",ne,this);var Z=this.transform,X=Z!=null,J=de.getElementsByTagName("stroke")[0];if(J){var ue=ne.lineWidth;if(X&&!ne.strokeNoScale){var le=Z[0]*Z[3]-Z[1]*Z[2];ue*=g(y(le))}J.weight=ue+"px"}var ve=this.path||(this.path=new l);this.__dirtyPath&&(ve.beginPath(),ve.subPixelOptimize=!1,this.buildPath(ve,this.shape),ve.toStatic(),this.__dirtyPath=!1),de.path=G(ve,this.transform),de.style.zIndex=O(this.zlevel,this.z,this.z2),P(ie,de),ne.text!=null?this.drawRectText(ie,this.getBoundingRect()):this.removeRectText(ie)},v.prototype.onRemove=function(ie){E(ie,this._vmlEl),this.removeRectText(ie)},v.prototype.onAdd=function(ie){P(ie,this._vmlEl),this.appendRectText(ie)};var H=function(ie){return typeof ie=="object"&&ie.tagName&&ie.tagName.toUpperCase()==="IMG"};h.prototype.brushVML=function(ie){var ne=this.style,de=ne.image,Z,X;if(H(de)){var J=de.src;if(J===this._imageSrc)Z=this._imageWidth,X=this._imageHeight;else{var ue=de.runtimeStyle,le=ue.width,ve=ue.height;ue.width="auto",ue.height="auto",Z=de.width,X=de.height,ue.width=le,ue.height=ve,this._imageSrc=J,this._imageWidth=Z,this._imageHeight=X}de=J}else de===this._imageSrc&&(Z=this._imageWidth,X=this._imageHeight);if(de){var he=ne.x||0,pe=ne.y||0,_e=ne.width,Ce=ne.height,Me=ne.sWidth,Ae=ne.sHeight,Be=ne.sx||0,Ve=ne.sy||0,We=Me&&Ae,He=this._vmlEl;He||(He=d.doc.createElement("div"),D(He),this._vmlEl=He);var Ze=He.style,Qe=!1,Pe,qe=1,Ne=1;if(this.transform&&(Pe=this.transform,qe=g(Pe[0]*Pe[0]+Pe[1]*Pe[1]),Ne=g(Pe[2]*Pe[2]+Pe[3]*Pe[3]),Qe=Pe[1]||Pe[2]),Qe){var je=[he,pe],Fe=[he+_e,pe],et=[he,pe+Ce],mt=[he+_e,pe+Ce];r(je,je,Pe),r(Fe,Fe,Pe),r(et,et,Pe),r(mt,mt,Pe);var bt=b(je[0],Fe[0],et[0],mt[0]),Bt=b(je[1],Fe[1],et[1],mt[1]),cr=[];cr.push("M11=",Pe[0]/qe,w,"M12=",Pe[2]/Ne,w,"M21=",Pe[1]/qe,w,"M22=",Pe[3]/Ne,w,"Dx=",c(he*qe+Pe[4]),w,"Dy=",c(pe*Ne+Pe[5])),Ze.padding="0 "+c(bt)+"px "+c(Bt)+"px 0",Ze.filter=x+".Matrix("+cr.join("")+", SizingMethod=clip)"}else Pe&&(he=he*qe+Pe[4],pe=pe*Ne+Pe[5]),Ze.filter="",Ze.left=c(he)+"px",Ze.top=c(pe)+"px";var dt=this._imageEl,Je=this._cropEl;dt||(dt=d.doc.createElement("div"),this._imageEl=dt);var wt=dt.style;if(We){if(Z&&X)wt.width=c(qe*Z*_e/Me)+"px",wt.height=c(Ne*X*Ce/Ae)+"px";else{var gt=new Image,Mt=this;gt.onload=function(){gt.onload=null,Z=gt.width,X=gt.height,wt.width=c(qe*Z*_e/Me)+"px",wt.height=c(Ne*X*Ce/Ae)+"px",Mt._imageWidth=Z,Mt._imageHeight=X,Mt._imageSrc=de},gt.src=de}Je||(Je=d.doc.createElement("div"),Je.style.overflow="hidden",this._cropEl=Je);var Gr=Je.style;Gr.width=c((_e+Be*_e/Me)*qe),Gr.height=c((Ce+Ve*Ce/Ae)*Ne),Gr.filter=x+".Matrix(Dx="+-Be*_e/Me*qe+",Dy="+-Ve*Ce/Ae*Ne+")",Je.parentNode||He.appendChild(Je),dt.parentNode!==Je&&Je.appendChild(dt)}else wt.width=c(qe*_e)+"px",wt.height=c(Ne*Ce)+"px",He.appendChild(dt),Je&&Je.parentNode&&(He.removeChild(Je),this._cropEl=null);var st="",yt=ne.opacity;yt<1&&(st+=".Alpha(opacity="+c(yt*100)+") "),st+=x+".AlphaImageLoader(src="+de+", SizingMethod=scale)",wt.filter=st,He.style.zIndex=O(this.zlevel,this.z,this.z2),P(ie,He),ne.text!=null&&this.drawRectText(ie,this.getBoundingRect())}},h.prototype.onRemove=function(ie){E(ie,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(ie)},h.prototype.onAdd=function(ie){P(ie,this._vmlEl),this.appendRectText(ie)};var F="normal",$={},U=0,K=100,Q=document.createElement("div"),j=function(ie){var ne=$[ie];if(!ne){U>K&&(U=0,$={});var de=Q.style,Z;try{de.font=ie,Z=de.fontFamily.split(",")[0]}catch{}ne={style:de.fontStyle||F,variant:de.fontVariant||F,weight:de.fontWeight||F,size:parseFloat(de.fontSize||12)|0,family:Z||"Microsoft YaHei"},$[ie]=ne,U++}return ne},ee;o.$override("measureText",function(ie,ne){var de=d.doc;ee||(ee=de.createElement("div"),ee.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",d.doc.body.appendChild(ee));try{ee.style.font=ne}catch{}return ee.innerHTML="",ee.appendChild(de.createTextNode(ie)),{width:ee.offsetWidth}});for(var re=new a,te=function(ie,ne,de,Z){var X=this.style;this.__dirty&&s.normalizeTextStyle(X,!0);var J=X.text;if(J!=null&&(J+=""),!!J){if(X.rich){var ue=o.parseRichText(J,X);J=[];for(var le=0;le<ue.lines.length;le++){for(var ve=ue.lines[le].tokens,he=[],pe=0;pe<ve.length;pe++)he.push(ve[pe].text);J.push(he.join(""))}J=J.join(`
`)}var _e,Ce,Me=X.textAlign,Ae=X.textVerticalAlign,Be=j(X.font),Ve=Be.style+" "+Be.variant+" "+Be.weight+" "+Be.size+'px "'+Be.family+'"';de=de||o.getBoundingRect(J,Ve,Me,Ae,X.textPadding,X.textLineHeight);var We=this.transform;if(We&&!Z&&(re.copy(ne),re.applyTransform(We),ne=re),Z)_e=ne.x,Ce=ne.y;else{var He=X.textPosition;if(He instanceof Array)_e=ne.x+B(He[0],ne.width),Ce=ne.y+B(He[1],ne.height),Me=Me||"left";else{var Ze=this.calculateTextPosition?this.calculateTextPosition({},X,ne):o.calculateTextPosition({},X,ne);_e=Ze.x,Ce=Ze.y,Me=Me||Ze.textAlign,Ae=Ae||Ze.textVerticalAlign}}_e=o.adjustTextX(_e,de.width,Me),Ce=o.adjustTextY(Ce,de.height,Ae),Ce+=de.height/2;var Qe=d.createNode,Pe=this._textVmlEl,qe,Ne,je;Pe?(je=Pe.firstChild,qe=je.nextSibling,Ne=qe.nextSibling):(Pe=Qe("line"),qe=Qe("path"),Ne=Qe("textpath"),je=Qe("skew"),Ne.style["v-text-align"]="left",D(Pe),qe.textpathok=!0,Ne.on=!0,Pe.from="0 0",Pe.to="1000 0.05",P(Pe,je),P(Pe,qe),P(Pe,Ne),this._textVmlEl=Pe);var Fe=[_e,Ce],et=Pe.style;We&&Z?(r(Fe,Fe,We),je.on=!0,je.matrix=We[0].toFixed(3)+w+We[2].toFixed(3)+w+We[1].toFixed(3)+w+We[3].toFixed(3)+",0,0",je.offset=(c(Fe[0])||0)+","+(c(Fe[1])||0),je.origin="0 0",et.left="0px",et.top="0px"):(je.on=!1,et.left=c(_e)+"px",et.top=c(Ce)+"px"),Ne.string=L(J);try{Ne.style.font=Ve}catch{}k(Pe,"fill",{fill:X.textFill,opacity:X.opacity},this),k(Pe,"stroke",{stroke:X.textStroke,opacity:X.opacity,lineDash:X.lineDash||null},this),Pe.style.zIndex=O(this.zlevel,this.z,this.z2),P(ie,Pe)}},oe=function(ie){E(ie,this._textVmlEl),this._textVmlEl=null},xe=function(ie){P(ie,this._textVmlEl)},se=[p,n,h,v,u],ge=0;ge<se.length;ge++){var we=se[ge].prototype;we.drawRectText=te,we.removeRectText=oe,we.appendRectText=xe}u.prototype.brushVML=function(ie){var ne=this.style;ne.text!=null?this.drawRectText(ie,{x:ne.x||0,y:ne.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(ie)},u.prototype.onRemove=function(ie){this.removeRectText(ie)},u.prototype.onAdd=function(ie){this.appendRectText(ie)}}return uA}var ff,cA;function MG(){if(cA)return ff;cA=1;var e=pn,t=xD(),r=W,a=r.each;function i(n){return parseInt(n,10)}function o(n,h){t.initVML(),this.root=n,this.storage=h;var u=document.createElement("div"),v=document.createElement("div");u.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",v.style.cssText="position:absolute;left:0;top:0;",n.appendChild(u),this._vmlRoot=v,this._vmlViewport=u,this.resize();var l=h.delFromStorage,f=h.addToStorage;h.delFromStorage=function(d){l.call(h,d),d&&d.onRemove&&d.onRemove(v)},h.addToStorage=function(d){d.onAdd&&d.onAdd(v),f.call(h,d)},this._firstPaint=!0}o.prototype={constructor:o,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var h=this._vmlRoot,u=0;u<n.length;u++){var v=n[u];v.invisible||v.ignore?(v.__alreadyNotVisible||v.onRemove(h),v.__alreadyNotVisible=!0):(v.__alreadyNotVisible&&v.onAdd(h),v.__alreadyNotVisible=!1,v.__dirty&&(v.beforeBrush&&v.beforeBrush(),(v.brushVML||v.brush).call(v,h),v.afterBrush&&v.afterBrush())),v.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(h),this._firstPaint=!1)},resize:function(u,v){var u=u??this._getWidth(),v=v??this._getHeight();if(this._width!==u||this._height!==v){this._width=u,this._height=v;var l=this._vmlViewport.style;l.width=u+"px",l.height=v+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var n=this.root,h=n.currentStyle;return(n.clientWidth||i(h.width))-i(h.paddingLeft)-i(h.paddingRight)|0},_getHeight:function(){var n=this.root,h=n.currentStyle;return(n.clientHeight||i(h.height))-i(h.paddingTop)-i(h.paddingBottom)|0}};function s(n){return function(){e('In IE8.0 VML mode painter not support method "'+n+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){o.prototype[n]=s(n)});var p=o;return ff=p,ff}var fA;function DG(){if(fA)return lA;fA=1,CG();var e=Hr,t=e.registerPainter,r=MG();return t("vml",r),lA}var dA={},Yi={},df={},gA;function Rg(){if(gA)return df;gA=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return df.createElement=t,df}var pA;function Eg(){if(pA)return Yi;pA=1;var e=Rg(),t=e.createElement,r=pi,a=Ke,i=Rt(),o=Ue,s=sr,p=Ca,n=r.CMD,h=Array.prototype.join,u="none",v=Math.round,l=Math.sin,f=Math.cos,d=Math.PI,m=Math.PI*2,c=180/d,g=1e-4;function y(k){return v(k*1e4)/1e4}function _(k){return k<g&&k>-g}function A(k,N){var G=N?k.textFill:k.fill;return G!=null&&G!==u}function b(k,N){var G=N?k.textStroke:k.stroke;return G!=null&&G!==u}function w(k,N){N&&x(k,"transform","matrix("+h.call(N,",")+")")}function x(k,N,G){(!G||G.type!=="linear"&&G.type!=="radial")&&k.setAttribute(N,G)}function S(k,N,G){k.setAttributeNS("http://www.w3.org/1999/xlink",N,G)}function T(k,N,G,H){if(A(N,G)){var F=G?N.textFill:N.fill;F=F==="transparent"?u:F,x(k,"fill",F),x(k,"fill-opacity",N.fillOpacity!=null?N.fillOpacity*N.opacity:N.opacity)}else x(k,"fill",u);if(b(N,G)){var $=G?N.textStroke:N.stroke;$=$==="transparent"?u:$,x(k,"stroke",$);var U=G?N.textStrokeWidth:N.lineWidth,K=!G&&N.strokeNoScale?H.getLineScale():1;x(k,"stroke-width",U/K),x(k,"paint-order",G?"stroke":"fill"),x(k,"stroke-opacity",N.strokeOpacity!=null?N.strokeOpacity:N.opacity);var Q=N.lineDash;Q?(x(k,"stroke-dasharray",N.lineDash.join(",")),x(k,"stroke-dashoffset",v(N.lineDashOffset||0))):x(k,"stroke-dasharray",""),N.lineCap&&x(k,"stroke-linecap",N.lineCap),N.lineJoin&&x(k,"stroke-linejoin",N.lineJoin),N.miterLimit&&x(k,"stroke-miterlimit",N.miterLimit)}else x(k,"stroke",u)}function C(k){for(var N=[],G=k.data,H=k.len(),F=0;F<H;){var $=G[F++],U="",K=0;switch($){case n.M:U="M",K=2;break;case n.L:U="L",K=2;break;case n.Q:U="Q",K=4;break;case n.C:U="C",K=6;break;case n.A:var Q=G[F++],j=G[F++],ee=G[F++],re=G[F++],te=G[F++],oe=G[F++],xe=G[F++],se=G[F++],ge=Math.abs(oe),we=_(ge-m)||(se?oe>=m:-oe>=m),ie=oe>0?oe%m:oe%m+m,ne=!1;we?ne=!0:_(ge)?ne=!1:ne=ie>=d==!!se;var de=y(Q+ee*f(te)),Z=y(j+re*l(te));we&&(se?oe=m-1e-4:oe=-m+1e-4,ne=!0,F===9&&N.push("M",de,Z));var X=y(Q+ee*f(te+oe)),J=y(j+re*l(te+oe));N.push("A",y(ee),y(re),v(xe*c),+ne,+se,X,J);break;case n.Z:U="Z";break;case n.R:var X=y(G[F++]),J=y(G[F++]),ue=y(G[F++]),le=y(G[F++]);N.push("M",X,J,"L",X+ue,J,"L",X+ue,J+le,"L",X,J+le,"L",X,J);break}U&&N.push(U);for(var ve=0;ve<K;ve++)N.push(y(G[F++]))}return N.join(" ")}var M={};M.brush=function(k){var N=k.style,G=k.__svgEl;G||(G=t("path"),k.__svgEl=G),k.path||k.createPathProxy();var H=k.path;if(k.__dirtyPath){H.beginPath(),H.subPixelOptimize=!1,k.buildPath(H,k.shape),k.__dirtyPath=!1;var F=C(H);F.indexOf("NaN")<0&&x(G,"d",F)}T(G,N,!1,k),w(G,k.transform),N.text!=null?B(k,k.getBoundingRect()):z(k)};var D={};D.brush=function(k){var N=k.style,G=N.image;if(G instanceof HTMLImageElement){var H=G.src;G=H}if(G){var F=N.x||0,$=N.y||0,U=N.width,K=N.height,Q=k.__svgEl;Q||(Q=t("image"),k.__svgEl=Q),G!==k.__imageSrc&&(S(Q,"href",G),k.__imageSrc=G),x(Q,"width",U),x(Q,"height",K),x(Q,"x",F),x(Q,"y",$),w(Q,k.transform),N.text!=null?B(k,k.getBoundingRect()):z(k)}};var L={},I=new a,P={},E=[],O={left:"start",right:"end",center:"middle",middle:"middle"},B=function(k,N){var G=k.style,H=k.transform,F=k instanceof p||G.transformText;k.__dirty&&s.normalizeTextStyle(G,!0);var $=G.text;if($!=null&&($+=""),!!s.needDrawText($,G)){$==null&&($=""),!F&&H&&(I.copy(N),I.applyTransform(H),N=I);var U=k.__textSvgEl;U||(U=t("text"),k.__textSvgEl=U);var K=U.style,Q=G.font||o.DEFAULT_FONT,j=U.__computedFont;Q!==U.__styleFont&&(K.font=U.__styleFont=Q,j=U.__computedFont=K.font);var ee=G.textPadding,re=G.textLineHeight,te=k.__textCotentBlock;(!te||k.__dirtyText)&&(te=k.__textCotentBlock=o.parsePlainText($,j,ee,re,G.truncate));var oe=te.outerHeight,xe=te.lineHeight;s.getBoxPosition(P,k,G,N);var se=P.baseX,ge=P.baseY,we=P.textAlign||"left",ie=P.textVerticalAlign;q(U,F,H,G,N,se,ge);var ne=o.adjustTextY(ge,oe,ie),de=se,Z=ne;ee&&(de=V(se,we,ee),Z+=ee[0]),Z+=xe/2,T(U,G,!0,k);var X=te.canCacheByTextString,J=k.__tspanList||(k.__tspanList=[]),ue=J.length;if(X&&k.__canCacheByTextString&&k.__text===$){if(k.__dirtyText&&ue)for(var le=0;le<ue;++le)R(J[le],we,de,Z+le*xe)}else{k.__text=$,k.__canCacheByTextString=X;for(var ve=te.lines,he=ve.length,le=0;le<he;le++){var pe=J[le],_e=ve[le];pe?pe.__zrText!==_e&&(pe.innerHTML="",pe.appendChild(document.createTextNode(_e))):(pe=J[le]=t("tspan"),U.appendChild(pe),pe.appendChild(document.createTextNode(_e))),R(pe,we,de,Z+le*xe)}if(ue>he){for(;le<ue;le++)U.removeChild(J[le]);J.length=he}}}};function q(k,N,G,H,F,$,U){i.identity(E),N&&G&&i.copy(E,G);var K=H.textRotation;if(F&&K){var Q=H.textOrigin;Q==="center"?($=F.width/2+F.x,U=F.height/2+F.y):Q&&($=Q[0]+F.x,U=Q[1]+F.y),E[4]-=$,E[5]-=U,i.rotate(E,E,K),E[4]+=$,E[5]+=U}w(k,E)}function V(k,N,G){return N==="right"?k-G[1]:N==="center"?k+G[3]/2-G[1]/2:k+G[3]}function R(k,N,G,H){x(k,"dominant-baseline","middle"),x(k,"text-anchor",O[N]),x(k,"x",G),x(k,"y",H)}function z(k){k&&k.__textSvgEl&&(k.__textSvgEl.parentNode&&k.__textSvgEl.parentNode.removeChild(k.__textSvgEl),k.__textSvgEl=null,k.__tspanList=[],k.__text=null)}return L.drawRectText=B,L.brush=function(k){var N=k.style;N.text!=null?B(k,!1):z(k)},Yi.path=M,Yi.image=D,Yi.text=L,Yi}var gf,mA;function LG(){if(mA)return gf;mA=1;function e(){}e.prototype={diff:function(o,s,p){p||(p=function(_,A){return _===A}),this.equals=p;var n=this;o=o.slice(),s=s.slice();var h=s.length,u=o.length,v=1,l=h+u,f=[{newPos:-1,components:[]}],d=this.extractCommon(f[0],s,o,0);if(f[0].newPos+1>=h&&d+1>=u){for(var m=[],c=0;c<s.length;c++)m.push(c);return[{indices:m,count:s.length}]}function g(){for(var _=-1*v;_<=v;_+=2){var A,b=f[_-1],w=f[_+1],x=(w?w.newPos:0)-_;b&&(f[_-1]=void 0);var S=b&&b.newPos+1<h,T=w&&0<=x&&x<u;if(!S&&!T){f[_]=void 0;continue}if(!S||T&&b.newPos<w.newPos?(A=r(w),n.pushComponent(A.components,void 0,!0)):(A=b,A.newPos++,n.pushComponent(A.components,!0,void 0)),x=n.extractCommon(A,s,o,_),A.newPos+1>=h&&x+1>=u)return t(n,A.components);f[_]=A}v++}for(;v<=l;){var y=g();if(y)return y}},pushComponent:function(o,s,p){var n=o[o.length-1];n&&n.added===s&&n.removed===p?o[o.length-1]={count:n.count+1,added:s,removed:p}:o.push({count:1,added:s,removed:p})},extractCommon:function(o,s,p,n){for(var h=s.length,u=p.length,v=o.newPos,l=v-n,f=0;v+1<h&&l+1<u&&this.equals(s[v+1],p[l+1]);)v++,l++,f++;return f&&o.components.push({count:f}),o.newPos=v,l},tokenize:function(o){return o.slice()},join:function(o){return o.slice()}};function t(o,s,p,n){for(var h=0,u=s.length,v=0,l=0;h<u;h++){var f=s[h];if(f.removed){for(var d=[],m=l;m<l+f.count;m++)d.push(m);f.indices=d,l+=f.count}else{for(var d=[],m=v;m<v+f.count;m++)d.push(m);f.indices=d,v+=f.count,f.added||(l+=f.count)}}return s}function r(o){return{newPos:o.newPos,components:o.components.slice(0)}}var a=new e;function i(o,s,p){return a.diff(o,s,p)}return gf=i,gf}var pf,yA;function kg(){if(yA)return pf;yA=1;var e=Rg(),t=e.createElement,r=W,a=at,i=di,o=Ca,s=Eg(),p=s.path,n=s.image,h=s.text,u="0",v="1";function l(d,m,c,g,y){this._zrId=d,this._svgRoot=m,this._tagNames=typeof c=="string"?[c]:c,this._markLabel=g,this._domName=y||"_dom",this.nextId=0}l.prototype.createElement=t,l.prototype.getDefs=function(d){var m=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return c.length===0?d?(c=m.insertBefore(this.createElement("defs"),m.firstChild),c.contains||(c.contains=function(g){var y=c.children;if(!y)return!1;for(var _=y.length-1;_>=0;--_)if(y[_]===g)return!0;return!1}),c):null:c[0]},l.prototype.update=function(d,m){if(d){var c=this.getDefs(!1);if(d[this._domName]&&c.contains(d[this._domName]))typeof m=="function"&&m(d);else{var g=this.add(d);g&&(d[this._domName]=g)}}},l.prototype.addDom=function(d){var m=this.getDefs(!0);m.appendChild(d)},l.prototype.removeDom=function(d){var m=this.getDefs(!1);m&&d[this._domName]&&(m.removeChild(d[this._domName]),d[this._domName]=null)},l.prototype.getDoms=function(){var d=this.getDefs(!1);if(!d)return[];var m=[];return r.each(this._tagNames,function(c){var g=d.getElementsByTagName(c);m=m.concat([].slice.call(g))}),m},l.prototype.markAllUnused=function(){var d=this.getDoms(),m=this;r.each(d,function(c){c[m._markLabel]=u})},l.prototype.markUsed=function(d){d&&(d[this._markLabel]=v)},l.prototype.removeUnused=function(){var d=this.getDefs(!1);if(d){var m=this.getDoms(),c=this;r.each(m,function(g){g[c._markLabel]!==v&&d.removeChild(g)})}},l.prototype.getSvgProxy=function(d){return d instanceof a?p:d instanceof i?n:d instanceof o?h:p},l.prototype.getTextSvgElement=function(d){return d.__textSvgEl},l.prototype.getSvgElement=function(d){return d.__svgEl};var f=l;return pf=f,pf}var mf,_A;function IG(){if(_A)return mf;_A=1;var e=kg(),t=W,r=pn,a=ut;function i(s,p){e.call(this,s,p,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(i,e),i.prototype.addWithoutUpdate=function(s,p){if(p&&p.style){var n=this;t.each(["fill","stroke"],function(h){if(p.style[h]&&(p.style[h].type==="linear"||p.style[h].type==="radial")){var u=p.style[h],v=n.getDefs(!0),l;u._dom?(l=u._dom,v.contains(u._dom)||n.addDom(l)):l=n.add(u),n.markUsed(p);var f=l.getAttribute("id");s.setAttribute(h,"url(#"+f+")")}})}},i.prototype.add=function(s){var p;if(s.type==="linear")p=this.createElement("linearGradient");else if(s.type==="radial")p=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return s.id=s.id||this.nextId++,p.setAttribute("id","zr"+this._zrId+"-gradient-"+s.id),this.updateDom(s,p),this.addDom(p),p},i.prototype.update=function(s){var p=this;e.prototype.update.call(this,s,function(){var n=s.type,h=s._dom.tagName;n==="linear"&&h==="linearGradient"||n==="radial"&&h==="radialGradient"?p.updateDom(s,s._dom):(p.removeDom(s),p.add(s))})},i.prototype.updateDom=function(s,p){if(s.type==="linear")p.setAttribute("x1",s.x),p.setAttribute("y1",s.y),p.setAttribute("x2",s.x2),p.setAttribute("y2",s.y2);else if(s.type==="radial")p.setAttribute("cx",s.x),p.setAttribute("cy",s.y),p.setAttribute("r",s.r);else{r("Illegal gradient type.");return}s.global?p.setAttribute("gradientUnits","userSpaceOnUse"):p.setAttribute("gradientUnits","objectBoundingBox"),p.innerHTML="";for(var n=s.colorStops,h=0,u=n.length;h<u;++h){var v=this.createElement("stop");v.setAttribute("offset",n[h].offset*100+"%");var l=n[h].color;if(l.indexOf("rgba")>-1){var f=a.parse(l)[3],d=a.toHex(l);v.setAttribute("stop-color","#"+d),v.setAttribute("stop-opacity",f)}else v.setAttribute("stop-color",n[h].color);p.appendChild(v)}s._dom=p},i.prototype.markUsed=function(s){if(s.style){var p=s.style.fill;p&&p._dom&&e.prototype.markUsed.call(this,p._dom),p=s.style.stroke,p&&p._dom&&e.prototype.markUsed.call(this,p._dom)}};var o=i;return mf=o,mf}var yf,xA;function PG(){if(xA)return yf;xA=1;var e=kg(),t=W,r=Rt();function a(o,s){e.call(this,o,s,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(o){var s=this.getSvgElement(o);s&&this.updateDom(s,o.__clipPaths,!1);var p=this.getTextSvgElement(o);p&&this.updateDom(p,o.__clipPaths,!0),this.markUsed(o)},a.prototype.updateDom=function(o,s,p){if(s&&s.length>0){var n=this.getDefs(!0),h=s[0],u,v,l=p?"_textDom":"_dom";h[l]?(v=h[l].getAttribute("id"),u=h[l],n.contains(u)||n.appendChild(u)):(v="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,u=this.createElement("clipPath"),u.setAttribute("id",v),n.appendChild(u),h[l]=u);var f=this.getSvgProxy(h);if(h.transform&&h.parent.invTransform&&!p){var d=Array.prototype.slice.call(h.transform);r.mul(h.transform,h.parent.invTransform,h.transform),f.brush(h),h.transform=d}else f.brush(h);var m=this.getSvgElement(h);u.innerHTML="",u.appendChild(m.cloneNode()),o.setAttribute("clip-path","url(#"+v+")"),s.length>1&&this.updateDom(u,s.slice(1),p)}else o&&o.setAttribute("clip-path","none")},a.prototype.markUsed=function(o){var s=this;o.__clipPaths&&t.each(o.__clipPaths,function(p){p._dom&&e.prototype.markUsed.call(s,p._dom),p._textDom&&e.prototype.markUsed.call(s,p._textDom)})};var i=a;return yf=i,yf}var _f,SA;function RG(){if(SA)return _f;SA=1;var e=kg(),t=W;function r(o,s){e.call(this,o,s,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(o,s){if(s&&a(s.style)){var p;if(s._shadowDom){p=s._shadowDom;var n=this.getDefs(!0);n.contains(s._shadowDom)||this.addDom(p)}else p=this.add(s);this.markUsed(s);var h=p.getAttribute("id");o.style.filter="url(#"+h+")"}},r.prototype.add=function(o){var s=this.createElement("filter");return o._shadowDomId=o._shadowDomId||this.nextId++,s.setAttribute("id","zr"+this._zrId+"-shadow-"+o._shadowDomId),this.updateDom(o,s),this.addDom(s),s},r.prototype.update=function(o,s){var p=s.style;if(a(p)){var n=this;e.prototype.update.call(this,s,function(){n.updateDom(s,s._shadowDom)})}else this.remove(o,s)},r.prototype.remove=function(o,s){s._shadowDomId!=null&&(this.removeDom(o),o.style.filter="")},r.prototype.updateDom=function(o,s){var p=s.getElementsByTagName("feDropShadow");p.length===0?p=this.createElement("feDropShadow"):p=p[0];var n=o.style,h=o.scale&&o.scale[0]||1,u=o.scale&&o.scale[1]||1,v,l,f,d;if(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)v=n.shadowOffsetX||0,l=n.shadowOffsetY||0,f=n.shadowBlur,d=n.shadowColor;else if(n.textShadowBlur)v=n.textShadowOffsetX||0,l=n.textShadowOffsetY||0,f=n.textShadowBlur,d=n.textShadowColor;else{this.removeDom(s,n);return}p.setAttribute("dx",v/h),p.setAttribute("dy",l/u),p.setAttribute("flood-color",d);var m=f/2/h,c=f/2/u,g=m+" "+c;p.setAttribute("stdDeviation",g),s.setAttribute("x","-100%"),s.setAttribute("y","-100%"),s.setAttribute("width",Math.ceil(f/2*200)+"%"),s.setAttribute("height",Math.ceil(f/2*200)+"%"),s.appendChild(p),o._shadowDom=s},r.prototype.markUsed=function(o){o._shadowDom&&e.prototype.markUsed.call(this,o._shadowDom)};function a(o){return o&&(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY||o.textShadowBlur||o.textShadowOffsetX||o.textShadowOffsetY)}var i=r;return _f=i,_f}var xf,bA;function EG(){if(bA)return xf;bA=1;var e=Rg(),t=e.createElement,r=W,a=pn,i=at,o=di,s=Ca,p=LG(),n=IG(),h=PG(),u=RG(),v=Eg(),l=v.path,f=v.image,d=v.text;function m(C){return parseInt(C,10)}function c(C){return C instanceof i?l:C instanceof o?f:C instanceof s?d:l}function g(C,M){return M&&C&&M.parentNode!==C}function y(C,M,D){if(g(C,M)&&D){var L=D.nextSibling;L?C.insertBefore(M,L):C.appendChild(M)}}function _(C,M){if(g(C,M)){var D=C.firstChild;D?C.insertBefore(M,D):C.appendChild(M)}}function A(C,M){M&&C&&M.parentNode===C&&C.removeChild(M)}function b(C){return C.__textSvgEl}function w(C){return C.__svgEl}var x=function(C,M,D,L){this.root=C,this.storage=M,this._opts=D=r.extend({},D||{});var I=t("svg");I.setAttribute("xmlns","http://www.w3.org/2000/svg"),I.setAttribute("version","1.1"),I.setAttribute("baseProfile","full"),I.style.cssText="user-select:none;position:absolute;left:0;top:0;";var P=t("g");I.appendChild(P);var E=t("g");I.appendChild(E),this.gradientManager=new n(L,E),this.clipPathManager=new h(L,E),this.shadowManager=new u(L,E);var O=document.createElement("div");O.style.cssText="overflow:hidden;position:relative",this._svgDom=I,this._svgRoot=E,this._backgroundRoot=P,this._viewport=O,C.appendChild(O),O.appendChild(I),this.resize(D.width,D.height),this._visibleList=[]};x.prototype={constructor:x,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var C=this.getViewportRoot();if(C)return{offsetLeft:C.offsetLeft||0,offsetTop:C.offsetTop||0}},refresh:function(){var C=this.storage.getDisplayList(!0);this._paintList(C)},setBackgroundColor:function(C){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var M=t("rect");M.setAttribute("width",this.getWidth()),M.setAttribute("height",this.getHeight()),M.setAttribute("x",0),M.setAttribute("y",0),M.setAttribute("id",0),M.style.fill=C,this._backgroundRoot.appendChild(M),this._backgroundNode=M},_paintList:function(C){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var M=this._svgRoot,D=this._visibleList,L=C.length,I=[],P;for(P=0;P<L;P++){var E=C[P],O=c(E),B=w(E)||b(E);E.invisible||(E.__dirty&&(O&&O.brush(E),this.clipPathManager.update(E),E.style&&(this.gradientManager.update(E.style.fill),this.gradientManager.update(E.style.stroke),this.shadowManager.update(B,E)),E.__dirty=!1),I.push(E))}var q=p(D,I),V;for(P=0;P<q.length;P++){var R=q[P];if(R.removed)for(var z=0;z<R.count;z++){var E=D[R.indices[z]],B=w(E),k=b(E);A(M,B),A(M,k)}}for(P=0;P<q.length;P++){var R=q[P];if(R.added)for(var z=0;z<R.count;z++){var E=I[R.indices[z]],B=w(E),k=b(E);V?y(M,B,V):_(M,B),B?y(M,k,B):V?y(M,k,V):_(M,k),y(M,k,B),V=k||B||V,this.gradientManager.addWithoutUpdate(B||k,E),this.shadowManager.addWithoutUpdate(B||k,E),this.clipPathManager.markUsed(E)}else if(!R.removed)for(var z=0;z<R.count;z++){var E=I[R.indices[z]],B=w(E),k=b(E),B=w(E),k=b(E);this.gradientManager.markUsed(E),this.gradientManager.addWithoutUpdate(B||k,E),this.shadowManager.markUsed(E),this.shadowManager.addWithoutUpdate(B||k,E),this.clipPathManager.markUsed(E),k&&y(M,k,B),V=B||k||V}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=I},_getDefs:function(C){var M=this._svgDom,D=M.getElementsByTagName("defs");if(D.length===0)if(C){var D=M.insertBefore(t("defs"),M.firstChild);return D.contains||(D.contains=function(I){var P=D.children;if(!P)return!1;for(var E=P.length-1;E>=0;--E)if(P[E]===I)return!0;return!1}),D}else return null;else return D[0]},resize:function(C,M){var D=this._viewport;D.style.display="none";var L=this._opts;if(C!=null&&(L.width=C),M!=null&&(L.height=M),C=this._getSize(0),M=this._getSize(1),D.style.display="",this._width!==C||this._height!==M){this._width=C,this._height=M;var I=D.style;I.width=C+"px",I.height=M+"px";var P=this._svgDom;P.setAttribute("width",C),P.setAttribute("height",M)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",C),this._backgroundNode.setAttribute("height",M))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(C){var M=this._opts,D=["width","height"][C],L=["clientWidth","clientHeight"][C],I=["paddingLeft","paddingTop"][C],P=["paddingRight","paddingBottom"][C];if(M[D]!=null&&M[D]!=="auto")return parseFloat(M[D]);var E=this.root,O=document.defaultView.getComputedStyle(E);return(E[L]||m(O[D])||m(E.style[D]))-(m(O[I])||0)-(m(O[P])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var C=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,`>
\r<`));return"data:image/svg+xml;charset=UTF-8,"+C}};function S(C){return function(){a('In SVG mode painter not support method "'+C+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(C){x.prototype[C]=S(C)});var T=x;return xf=T,xf}var wA;function kG(){if(wA)return dA;wA=1,Eg();var e=Hr,t=e.registerPainter,r=EG();return t("svg",r),dA}(function(e){var t=ye;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=AM();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),fH(),yH(),wH(),MH(),BH(),QH(),a5(),h5(),C5(),I5(),k5(),W5(),j5(),aq(),uq(),fq(),_q(),wq(),Cq(),Hq(),Wq(),jq(),Jq(),h3(),d3(),eD(),UM(),y3(),_3(),P3(),z3(),Vn(),F3(),$3(),J3(),rG(),nG(),lG(),dG(),sD(),xG(),uD(),lD(),TG(),yD(),_D(),DG(),kG()})(AA);const OG={__name:"ChartCell",props:{record:Object},setup(e){const t=e,{record:r}=t,a=ED();let i=null;function o(){if(!r.details)return;const s=r.details.slice(r.details.findIndex(n=>n.time>="09:30:00")),p={animation:!1,grid:[{left:10,bottom:0,right:10,top:0}],xAxis:[{type:"category",data:s.map(n=>n.time),boundaryGap:!1,axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}}],yAxis:[{gridIndex:0,type:"value",scale:!0,splitLine:{show:!1},axisLabel:{show:!1}},{gridIndex:0,type:"value",min:-50,max:50,splitLine:{show:!1},axisLabel:{show:!1}}],tooltip:{trigger:"axis"},series:[{xAxisIndex:0,yAxisIndex:1,name:"vol_pct_chg",data:s.map(n=>n.vol_pct_chg),type:"bar",emphasis:{scale:!1},itemStyle:{color:n=>n.value>0?"#ec0000":"#00da3c"}}]};p&&i.setOption(p)}return kD(()=>{i=AA.init(a.value),o()}),OD(()=>{i&&i.dispose()}),zD(()=>t.record,s=>{i&&s&&o()},{deep:!0}),(s,p)=>(er(),tr("div",{ref_key:"chartRef",ref:a,class:"chart-cell"},null,512))}};const zG={class:"table-container"},BG={class:"row"},NG={key:2},VG={key:3},HG={__name:"Index",setup(e){const{calc_pct_chg:t,calc_percent:r,toFixed:a,fixFloat:i,sum:o,getValueByPath:s}=window.SecretWeapon,p=[{ts_code:"2.931787",name:"港股创新药",etf_ts_code:"513120"},{ts_code:"2.930709",name:"香港证券",etf_ts_code:"513090"},{ts_code:"2.931028",name:"港股通非银CNY",etf_ts_code:"513750"},{ts_code:"2.931637",name:"港股通互联网",etf_ts_code:"159792"},{ts_code:"2.931573",name:"港股通科技",etf_ts_code:"513980"},{ts_code:"124.HSTECH",name:"恒生科技",etf_ts_code:"513180"}],n=(l,f={})=>{let d=0;const{prevday_details:m}=f,c=[];let g=0;const y={time:"09:30:00",s:9*60*60+30*60,close:0,vol:0,total_vol:0},_={time:"15:00:00",s:15*60*60,close:0,vol:0,total_vol:0};return l.data.details.forEach(A=>{var D;let[b,w,x]=A.split(",");x=+x,w=+w,d+=x;const[S,T,C]=b.split(":");let M={time:b,s:+S*60*60+ +T*60+ +C,close:+w,vol:x,total_vol:d};if((b<=y.time||b>=_.time)&&(M=b<=y.time?y:_,M.close=w,M.vol=x,M.total_vol=d),m){for(;m[g].s!==M.s&&((D=m[g+1])==null?void 0:D.s)-M.s<=1;)g+=1;M.prev_detail=m[g],M.vol_pct_chg=t(M.total_vol,M.prev_detail.total_vol)}c.includes(M)||c.push(M)}),c},h=ND(p);fetch("https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=2.931787&klt=101&fqt=1&lmt=66&end=20500000&iscca=1&fields1=f1&fields2=f51").then(l=>l.json()).then(l=>{const[f,d]=l.data.klines.slice(-2).map(c=>c.replaceAll("-",""));function m(c){console.log("storeDetailss",c);for(const g in c){let y=JSON.parse(localStorage.getItem("details_"+g))||[];const _=y.find(A=>A.trade_date===d);_?_.response=c[g]:y.unshift({trade_date:d,response:c[g]}),y.forEach(A=>{A.date&&(A.trade_date=A.date,delete A.date)}),y=y.map(A=>({trade_date:A.trade_date,...A})),localStorage.setItem("details_"+g,JSON.stringify(y))}}h.forEach(c=>{const g=JSON.parse(localStorage.getItem("details_"+c.ts_code))||[],y=g.find(_=>_.trade_date===f);y?c.prevday_details=n(y.response):console.warn("no prevv",c,g)}),h.forEach(function c(g){fetch(`https://push2.eastmoney.com/api/qt/stock/details/get?&secid=${g.ts_code}&pos=-30000&fields1=f1&fields2=f51,f52,f53`).then(y=>y.json()).then(y=>{if(g.details=n(y,g),g.latest=g.details.slice(-1)[0],g.latest){g.latest.time<"15:00:00"?setTimeout(()=>c(g),3e3):m({[g.ts_code]:y});const _=Math.max(...h.map(A=>{var b;return((b=A.latest)==null?void 0:b.vol_pct_chg)||-1/0}));document.title=_}else console.warn(g.ts_code,y,g),setTimeout(()=>c(g),3e3)})})});const u=l=>(l==null||l.forEach(f=>{var d;f.dataIndexStr=[].concat(f==null?void 0:f.dataIndex).filter(Boolean).join("."),(d=f.children)!=null&&d.length&&u(f.children)}),l),v=u([{title:"code",dataIndex:"ts_code",width:100},{title:"name",dataIndex:"name",width:100},{title:"time",dataIndex:["latest","time"],width:90},{title:"chg",dataIndex:["latest","vol_pct_chg"],width:90,align:"right"}]);return(l,f)=>(er(),tr("div",zG,[(er(!0),tr(Gn,null,Vg(h,d=>(er(),tr("div",BG,[(er(!0),tr(Gn,null,Vg(fr(v),m=>{var c;return er(),tr("div",null,[(c=m.dataIndexStr)!=null&&c.endsWith("pct_chg")&&fr(s)(d,m.dataIndex)!=null?(er(),tr("span",{key:1,class:VD([m.dataIndexStr||""])},[HD("span",{class:"getValueByPath(record, column.dataIndex)",style:GD({color:fr(s)(d,m.dataIndex)>0?"red":fr(s)(d,m.dataIndex)<0?"green":"inherit"})},[isNaN(fr(s)(d,m.dataIndex))?(er(),tr(Gn,{key:0},[],64)):(er(),tr(Gn,{key:1},[qD(Os(fr(a)(Math.abs(fr(s)(d,m.dataIndex)),m.precision||2)),1)],64))],4)],2)):m.precision!=null?(er(),tr("span",NG,Os(fr(a)(fr(s)(d,m.dataIndex),m.precision)),1)):m.dataIndex?(er(),tr("span",VG,Os(fr(s)(d,m.dataIndex)),1)):FD("",!0)])}),256)),$D(OG,{record:d},null,8,["record"])]))),256))]))}},GG=BD(HG,[["__scopeId","data-v-11eb81d5"]]);export{GG as default};
