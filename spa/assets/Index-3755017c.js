import{_ as x,y as T,o,c as a,g as I,w,x as _,v as P,t as d,L as l,I as v}from"../main.js";import{T as z}from"./index-d1b92e96.js";import"./useConfigInject-64b7b171.js";import"./index-7e0f7233.js";import"./index-530bf57a.js";import"./omit-8f673a04.js";import"./index-99998ff4.js";const y=[{ts_code:"sh513120",name:"513120港股创新药36",listing_date:"20220712",sumProfitTarget:.6},{ts_code:"sz159892",name:"159892恒生医药50",listing_date:"20211019",sumProfitTarget:.84},{ts_code:"sz159567",name:"159567港股创新药35",listing_date:"20240111",sumProfitTarget:.92},{ts_code:"sz159570",name:"159570港股创新药35",listing_date:"20240122",sumProfitTarget:1.14},{ts_code:"sz159506",name:"159506恒生医疗40",listing_date:"20230703",ignore:"数据太差",sumProfitTarget:1.54},{ts_code:"sh513200",name:"513200恒生医药50",listing_date:"20220211",sumProfitTarget:.84},{ts_code:"sh513700",name:"513700恒生医药50",listing_date:"20210806",sumProfitTarget:.52},{ts_code:"sh513780",name:"513780港股创新药",listing_date:"20241025",sumProfitTarget:.7},{ts_code:"sh520500",name:"520500恒生创新药",listing_date:"20241227",sumProfitTarget:.78},{ts_code:"sh520700",name:"520700港股创新药",listing_date:"20241014",sumProfitTarget:.82},{ts_code:"sz159217",name:"159217港股通创新药",listing_date:"20250403",sumProfitTarget:.94},{ts_code:"sz159316",name:"159316恒生创新药",listing_date:"20250326",sumProfitTarget:1.3},{ts_code:"sz159615",name:"159615恒生生物科技",listing_date:"20220628",sumProfitTarget:1.02},{ts_code:"sz159718",name:"159718恒生医药",listing_date:"20211228",ignore:"各项数据等同513200",sumProfitTarget:1.44}];const b={class:"table-container"},C={key:0},k={key:1},q={key:2},B={__name:"Index",setup(E){const{calc_pct_chg:r,calc_percent:L,toFixed:p,fixFloat:f,sum:S}=window.SecretWeapon,n=T(y);function g(){fetch(`https://web.sqt.gtimg.cn/q=${n.map(e=>e.ts_code).join(",")}`).then(e=>e.text()).then(e=>{const c={};e.split(`
`).filter(Boolean).forEach(t=>{const[h,s]=t.split("="),i=s.split("~"),m={close:+i[3],open:+i[5]||+i[3],high:+i[33],raw:i};c[h.split("_").slice(-1)[0]]=m}),n.forEach(t=>{Object.assign(t,c[t.ts_code]),t.stop_profit_price=Math.ceil(t.open*(1+(t.sumProfitTarget||.8)/100)*1e3)/1e3,t.profit_pct_chg=r(t.stop_profit_price,t.open),t.profit_change=f(t.stop_profit_price-t.open)*1e3,t.close_open_pct_chg=r(t.close,t.open),t.high_open_pct_chg=r(t.high,t.open),t.high>t.stop_profit_price?t.status="success":t.high===t.stop_profit_price?t.status="uncertain":t.status="fail"}),console.log("dataa",{result:c,targetList:P(n)})}),setTimeout(g,500)}g();const u=[{title:"code",dataIndex:"ts_code",width:60},{title:"O",dataIndex:"open",align:"right",width:66},{title:"止",dataIndex:"stop_profit_price",align:"right",width:66},{title:"盈%",dataIndex:"profit_pct_chg",align:"right",width:50},{title:"厘",dataIndex:"profit_change",align:"right",width:40},{title:"H",dataIndex:"high",align:"right",width:66},{title:"H%",dataIndex:"high_open_pct_chg",align:"right",width:66},{title:"C",dataIndex:"close",align:"right",width:66},{title:"C%",dataIndex:"close_open_pct_chg",align:"right",width:66},{}];return(e,c)=>(o(),a("div",b,[I(_(z),{"data-source":n,showSorterTooltip:!1,columns:u,pagination:!1},{bodyCell:w(({column:t,record:h,text:s,value:i,index:m})=>[["ts_code"].includes(t.dataIndex)?(o(),a("div",C,d(s.replace(/sh|sz/,"")),1)):l("",!0),["open","close","stop_profit_price"].includes(t.dataIndex)?(o(),a("div",k,d(_(p)(s,3)),1)):l("",!0),["profit_pct_chg","close_open_pct_chg","high_open_pct_chg"].includes(t.dataIndex)?(o(),a("div",q,d(_(p)(s)),1)):l("",!0),["high"].includes(t.dataIndex)?(o(),a("div",{key:3,class:v([h.status])},d(_(p)(s,3)),3)):l("",!0)]),_:1},8,["data-source"])]))}},M=x(B,[["__scopeId","data-v-bdaafe07"]]);export{M as default};
